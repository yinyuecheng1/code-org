{"version":3,"sources":["droplet-full.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","droplet","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length","1","2","arguments","apply","dup","3","decode","elt","charCodeAt","PLUS","PLUS_URL_SAFE","SLASH","SLASH_URL_SAFE","NUMBER","UPPER","LOWER","b64ToByteArray","b64","push","v","arr","L","j","tmp","placeHolders","len","charAt","Arr","uint8ToBase64","uint8","encode","num","temp","extraBytes","output","Uint8Array","Array","toByteArray","fromByteArray","base64js","4","kMaxLength","Buffer","TYPED_ARRAY_SUPPORT","arg","parent","undefined","fromNumber","fromString","fromObject","that","allocate","checked","string","encoding","byteLength","write","object","isBuffer","fromBuffer","isArray","fromArray","TypeError","ArrayBuffer","buffer","fromTypedArray","fromArrayBuffer","fromArrayLike","fromJsonObject","copy","array","_augment","type","data","__proto__","prototype","_isBuffer","poolSize","rootParent","RangeError","toString","SlowBuffer","subject","buf","loweredCase","utf8ToBytes","base64ToBytes","toLowerCase","slowToString","start","end","Infinity","hexSlice","utf8Slice","asciiSlice","binarySlice","base64Slice","utf16leSlice","hexWrite","offset","Number","remaining","strLen","parsed","parseInt","substr","isNaN","utf8Write","blitBuffer","asciiWrite","asciiToBytes","binaryWrite","base64Write","ucs2Write","utf16leToBytes","base64","slice","Math","min","res","firstByte","codePoint","bytesPerSequence","secondByte","thirdByte","fourthByte","tempCodePoint","decodeCodePointsArray","codePoints","MAX_ARGUMENTS_LENGTH","String","fromCharCode","ret","out","toHex","bytes","checkOffset","ext","checkInt","value","max","objectWriteUInt16","littleEndian","objectWriteUInt32","checkIEEE754","writeFloat","noAssert","ieee754","writeDouble","base64clean","str","stringtrim","replace","INVALID_BASE64_RE","trim","units","leadSurrogate","byteArray","c","hi","lo","src","dst","INSPECT_MAX_BYTES","Bar","foo","constructor","subarray","b","compare","x","y","isEncoding","concat","list","pos","item","equals","inspect","match","join","indexOf","val","byteOffset","arrayIndexOf","foundIndex","get","console","log","readUInt8","set","writeUInt8","isFinite","swap","toJSON","_arr","newBuf","sliceLen","readUIntLE","mul","readUIntBE","readUInt16LE","readUInt16BE","readUInt32LE","readUInt32BE","readIntLE","pow","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","read","readFloatBE","readDoubleLE","readDoubleBE","writeUIntLE","writeUIntBE","floor","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeIntLE","limit","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","target","targetStart","_set","fill","toArrayBuffer","BP","toLocaleString","base64-js","isarray","5","6","EventEmitter","_events","_maxListeners","isFunction","isNumber","isObject","isUndefined","defaultMaxListeners","setMaxListeners","emit","er","handler","args","listeners","error","addListener","listener","m","newListener","warned","trace","on","once","removeListener","fired","position","splice","removeAllListeners","key","listenerCount","emitter","7","./lib/_stream_duplex.js","8","process","Duplex","options","Readable","Writable","readable","writable","allowHalfOpen","onend","_writableState","ended","nextTick","bind","objectKeys","Object","keys","obj","util","inherits","xs","method","./_stream_readable","./_stream_writable","_process","core-util-is","9","PassThrough","Transform","_transform","chunk","cb","./_stream_transform","10","ReadableState","stream","hwm","highWaterMark","defaultHwm","objectMode","pipes","pipesCount","flowing","endEmitted","reading","sync","needReadable","emittedReadable","readableListening","readableObjectMode","defaultEncoding","ranOut","awaitDrain","readingMore","decoder","StringDecoder","_readableState","Stream","readableAddChunk","state","addToFront","chunkInvalid","isNullOrUndefined","onEofChunk","unshift","emitReadable","maybeReadMore","needMoreData","roundUpToNextPowerOf2","MAX_HWM","p","howMuchToRead","isNull","isString","debug","emitReadable_","flow","maybeReadMore_","pipeOnDrain","EE","resume","resumeScheduled","resume_","fromList","stringMode","shift","cpy","endReadable","forEach","debuglog","setEncoding","enc","nOrig","doRead","_read","pipe","dest","pipeOpts","onunpipe","cleanup","onclose","onfinish","ondrain","onerror","ondata","needDrain","pause","unpipe","doEnd","stdout","stderr","endFn","dests","ev","fn","wrap","paused","_fromList","./_stream_duplex","events","string_decoder/","11","TransformState","afterTransform","needTransform","transforming","writecb","writechunk","ts","_transformState","rs","_flush","done","ws","_write","writeencoding","12","WriteReq","callback","WritableState","writableObjectMode","ending","finished","noDecode","decodeStrings","writing","corked","bufferProcessing","onwrite","writelen","pendingcb","prefinished","errorEmitted","writeAfterEnd","validChunk","valid","decodeChunk","writeOrBuffer","doWrite","writev","_writev","onwriteError","onwriteStateUpdate","needFinish","clearBuffer","afterWrite","onwriteDrain","finishMaybe","cbs","err","entry","prefinish","need","endWritable","cork","uncork","13","./lib/_stream_passthrough.js","14","browser","env","READABLE_STREAM","./lib/_stream_readable.js","./lib/_stream_transform.js","./lib/_stream_writable.js","15","16","17","source","didOnEnd","destroy","_isStdio","readable-stream/duplex.js","readable-stream/passthrough.js","readable-stream/readable.js","readable-stream/transform.js","readable-stream/writable.js","18","objectToString","isBoolean","isSymbol","isRegExp","re","isDate","d","isError","isPrimitive","../../is-buffer/index.js","19","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","NaN","rt","abs","LN2","20","create","ctor","superCtor","super_","enumerable","configurable","TempCtor","21","isSlowBuffer","22","23","defaultSetTimout","defaultClearTimeout","runTimeout","fun","cachedSetTimeout","setTimeout","runClearTimeout","marker","cachedClearTimeout","clearTimeout","cleanUpNextTick","draining","currentQueue","queue","queueIndex","drainQueue","timeout","run","Item","noop","title","argv","version","versions","off","prependListener","prependOnceListener","name","binding","cwd","chdir","dir","umask","24","sax","SAXParser","strict","opt","parser","clearBuffers","q","bufferCheckPosition","MAX_BUFFER_LENGTH","lowercase","lowercasetags","looseCase","tags","closed","closedRoot","sawRoot","tag","noscript","S","BEGIN","strictEntities","ENTITIES","XML_ENTITIES","attribList","xmlns","ns","rootNS","trackPosition","line","column","checkBufferLength","maxAllowed","maxActual","buffers","closeText","emitNode","cdata","script","flushBuffers","createStream","SAXStream","_parser","me","_decoder","streamWraps","defineProperty","h","charClass","split","reduce","is","charclass","not","event","nodeType","textNode","textopts","text","normalize","strictFail","BEGIN_WHITESPACE","TEXT","message","newTag","tagName","attributes","qname","attribute","qualName","prefix","local","attrib","attribName","hasOwnProperty","attribValue","qn","XML_NAMESPACE","XMLNS_NAMESPACE","openTag","selfClosing","uri","JSON","stringify","nv","isSelfClosing","SCRIPT","closeTag","closeTo","pop","parseEntity","entity","entityLC","numStr","fromCodePoint","OPEN_WAKA","startTagPosition","whitespace","starti","substring","TEXT_ENTITY","SCRIPT_ENDING","CLOSE_TAG","SGML_DECL","sgmlDecl","nameStart","OPEN_TAG","PROC_INST","procInstName","procInstBody","pad","toUpperCase","CDATA","COMMENT","comment","DOCTYPE","doctype","quote","SGML_DECL_QUOTED","DOCTYPE_DTD","DOCTYPE_QUOTED","DOCTYPE_DTD_QUOTED","COMMENT_ENDING","COMMENT_ENDED","CDATA_ENDING","CDATA_ENDING_2","PROC_INST_ENDING","PROC_INST_BODY","body","nameBody","OPEN_TAG_SLASH","ATTRIB","ATTRIB_NAME","ATTRIB_VALUE","ATTRIB_NAME_SAW_WHITE","ATTRIB_VALUE_QUOTED","ATTRIB_VALUE_UNQUOTED","ATTRIB_VALUE_ENTITY_Q","ATTRIB_VALUE_CLOSED","attribEnd","ATTRIB_VALUE_ENTITY_U","CLOSE_TAG_SAW_WHITE","returnState","EVENTS","getPrototypeOf","close","flush","ex","filter","SD","number","letter","xml","STATE","COMMENT_STARTING","amp","gt","lt","quot","apos","AElig","Aacute","Acirc","Agrave","Aring","Atilde","Auml","Ccedil","ETH","Eacute","Ecirc","Egrave","Euml","Iacute","Icirc","Igrave","Iuml","Ntilde","Oacute","Ocirc","Ograve","Oslash","Otilde","Ouml","THORN","Uacute","Ucirc","Ugrave","Uuml","Yacute","aacute","acirc","aelig","agrave","aring","atilde","auml","ccedil","eacute","ecirc","egrave","eth","euml","iacute","icirc","igrave","iuml","ntilde","oacute","ocirc","ograve","oslash","otilde","ouml","szlig","thorn","uacute","ucirc","ugrave","uuml","yacute","yuml","reg","nbsp","iexcl","cent","pound","curren","yen","brvbar","sect","uml","ordf","laquo","shy","macr","deg","plusmn","sup1","sup2","sup3","acute","micro","para","middot","cedil","ordm","raquo","frac14","frac12","frac34","iquest","times","divide","OElig","oelig","Scaron","scaron","Yuml","fnof","circ","tilde","Alpha","Beta","Gamma","Delta","Epsilon","Zeta","Eta","Theta","Iota","Kappa","Lambda","Mu","Nu","Xi","Omicron","Pi","Rho","Sigma","Tau","Upsilon","Phi","Chi","Psi","Omega","alpha","beta","gamma","delta","epsilon","zeta","eta","theta","iota","kappa","lambda","mu","nu","xi","omicron","pi","rho","sigmaf","sigma","tau","upsilon","phi","chi","psi","omega","thetasym","upsih","piv","ensp","emsp","thinsp","zwnj","zwj","lrm","rlm","ndash","mdash","lsquo","rsquo","sbquo","ldquo","rdquo","bdquo","dagger","Dagger","bull","hellip","permil","prime","Prime","lsaquo","rsaquo","oline","frasl","euro","image","weierp","real","trade","alefsym","larr","uarr","rarr","darr","harr","crarr","lArr","uArr","rArr","dArr","hArr","forall","part","exist","empty","nabla","isin","notin","ni","prod","sum","minus","lowast","radic","prop","infin","ang","and","or","cap","cup","int","there4","sim","cong","asymp","ne","equiv","le","ge","sup","nsub","sube","supe","oplus","otimes","perp","sdot","lceil","rceil","lfloor","rfloor","lang","rang","loz","spades","clubs","hearts","diams","stringFromCharCode","highSurrogate","lowSurrogate","codeUnits","index","result","string_decoder","25","assertEncoding","isBufferEncoding","passThroughWrite","utf16DetectIncompleteChar","charReceived","charLength","base64DetectIncompleteChar","surrogateSize","detectIncompleteChar","charBuffer","charStr","available","charCode","size","cr","26","BACKSPACE_KEY","CONTROL_KEYS","CURSOR_UNFOCUSED_OPACITY","CURSOR_WIDTH_DECREASE","CapturePoint","CrossDocumentLocation","DEBUG_FLAG","DOWN_ARROW_KEY","DRAG_ACE_SCROLL_HORIZONTAL_PAD","DRAG_SCROLL_DISTANCE","DRAG_SCROLL_INTERVAL","DRAG_SCROLL_REGION","DROPDOWN_SCROLLBAR_PADDING","EMBOSS_FILTER_SVG","ENTER_KEY","Editor","EditorState","FloatingBlockRecord","FloatingOperation","GRAY_BLOCK_BORDER","GRAY_BLOCK_COLOR","GRAY_BLOCK_MARGIN","LEFT_ARROW_KEY","MAX_DROP_DISTANCE","META_KEYS","MIN_DRAG_DISTANCE","PALETTE_HEADER_BOTTOM_BORDER_WIDTH","PALETTE_LEFT_MARGIN","PALETTE_MARGIN","PALETTE_TOP_MARGIN","QUAD","RIGHT_ARROW_KEY","RememberedSocketRecord","SVG_STANDARD","Session","TAB_KEY","TOUCH_SELECTION_TIMEOUT","TYPE_FROM_SEVERITY","TYPE_SEVERITY","UP_ARROW_KEY","Y_KEY","Z_KEY","command_modifiers","command_pressed","draw","editorBindings","getMostSevereAnnotationType","getOffsetLeft","getOffsetTop","helper","hook","isOSX","last_","model","modes","parseBlock","ref","ref1","unsortedEditorBindings","userAgent","validateLassoSelection","view","navigator","test","metaKey","ctrlKey","populate","resize","resize_palette","redraw_main","redraw_palette","rebuild_palette","mousedown","mousemove","mouseup","dblclick","keydown","keyup","priority","_main","_palette","_drag","options1","standardViewSettings","base","metrics","ref2","ref3","ref4","ref5","ref6","ref7","ref8","readOnly","paletteGroups","palette","showPaletteInTextMode","paletteEnabled","enablePaletteAtStart","dropIntoAceAtLineStart","allowFloatingBlocks","preserveEmpty","mode","modeOptions","View","extend","viewSettings","paletteView","showDropdowns","showDropdownInPalette","dragView","tree","Document","rootContext","markedLines","markedBlocks","nextMarkedBlockId","extraMarks","undoStack","redoStack","changeEventVersion","floatingBlocks","cursor","Location","viewports","main","Rectangle","currentlyUsingBlocks","fontSize","fontFamily","fontMetrics","fontAscent","prettytop","fontDescent","descent","fontWidth","measureCtx","measureText","width","rememberedSockets","aceEditor","acemode","dispatchKeyEvent","dispatchMouseEvent","elements","eventName","fn1","useBlockMode","debugging","deepCopy","dropletElement","document","createElement","className","innerHTML","tabIndex","measureCanvas","getContext","mainCanvas","createElementNS","setAttribute","sideScroller","style","overflowY","top","left","paletteWrapper","paletteElement","appendChild","paletteCanvas","paletteCtx","bottom","dragCanvas","dragCtx","transform","Draw","clientWidth","refreshFontCapital","padding","indentWidth","textHeight","getFontHeight","indentTongueHeight","tabOffset","tabWidth","tabHeight","tabSideWidth","dropAreaHeight","indentDropAreaMinWidth","emptySocketWidth","emptyLineHeight","highlightAreaHeight","shadowBlur","ctx","Node","wrapperElement","right","overflow","aceElement","ace","edit","setTheme","setFontSize","getSession","setMode","setTabSize","container","parentElement","backgroundColor","currentlyAnimating","transitionContainer","session","sessions","PairDict","extraBottomHeight","_this","contains","updateNewSession","_dropletSession","setEditorState","bindings","addEventListener","resizeBlockMode","k","len1","trackPoint","which","mainScroller","Point","clientX","clientY","preventDefault","returnValue","results","dragCover","element","redrawMain","rebuildPalette","textModeAtStart","modeClass","setValue","getValue","getMode","setReadOnly","getReadOnly","resizeTextMode","resizeAceElement","resizePalette","height","clientHeight","gutter","resizePaletteHighlight","resizeNubby","resizeMainScroller","resizeDragCanvas","scrollTop","scrollLeft","offsetX","offsetY","clearFromCanvas","setPalette","hasSessionFor","aceSession","bindNewSession","opts","ArgumentError","setValue_raw","getAceValue","clearCanvas","canvas","clearMain","setTopNubbyStyle","color","nubbyWidth","points","nubbyHeight","nubbyColor","topNubbyPath","Path","activate","setParent","computeMainCanvasWidth","bevelClip","setPoints","fillColor","initializeFloatingBlock","record","renderGroup","Group","grayBox","NoRectangle","grayBoxPath","strokeColor","lineWidth","dotted","cssClass","startText","Text","startComment","endText","endComment","getViewNodeFor","block","group","insertBefore","drawFloatingBlock","startWidth","endWidth","rect","blockView","bottomTextPosition","oldBounds","rectangle","startHeight","layout","totalBounds","distanceToBase","lineLength","below","bounds","boundingRectangle","update","point","above","grayscale","selected","noText","unite","path","currentlyDrawnFloatingBlocks","el","layoutResult","len2","currentlyAnimating_suprressRedraw","beginDraw","root","redrawCursors","redrawHighlights","resizeGutter","setAceValue","fireEvent","cleanupDraw","alreadyScheduledCleanup","garbageCollect","redrawLassoHighlight","draggingBlock","inDisplay","clearCursorCanvas","textCursorPath","deactivate","cursorPath","cursorAtSocket","redrawTextHighlights","lassoSelection","drawCursor","strokeCursor","determineCursorPosition","clearPalette","clearPaletteHighlightCanvas","redrawPalette","lastBottomEdge","paletteBlockClass","paletteBlockView","currentPaletteBlocks","id","getAttribute","getBounds","absoluteOffset","offsetLeft","offsetTop","offsetParent","trackerPointToMain","gbr","parentNode","getBoundingClientRect","trackerPointToPalette","trackerPointIsInElement","trackerPointIsInMain","trackerPointIsInMainScroller","trackerPointIsInGutter","trackerPointIsInPalette","trackerPointIsInAceScrollRegion","trackerPointIsInScrollRegion","scrollDirection","hitTest","head","seek","next","focus","scrollTo","removeBlankLines","tail","prev","spliceOut","List","shiftKey","redo","undo","floats","other","getSerializedEditorState","map","clearUndoStack","currentValue","operation","setCursor","popUndo","performFloatingOperation","getDocument","perform","getPreserves","clone","correctCursor","pushUndo","popRedo","undoCapture","dropletDocument","documentIndex","socket","location","node","remove","getDocuments","fromCrossDocumentLocation","populateSocket","prepareNode","spliceIn","toCrossDocumentLocation","textContent","insert","socket1","text1","before","after","updates","adjustPosToLineStart","getLine","row","getLength","validCursorPosition","context","leading","trailing","Container","getLeadingText","getTrailingText","parens","getReader","setLeadingText","setTrailingText","clickedPoint","clickedBlock","clickedBlockPaletteEntry","draggingOffset","lastHighlight","lastHighlightPath","highlightCanvas","highlightCtx","clearHighlightCanvas","clearDrag","documents","getFromLocation","getLocation","box","hitTestResult","mainPoint","consumedHitTest","handleTextInputClick","token","dumpNodeForDebug","absorbCache","hitTestBlock","stringifyInPlace","addButtonRect","handleButton","populateBlock","subtractButtonRect","drawDraggingBlock","draggingBlockView","clearCache","screen","checkForScrollWhileDragging","lastDraggingPoint","handleDragContinue","lastDraggingEvent","wouldDelete","acceptLevel","allowed","bound","dropPoint","expansion","viewNode","capturedPickup","from","magnitude","dragReplacing","upperLeftCorner","classes","lastExpansionText","dropPointQuadTree","init","w","StartToken","getAcceptLevel","FORBID","_droplet_node","begunTrash","getClosestDroppableBlock","isDebugMode","best","retrieve","distance","DISCOURAGE","highlightArea","getClosestDroppableBlockFromPosition","drag","drop","minimum","ENCOURAGE","traverseOneLevel","child","nextSibling","firstChild","dropBlock","expansionText","newBlock","renderer","screenToTextCoordinates","selection","moveToPosition","blur","qualifiedFocus","opacity","firstChar","firstNonWhitespaceRegex","futureCursorLocation","hadTextToken","hasTextToken","indentation","leadingWhitespaceRegex","newBeginning","newIndex","nextLine","prevLine","rememberedSocketOffsets","skipInitialIndent","suffix","endDrag","spliceRememberedSocketOffsets","reparse","count","exec","onTextInput","blockBegin","newRememberedSockets","offsets","block1","position1","inTree","addBlockAsFloatingBlock","newDocument","oldParent","removeBlock","renderPoint","parseContext","roundedSingletons","op","direction","index1","paletteHeader","parse","paletteGroup","paletteHeaderRow","currentPaletteMetadata","clickHandler","newPaletteBlocks","paletteGroupHeader","updatePalette","header","innerText","blocks","parsedBlocks","changePaletteGroup","curGroup","currentPaletteGroup","currentPaletteGroupHeader","currentPaletteIndex","palettePoint","handleTextInputClickInPalette","paletteHighlightCanvas","paletteHighlightCtx","paletteHighlightPath","currentHighlightedPaletteBlock","paletteScroller","hiddenInput","getCursor","textInputAnchor","textInputSelecting","oldFocusValue","keyCode","selectionEnd","highlightFlashShow","redrawTextInput","dropdownVisible","formatDropdown","endRow","sameLength","startRow","treeView","selectionStart","glue","scrollIntoView","endPosition","rectangles","startPosition","textFocusView","textPadding","hasDropdown","DROPDOWN_ARROW_WIDTH","textInputHighlighted","reverse","hideDropdown","recovery","originalTrigger","newList","originalText","originalUpdates","stringFixer","wrapAtRoot","mark","setTextSelectionRange","setSelectionRange","first","last","lines","TextToken","connect","NewlineToken","hitTestTextInput","isDroppable","getTextPosition","round","setTextInputAnchor","textInputHead","selectDoubleClick","setTextInputHead","editable","showDropdown","hitTestTextInputInPalette","dropdownElement","display","minWidth","getDropdownList","newresult","dropdown","generate","inPalette","dropdownItems","div","setText","paddingLeft","click","dropdownTop","scrollHeight","paddingRight","clientLeft","clientTop","lassoSelectRect","lassoSelectAnchor","clearLassoSelection","clickedLassoSelection","suppressLassoSelect","findLassoSelect","lassoRectangle","intersects","lassoSelectionDocument","dropletDocumentView","lassoView","tokensToInclude","EndToken","document1","location1","destination","validate","getDefaultSelectionRange","getTextLocation","scrollCursorIntoPosition","axis","scrollCursorToEndOfDocument","scrollToLine","deleteAtCursor","capturedBackspace","deleteLassoSelection","handwritten","cursorTarget","newSocket","newTextMarker","Block","Socket","newHandwrittenSocket","startSingleLineComment","ANY_DROP","socketLevel","BLOCK_ONLY","copyAceEditor","$gutterLayer","gutterWidth","computePlaintextTranslationVectors","corner","rownum","textElements","translationVectors","wrappedlines","getScrollTop","indent","lineHeight","layerConfig","leftEdge","font","aceFontSize","emptyString","documentToScreenRow","specialIndent","depth","checkAndHighlightEmptySockets","ok","markBlock","performMeltAnimation","fadeTime","translateTime","aceScrollTop","fn2","paletteDisappearingWithMelt","textElement","translatingElements","findLineNumberAtCoordinate","scrollWidth","overflowX","currentlyAnimating_suppressRedraw","whiteSpace","transition","getFirstVisibleRow","getLastVisibleRow","annotations","lineNumberWrapper","zIndex","showScrollbars","removeChild","success","parseFloat","getFontSize","show","performFreezeAnimation","setValueResult","Date","paletteAppearingWithFreeze","$gutter","enablePalette","enabled","activeElement","toggleBlocks","mainScrollerIntermediary","mainScrollerStuffing","paletteScrollerStuffing","computeMainCanvasHeight","lastHeight","setFontSize_raw","tooltipElement","setGlobalFontSize","setFontFamily","setGlobalFontFamily","getHighlightPath","noclip","bevel","markLine","getBlockOnLine","getFromTextLocation","clearLineMarks","clearMarks","lastHoveredLine","hoveredLine","hasEvent","trimWhitespace","setTrimWhitespace","newParse","removal","oldScrollTop","setScrollTop","addEmptyLine","lastAceSeenValue","useBlocks","paletteVisibleInNewState","touchEventToPoint","changedTouches","queueLassoMousedown","lassoSelectStartTimeout","touchScrollAnchor","cursorElement","cursorCtx","ElementWrapper","flashTimeout","highlightsCurrentlyShown","flash","highlightFlashHide","editorHasFocus","copyPasteInput","hasFocus","blurCursors","focusCursors","viewOrChildrenContains","childObj","modelView","children","gutterVersion","lastGutterWidth","lineNumberTags","breakpoints","domEvent","getDocumentPosition","stop","clickedLine","setBreakpoint","redrawGutter","clearBreakpoint","clearBreakpoints","getBreakpoints","setAnnotations","gutterHeight","lastGutterHeight","addLineNumberForLine","lineDiv","lastPosition","pageX","pageY","paddingTop","paddingBottom","warning","info","coord","pivot","changedBox","setPaletteWidth","pressedVKey","pressedXKey","minIndent","trimLeft","overflowsX","documentDimensions","viewportDimensions","overflowsY","getLineMetrics","serialize","sort","../vendor/quadtree.js","./draw.coffee","./helper.coffee","./model.coffee","./modes.coffee","./view.coffee","27","BEVEL_SIZE","EPSILON","Size","ZERO","_area","_bisector","_intersects","avgColor","memoizedAvgColor","toRGB","twoDigitHex","zeroPad","hasProp","__super__","modulo","diagonal","sample","sampleB","scalar","plus","almostEquals","sqrt","dot","hex","rgb","factor","newRGB","fontBaseline","superClass","element1","active","manifest","makeElement","getParentElement","_points","style1","_cachedTranslation","_cacheFlag","_bounds","_clearCache","insetCoord","insidePoints","len3","maxX","maxY","minX","minY","outsidePoints","subpaths","_lightBevelPath","_darkBevelPath","getInsetCoordinate","_setPoints_raw","_updateFlag","setMarkStyle","markColor","_markFlag","lastSide","rectSides","side","overlap","translate","vector","getCommandString","pathCommands","getLightBevelPath","getDarkBevelPath","pathElement","pathString","__lastFillColor","__lastStrokeColor","__lastLineWidth","__lastDotted","__lastCssClass","__lastTransform","backgroundPathElement","lightPathElement","darkPathElement","_lastCssClass","_lastTransform","point1","__lastValue","__lastPoint","setPosition","createTextNode","lastChild","baseline","family","getGlobalFontSize","x1","y1","add","toMagnitude","mag","clear","swallow","toPath","_collinear","second","28","_guid","deepEquals","fontMetricsCache","looseCUnescape","quoteAndCEscape","MOSTLY_BLOCK","MOSTLY_VALUE","VALUE_ONLY","DROPDOWN_ARROW_PADDING","trimRight","sources","getOwnPropertyNames","getOwnPropertyDescriptor","xmlPrettyPrint","xmlParser","ontext","escapeXMLText","onopentag","attr","onclosetag","fontHeight","capital","fontStyle","gp","lf","textTopAndBottom","testText","col","pixels","fillStyle","fillRect","textBaseline","fillText","ceil","getImageData","ascent","clipLines","serializeShallowDict","dict","props","deserializeShallowDict","newObject","Function","generateGUID","fixQuotedString","quotechar","codes","\\b","\\t","\\n","\\f","\\\"","\\'","\\\\","\\0","pairs","some","29","CATEGORIES","CLASS_EXCEPTIONS","DEFAULT_INDENT_DEPTH","JavaScriptParser","KNOWN_FUNCTIONS","LOGICAL_OPERATORS","NEVER_PAREN","NODE_CATEGORIES","OPERATOR_PRECEDENCES","STATEMENT_NODE_TYPES","acorn","isStandardForLoop","alert","prompt","console.log","*.toString","Math.abs","Math.acos","Math.asin","Math.atan","Math.atan2","Math.cos","Math.sin","Math.tan","Math.ceil","Math.floor","Math.round","Math.exp","Math.ln","Math.log10","Math.pow","Math.sqrt","Math.max","Math.min","Math.random","functions","returns","comments","arithmetic","logic","containers","assignments","loops","conditionals","command","errors","==","!=","===","!==","<","<=",">",">=","in","instanceof","||","&&","!","BinaryExpression","UnaryExpression","ConditionalExpression","LogicalExpression","FunctionExpression","FunctionDeclaration","AssignmentExpression","UpdateExpression","VariableDeclaration","ReturnStatement","IfStatement","SwitchStatement","ForStatement","ForInStatement","WhileStatement","DoWhileStatement","NewExpression","ObjectExpression","ArrayExpression","MemberExpression","BreakStatement","ThrowStatement","TryStatement","CallExpression","SequenceExpression","Identifier","++","--","~","*","/","%","+","-","<<",">>",">>>","&","^","|","categories","markRoot","locations","allowReturnOutsideFunction","fullNameArray","property","lookupKnownName","fname","full","identifier","wildcard","callee","anyobj","getAcceptsRule","default","NORMAL","getClasses","known","getPrecedence","operator","expression","lookupCategory","category","getColor","getSocketLevel","semicolon","semicolonLength","loc","getCaseIndentBounds","consequent","getIndentPrefix","indentDepth","isComment","parseComment","sockets","button","oldBlock","argCount","currentElif","elementCount","elseLocation","lastArgPosition","lastElPosition","lastParamPosition","maxArgs","minArgs","newLastArgPosition","newLastElPosition","newLastParamPosition","paramCount","alternate","params","argument","buttons","declaration","len4","len5","len6","len7","len8","len9","noFunctionDrop","nodeBoundsStart","param","ref10","ref11","ref12","ref13","ref14","ref15","ref16","ref17","ref18","ref9","results1","results2","results3","results4","results5","results6","results7","results8","results9","showButtons","space","statement","switchCase","jsBlock","expressions","jsSocketAndMark","onFirstLine","lockZeroParamFunctions","addButton","subtractButton","addSocket","precedence","label","beginner","addIndent","flagToRemove","paramButtonsForUnknownFunctions","objectDropdown","lockFunctionDropIntoKnownParams","allowFunctionDrop","declarations","properties","discriminant","cases","guard","finalizer","addBlock","Parser","pred","variableName","emptyIndent","wrapParser","../../vendor/acorn","../helper.coffee","../model.coffee","../parser.coffee","30","./controller.coffee","31","BlockEndToken","BlockStartToken","DEFAULT_STRINGIFY_OPTS","DocumentEndToken","DocumentStartToken","IndentEndToken","IndentStartToken","Operation","ReplaceOperation","SocketEndToken","SocketStartToken","TextLocation","Token","_id","trigger","isTreeValid","hare","lastHare","stack","tortise","_droplet_debug_lastHare","beforeStart1","before1","beforeEnd1","afterStart1","after1","afterEnd1","beforeStart","beforeEnd","afterStart","afterEnd","start1","hasParent","updateTokens","notifyChange","updateTextLocations","isFirstOnLine","isLastOnLine","assembler","correctParentTree","ephemeral","lineMarkStyles","_cloneEmpty","_firstChild","getLinesToParent","selfClone","rawReplace","getNewlineBefore","getNewlineAfter","_serialize_header","_serialize_footer","contents","lineCount","addLineMark","removeLineMark","parent1","getSerializedLocation","getIndent","count1","row1","col1","answer","markup","warn","currentlyParenWrapped","dropdownOnly","Indent","prefix1","opts1","_value","32","coffee","html","java","javascript","python","coffeescript","c_cpp","./languages/c.coffee","./languages/coffee.coffee","./languages/html.coffee","./languages/java.coffee","./languages/javascript.coffee","./languages/python.coffee","33","ParserFactory","_extend","hasSomeTextAfter","isPrefix","stripFlaggedBlocks","defaults","createParser","_parse","sortMarkup","applyMarkup","detectParenWrap","isParenWrapped","addMarkup","checkBounds","IllegalArgumentException","isDifferent","constructHandwrittenBlock","finalPadText","finalPadTextToken","padText","padTextToken","socketPosition","textToken","oldblock","currentlyCommented","lastIndex","markupOnLines","placedSomething","emptyLineColor","parseXML","tokens","handritten","nodeName","flagToStrip","CustomParser","CustomParserFactory","parseOptions","leadingFn","trailingFn","34","BUTTON_TEXT_HEIGHT_OFFSET","CARRIAGE_ARROW_INDENT","CARRIAGE_ARROW_NONE","CARRIAGE_ARROW_SIDEALONG","CARRIAGE_GROW_DOWN","DEFAULT_OPTIONS","DROPDOWN_ARROW_HEIGHT","DROP_TRIANGLE_COLOR","MULTILINE_END","MULTILINE_END_START","MULTILINE_MIDDLE","MULTILINE_START","NO","NO_MULTILINE","arrayEq","dedupe","buttonWidth","buttonHeight","buttonPadding","minIndentTongueWidth","minSocketWidth","invisibleSocketWidth","emptyLineWidth","colors","return","control","red","pink","purple","deeppurple","indigo","blue","lightblue","cyan","teal","green","lightgreen","lime","yellow","amber","orange","deeporange","brown","grey","bluegrey","←","→","option","oldRoots","newRoots","auxiliaryMap","flaggedToDelete","unflaggedToDelete","marks","AuxiliaryViewNode","BlockViewNode","ContainerViewNode","DocumentViewNode","GenericViewNode","IndentViewNode","ListViewNode","SocketViewNode","TextViewNode","createView","registerMark","unmark","hasViewNodeFor","getAuxiliaryNode","registerRoot","aux","flag","hide","auxiliaryNode","unflag","view1","model1","computedVersion","lastCoordinate","invalidate","oldChildren","lineChildren","multilineChildrenData","margins","topLineSticksToBottom","bottomLineSticksToTop","minDimensions","minDistanceToBase","dimensions","carriageArrow","bevels","changedBoundingBox","activeElements","boundingRect","drawSelf","startLine","endLine","computeChildren","focusAll","computeCarriageArrow","computeMargins","parenttype","firstLeft","midLeft","lastLeft","firstRight","midRight","lastRight","firstMargins","midMargins","lastMargins","getMargins","computeBevels","computeMinDimensions","computeDimensions","force","changed","oldDimensions","oldDistanceToBase","computeBoundingBoxX","computeAllBoundingBoxX","computeGlue","computeBoundingBoxY","computeAllBoundingBoxY","computeOwnPath","computePath","maxRight","lastComputedLinePredicate","computeOwnDropArea","computeDropAreas","computeNewVersionNumber","base1","childLength","childObject","bottomMargin","buttonLine","childNode","desiredLine","lineChild","lineChildView","linesToExtend","minDimension","preIndentLines","childLeft","childLine","childMargins","childView","childAbove","dropArea","oldCarriageArrow","oldBevels","buttonStart","buttonTop","destinationBounds","firstRect","firstStart","firstTop","glueTop","innerLeft","innerRight","lastLine","lastRect","leftmost","multilineBounds","multilineChild","multilineNode","multilineView","newPath","parentViewNode","rightmost","topLeftPoint","shouldAddTab","addTabReverse","addTab","extraWidth","subtractButtonPath","addButtonPath","markStyle","oldFill","oldStroke","highlightAreaPoints","lastBoundsLeft","lastBoundsRight","isInvisibleSocket","dimension","lastFirstChildren","lastLastChildren","childRef","lastBounds","35","mod","setOptions","defaultOptions","has","sourceFile","isKeyword","ecmaVersion","isEcma6Keyword","isEcma5AndLessKeyword","raise","getLineInfo","input","SyntaxError","raisedAt","tokPos","makePredicate","words","compareTo","cats","cat","Position","tokCurLine","tokLineStart","initTokenState","tokRegexpAllowed","metParenL","inTemplate","skipSpace","finishToken","shouldSkipSpace","tokEnd","tokEndLoc","tokType","tokVal","beforeExpr","onToken","getCurrentToken","skipBlockComment","startLoc","onComment","lineBreak","skipLineComment","ch","inputLen","nonASCIIwhitespace","readToken_dot","readNumber","next2","_ellipsis","_dot","readToken_slash","readRegexp","finishOp","_assign","_slash","readToken_mult_modulo","_star","_modulo","readToken_pipe_amp","_logicalOR","_logicalAND","_bitwiseOR","_bitwiseAND","readToken_caret","_bitwiseXOR","readToken_plus_min","newline","lastEnd","readToken","_incDec","_plusMin","readToken_lt_gt","_bitShift","_relational","readToken_eq_excl","_equality","_arrow","_eq","_prefix","getTemplateToken","_string","_bquote","_dollarBraceL","_braceR","readTmplString","getTokenFromCode","_parenL","_parenR","_semi","_comma","_bracketL","_bracketR","_braceL","_colon","_question","readRadixNumber","readString","forceRegexp","tokStart","tokStartLoc","_eof","isIdentifierStart","readWord","tok","nonASCIIidentifierStart","escaped","inClass","content","mods","readWord1","RegExp","_regexp","readInt","radix","total","_num","startsWithDot","isFloat","octal","readCodePoint","unexpected","readHexChar","cu1","cu2","readEscapedChar","containsEsc","word","isIdentifierChar","esc","escStr","_name","keywordTypes","lastStart","lastEndLoc","setStrict","strct","lastIndexOf","SourceLocation","startNode","directSourceFile","ranges","range","startNodeFrom","finishNode","isUseStrict","stmt","eat","canInsertSemicolon","strictSemicolons","expect","propName","toAssignable","allowSpread","checkType","kind","lastI","checkSpreadAssign","checkFunctionParam","nameHash","isStrictReservedWord","isStrictBadIdWord","checkPropClash","propHash","computed","isGetSet","checkLVal","expr","isBinding","elem","parseTopLevel","program","inFunction","inGenerator","labels","parseStatement","starttype","_break","_continue","parseBreakContinueStatement","keyword","_debugger","parseDebuggerStatement","_do","parseDoStatement","_for","parseForStatement","_function","parseFunctionStatement","_class","parseClass","_if","parseIfStatement","_return","parseReturnStatement","_switch","parseSwitchStatement","_throw","parseThrowStatement","_try","parseTryStatement","_var","_let","_const","parseVarStatement","_while","parseWhileStatement","_with","parseWithStatement","parseEmptyStatement","_export","parseExport","_import","parseImport","maybeName","parseExpression","parseLabeledStatement","parseExpressionStatement","isBreak","parseIdent","lab","loopLabel","parseParenExpression","parseFor","varKind","isLet","parseVar","_in","parseForIn","parseFunction","_else","switchLabel","cur","sawDefault","_case","_default","isCase","_catch","clause","guardedHandlers","_finally","isLoop","allowStrict","oldStrict","noIn","decl","parseExprAtom","noComma","parseMaybeAssign","parseMaybeConditional","isAssign","parseExprOps","parseExprOp","parseMaybeUnary","minPrec","prec","binop","isUpdate","parseExprSubscripts","postfix","parseSubscripts","noCalls","parseExprList","quasi","parseTemplate","_yield","parseYield","parseArrowExpression","raw","_null","_true","_false","atomValue","exprList","tokStartLoc1","tokStart1","parseComprehension","oldParenL","parseObj","_new","parseNew","parseSpread","quasis","cooked","allowTrailingCommas","isGenerator","shorthand","parsePropertyName","parseMethod","initFunction","rest","generator","isStatement","allowExpressionBody","parseFunctionParams","parseFunctionBody","hasDefaults","allowExpression","isExpression","oldInFunc","oldInGen","oldLabels","_extends","classBody","methodHash","staticMethodHash","allowTrailingComma","allowEmpty","elts","liberal","forbidReserved","isReservedWord3","isReservedWord5","specifiers","isBatch","parseExportSpecifiers","nodes","parseImportSpecifiers","delegate","of","inpt","endLoc","tokenize","getToken","jumpTo","reAllowed","break","case","catch","continue","debugger","do","else","finally","for","function","if","switch","throw","try","var","let","const","while","with","null","true","false","new","typeof","void","delete","class","extends","export","import","yield","tokTypes","bracketL","bracketR","braceL","braceR","parenL","parenR","comma","semi","colon","ellipsis","question","slash","eq","eof","regexp","arrow","bquote","dollarBraceL","kw","ecma5AndLessKeywords","nonASCIIidentifierStartChars","nonASCIIidentifier","36","browserify_shim__define__module__export__","maxChildren","maxDepth","items","instance","findOverlappingNodes","findInsertNode","childrenDepth","getNodes","selector"],"mappings":"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,GACEQ,SACAC,UACAC,iBACAC,cACE90D,OAAO,GAET+0D,YACE/0D,OAAO,GAETg1D,aACEh1D,OAAO,GAETi1D,aACEj1D,OAAO,GAETk1D,aACEl1D,OAAO,GAETm1D,cACEn1D,OAAO,GAETo1D,YACEp1D,OAAO,GAETq1D,YACEr1D,OAAO,GAETs1D,YACEt1D,OAAO,GAETu1D,aACEv1D,OAAO,GAETw1D,cACEx1D,OAAO,GAETy1D,cACEz1D,OAAO,GAET01D,YACE11D,OAAO,GAET21D,WACE31D,OAAO,GAET41D,cACE51D,OAAO,GAET61D,YACE71D,OAAO,GAET81D,aACE91D,OAAO,GAET+1D,YACE/1D,OAAO,GAETg2D,YACEh2D,OAAO,GAETi2D,eACEj2D,OAAO,IAIX+zD,GACEmC,WACE7wB,MAAO,UAET8wB,SACE9wB,MAAO,UAET+wB,UACE/wB,MAAO,QAETgxB,YACEhxB,MAAO,SAETixB,OACEjxB,MAAO,QAETkxB,YACElxB,MAAO,QAETmxB,aACEnxB,MAAO,QAEToxB,OACEpxB,MAAO,UAETqxB,cACErxB,MAAO,UAETrlC,OACEqlC,MAAO,SAETsxB,SACEtxB,MAAO,QAETuxB,QACEvxB,MAAO,SAIX+uB,GACEyC,MAAM,EACNC,MAAM,EACNC,OAAO,EACPC,OAAO,EACPC,KAAK,EACLC,MAAM,EACNC,KAAK,EACLC,MAAM,EACNC,IAAM,EACNC,YAAc,EACdC,MAAM,EACNC,MAAM,EACNC,KAAK,GAGPnD,GACEoD,iBAAoB,aACpBC,gBAAmB,aACnBC,sBAAyB,aACzBC,kBAAqB,QACrBC,mBAAsB,YACtBC,oBAAuB,YACvBC,qBAAwB,cACxBC,iBAAoB,cACpBC,oBAAuB,cACvBC,gBAAmB,UACnBC,YAAe,eACfC,gBAAmB,eACnBC,aAAgB,QAChBC,eAAkB,QAClBC,eAAkB,QAClBC,iBAAoB,QACpBC,cAAiB,aACjBC,iBAAoB,aACpBC,gBAAmB,aACnBC,iBAAoB,aACpBC,eAAkB,UAClBC,eAAkB,UAClBC,aAAgB,UAChBC,eAAkB,UAClBC,mBAAsB,UACtB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","file":"droplet-full.min.js","sourcesContent":["/* Droplet.\n * Copyright (c) 2018 Anthony Bau.\n * MIT License.\n *\n * Date: 2018-04-03\n */\n(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.droplet = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n\n},{}],2:[function(require,module,exports){\narguments[4][1][0].apply(exports,arguments)\n},{\"dup\":1}],3:[function(require,module,exports){\nvar lookup = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\n;(function (exports) {\n\t'use strict';\n\n  var Arr = (typeof Uint8Array !== 'undefined')\n    ? Uint8Array\n    : Array\n\n\tvar PLUS   = '+'.charCodeAt(0)\n\tvar SLASH  = '/'.charCodeAt(0)\n\tvar NUMBER = '0'.charCodeAt(0)\n\tvar LOWER  = 'a'.charCodeAt(0)\n\tvar UPPER  = 'A'.charCodeAt(0)\n\tvar PLUS_URL_SAFE = '-'.charCodeAt(0)\n\tvar SLASH_URL_SAFE = '_'.charCodeAt(0)\n\n\tfunction decode (elt) {\n\t\tvar code = elt.charCodeAt(0)\n\t\tif (code === PLUS ||\n\t\t    code === PLUS_URL_SAFE)\n\t\t\treturn 62 // '+'\n\t\tif (code === SLASH ||\n\t\t    code === SLASH_URL_SAFE)\n\t\t\treturn 63 // '/'\n\t\tif (code < NUMBER)\n\t\t\treturn -1 //no match\n\t\tif (code < NUMBER + 10)\n\t\t\treturn code - NUMBER + 26 + 26\n\t\tif (code < UPPER + 26)\n\t\t\treturn code - UPPER\n\t\tif (code < LOWER + 26)\n\t\t\treturn code - LOWER + 26\n\t}\n\n\tfunction b64ToByteArray (b64) {\n\t\tvar i, j, l, tmp, placeHolders, arr\n\n\t\tif (b64.length % 4 > 0) {\n\t\t\tthrow new Error('Invalid string. Length must be a multiple of 4')\n\t\t}\n\n\t\t// the number of equal signs (place holders)\n\t\t// if there are two placeholders, than the two characters before it\n\t\t// represent one byte\n\t\t// if there is only one, then the three characters before it represent 2 bytes\n\t\t// this is just a cheap hack to not do indexOf twice\n\t\tvar len = b64.length\n\t\tplaceHolders = '=' === b64.charAt(len - 2) ? 2 : '=' === b64.charAt(len - 1) ? 1 : 0\n\n\t\t// base64 is 4/3 + up to two characters of the original data\n\t\tarr = new Arr(b64.length * 3 / 4 - placeHolders)\n\n\t\t// if there are placeholders, only get up to the last complete 4 chars\n\t\tl = placeHolders > 0 ? b64.length - 4 : b64.length\n\n\t\tvar L = 0\n\n\t\tfunction push (v) {\n\t\t\tarr[L++] = v\n\t\t}\n\n\t\tfor (i = 0, j = 0; i < l; i += 4, j += 3) {\n\t\t\ttmp = (decode(b64.charAt(i)) << 18) | (decode(b64.charAt(i + 1)) << 12) | (decode(b64.charAt(i + 2)) << 6) | decode(b64.charAt(i + 3))\n\t\t\tpush((tmp & 0xFF0000) >> 16)\n\t\t\tpush((tmp & 0xFF00) >> 8)\n\t\t\tpush(tmp & 0xFF)\n\t\t}\n\n\t\tif (placeHolders === 2) {\n\t\t\ttmp = (decode(b64.charAt(i)) << 2) | (decode(b64.charAt(i + 1)) >> 4)\n\t\t\tpush(tmp & 0xFF)\n\t\t} else if (placeHolders === 1) {\n\t\t\ttmp = (decode(b64.charAt(i)) << 10) | (decode(b64.charAt(i + 1)) << 4) | (decode(b64.charAt(i + 2)) >> 2)\n\t\t\tpush((tmp >> 8) & 0xFF)\n\t\t\tpush(tmp & 0xFF)\n\t\t}\n\n\t\treturn arr\n\t}\n\n\tfunction uint8ToBase64 (uint8) {\n\t\tvar i,\n\t\t\textraBytes = uint8.length % 3, // if we have 1 byte left, pad 2 bytes\n\t\t\toutput = \"\",\n\t\t\ttemp, length\n\n\t\tfunction encode (num) {\n\t\t\treturn lookup.charAt(num)\n\t\t}\n\n\t\tfunction tripletToBase64 (num) {\n\t\t\treturn encode(num >> 18 & 0x3F) + encode(num >> 12 & 0x3F) + encode(num >> 6 & 0x3F) + encode(num & 0x3F)\n\t\t}\n\n\t\t// go through the array every three bytes, we'll deal with trailing stuff later\n\t\tfor (i = 0, length = uint8.length - extraBytes; i < length; i += 3) {\n\t\t\ttemp = (uint8[i] << 16) + (uint8[i + 1] << 8) + (uint8[i + 2])\n\t\t\toutput += tripletToBase64(temp)\n\t\t}\n\n\t\t// pad the end with zeros, but make sure to not forget the extra bytes\n\t\tswitch (extraBytes) {\n\t\t\tcase 1:\n\t\t\t\ttemp = uint8[uint8.length - 1]\n\t\t\t\toutput += encode(temp >> 2)\n\t\t\t\toutput += encode((temp << 4) & 0x3F)\n\t\t\t\toutput += '=='\n\t\t\t\tbreak\n\t\t\tcase 2:\n\t\t\t\ttemp = (uint8[uint8.length - 2] << 8) + (uint8[uint8.length - 1])\n\t\t\t\toutput += encode(temp >> 10)\n\t\t\t\toutput += encode((temp >> 4) & 0x3F)\n\t\t\t\toutput += encode((temp << 2) & 0x3F)\n\t\t\t\toutput += '='\n\t\t\t\tbreak\n\t\t}\n\n\t\treturn output\n\t}\n\n\texports.toByteArray = b64ToByteArray\n\texports.fromByteArray = uint8ToBase64\n}(typeof exports === 'undefined' ? (this.base64js = {}) : exports))\n\n},{}],4:[function(require,module,exports){\n(function (global){\n/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('isarray')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\nBuffer.poolSize = 8192 // not used by this implementation\n\nvar rootParent = {}\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Safari 5-7 lacks support for changing the `Object.prototype.constructor` property\n *     on objects.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\nfunction typedArraySupport () {\n  function Bar () {}\n  try {\n    var arr = new Uint8Array(1)\n    arr.foo = function () { return 42 }\n    arr.constructor = Bar\n    return arr.foo() === 42 && // typed array instances can be augmented\n        arr.constructor === Bar && // constructor can be set\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\n/**\n * Class: Buffer\n * =============\n *\n * The Buffer constructor returns instances of `Uint8Array` that are augmented\n * with function properties for all the node `Buffer` API functions. We use\n * `Uint8Array` so that square bracket notation works as expected -- it returns\n * a single octet.\n *\n * By augmenting the instances, we can avoid modifying the `Uint8Array`\n * prototype.\n */\nfunction Buffer (arg) {\n  if (!(this instanceof Buffer)) {\n    // Avoid going through an ArgumentsAdaptorTrampoline in the common case.\n    if (arguments.length > 1) return new Buffer(arg, arguments[1])\n    return new Buffer(arg)\n  }\n\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    this.length = 0\n    this.parent = undefined\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    return fromNumber(this, arg)\n  }\n\n  // Slightly less common case.\n  if (typeof arg === 'string') {\n    return fromString(this, arg, arguments.length > 1 ? arguments[1] : 'utf8')\n  }\n\n  // Unusual.\n  return fromObject(this, arg)\n}\n\nfunction fromNumber (that, length) {\n  that = allocate(that, length < 0 ? 0 : checked(length) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < length; i++) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') encoding = 'utf8'\n\n  // Assumption: byteLength() return value is always < kMaxLength.\n  var length = byteLength(string, encoding) | 0\n  that = allocate(that, length)\n\n  that.write(string, encoding)\n  return that\n}\n\nfunction fromObject (that, object) {\n  if (Buffer.isBuffer(object)) return fromBuffer(that, object)\n\n  if (isArray(object)) return fromArray(that, object)\n\n  if (object == null) {\n    throw new TypeError('must start with number, buffer, array or string')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined') {\n    if (object.buffer instanceof ArrayBuffer) {\n      return fromTypedArray(that, object)\n    }\n    if (object instanceof ArrayBuffer) {\n      return fromArrayBuffer(that, object)\n    }\n  }\n\n  if (object.length) return fromArrayLike(that, object)\n\n  return fromJsonObject(that, object)\n}\n\nfunction fromBuffer (that, buffer) {\n  var length = checked(buffer.length) | 0\n  that = allocate(that, length)\n  buffer.copy(that, 0, 0, length)\n  return that\n}\n\nfunction fromArray (that, array) {\n  var length = checked(array.length) | 0\n  that = allocate(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\n// Duplicate of fromArray() to keep fromArray() monomorphic.\nfunction fromTypedArray (that, array) {\n  var length = checked(array.length) | 0\n  that = allocate(that, length)\n  // Truncating the elements is probably not what people expect from typed\n  // arrays with BYTES_PER_ELEMENT > 1 but it's compatible with the behavior\n  // of the old Buffer constructor.\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array) {\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    array.byteLength\n    that = Buffer._augment(new Uint8Array(array))\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromTypedArray(that, new Uint8Array(array))\n  }\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = checked(array.length) | 0\n  that = allocate(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\n// Deserialize { type: 'Buffer', data: [1,2,3,...] } into a Buffer object.\n// Returns a zero-length buffer for inputs that don't conform to the spec.\nfunction fromJsonObject (that, object) {\n  var array\n  var length = 0\n\n  if (object.type === 'Buffer' && isArray(object.data)) {\n    array = object.data\n    length = checked(array.length) | 0\n  }\n  that = allocate(that, length)\n\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n} else {\n  // pre-set for values that may exist in the future\n  Buffer.prototype.length = undefined\n  Buffer.prototype.parent = undefined\n}\n\nfunction allocate (that, length) {\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = Buffer._augment(new Uint8Array(length))\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that.length = length\n    that._isBuffer = true\n  }\n\n  var fromPool = length !== 0 && length <= Buffer.poolSize >>> 1\n  if (fromPool) that.parent = rootParent\n\n  return that\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (subject, encoding) {\n  if (!(this instanceof SlowBuffer)) return new SlowBuffer(subject, encoding)\n\n  var buf = new Buffer(subject, encoding)\n  delete buf.parent\n  return buf\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  var i = 0\n  var len = Math.min(x, y)\n  while (i < len) {\n    if (a[i] !== b[i]) break\n\n    ++i\n  }\n\n  if (i !== len) {\n    x = a[i]\n    y = b[i]\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'binary':\n    case 'base64':\n    case 'raw':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) throw new TypeError('list argument must be an Array of Buffers.')\n\n  if (list.length === 0) {\n    return new Buffer(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; i++) {\n      length += list[i].length\n    }\n  }\n\n  var buf = new Buffer(length)\n  var pos = 0\n  for (i = 0; i < list.length; i++) {\n    var item = list[i]\n    item.copy(buf, pos)\n    pos += item.length\n  }\n  return buf\n}\n\nfunction byteLength (string, encoding) {\n  if (typeof string !== 'string') string = '' + string\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'binary':\n      // Deprecated\n      case 'raw':\n      case 'raws':\n        return len\n      case 'utf8':\n      case 'utf-8':\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  start = start | 0\n  end = end === undefined || end === Infinity ? this.length : end | 0\n\n  if (!encoding) encoding = 'utf8'\n  if (start < 0) start = 0\n  if (end > this.length) end = this.length\n  if (end <= start) return ''\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'binary':\n        return binarySlice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return 0\n  return Buffer.compare(this, b)\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset) {\n  if (byteOffset > 0x7fffffff) byteOffset = 0x7fffffff\n  else if (byteOffset < -0x80000000) byteOffset = -0x80000000\n  byteOffset >>= 0\n\n  if (this.length === 0) return -1\n  if (byteOffset >= this.length) return -1\n\n  // Negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = Math.max(this.length + byteOffset, 0)\n\n  if (typeof val === 'string') {\n    if (val.length === 0) return -1 // special case: looking for empty string always fails\n    return String.prototype.indexOf.call(this, val, byteOffset)\n  }\n  if (Buffer.isBuffer(val)) {\n    return arrayIndexOf(this, val, byteOffset)\n  }\n  if (typeof val === 'number') {\n    if (Buffer.TYPED_ARRAY_SUPPORT && Uint8Array.prototype.indexOf === 'function') {\n      return Uint8Array.prototype.indexOf.call(this, val, byteOffset)\n    }\n    return arrayIndexOf(this, [ val ], byteOffset)\n  }\n\n  function arrayIndexOf (arr, val, byteOffset) {\n    var foundIndex = -1\n    for (var i = 0; byteOffset + i < arr.length; i++) {\n      if (arr[byteOffset + i] === val[foundIndex === -1 ? 0 : i - foundIndex]) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === val.length) return byteOffset + foundIndex\n      } else {\n        foundIndex = -1\n      }\n    }\n    return -1\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\n// `get` is deprecated\nBuffer.prototype.get = function get (offset) {\n  console.log('.get() is deprecated. Access using array indexes instead.')\n  return this.readUInt8(offset)\n}\n\n// `set` is deprecated\nBuffer.prototype.set = function set (v, offset) {\n  console.log('.set() is deprecated. Access using array indexes instead.')\n  return this.writeUInt8(v, offset)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new Error('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; i++) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) throw new Error('Invalid hex string')\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction binaryWrite (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    var swap = encoding\n    encoding = offset\n    offset = length | 0\n    length = swap\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'binary':\n        return binaryWrite(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; i++) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction binarySlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; i++) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; i++) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = Buffer._augment(this.subarray(start, end))\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; i++) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  if (newBuf.length) newBuf.parent = this.parent || this\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('buffer must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('value is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkInt(this, value, offset, byteLength, Math.pow(2, 8 * byteLength), 0)\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkInt(this, value, offset, byteLength, Math.pow(2, 8 * byteLength), 0)\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; i++) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; i++) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = value < 0 ? 1 : 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = value < 0 ? 1 : 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (value > max || value < min) throw new RangeError('value is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('index out of range')\n  if (offset < 0) throw new RangeError('index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; i--) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; i++) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    target._set(this.subarray(start, start + len), targetStart)\n  }\n\n  return len\n}\n\n// fill(value, start=0, end=buffer.length)\nBuffer.prototype.fill = function fill (value, start, end) {\n  if (!value) value = 0\n  if (!start) start = 0\n  if (!end) end = this.length\n\n  if (end < start) throw new RangeError('end < start')\n\n  // Fill 0 bytes; we're done\n  if (end === start) return\n  if (this.length === 0) return\n\n  if (start < 0 || start >= this.length) throw new RangeError('start out of bounds')\n  if (end < 0 || end > this.length) throw new RangeError('end out of bounds')\n\n  var i\n  if (typeof value === 'number') {\n    for (i = start; i < end; i++) {\n      this[i] = value\n    }\n  } else {\n    var bytes = utf8ToBytes(value.toString())\n    var len = bytes.length\n    for (i = start; i < end; i++) {\n      this[i] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n/**\n * Creates a new `ArrayBuffer` with the *copied* memory of the buffer instance.\n * Added in Node 0.12. Only available in browsers that support ArrayBuffer.\n */\nBuffer.prototype.toArrayBuffer = function toArrayBuffer () {\n  if (typeof Uint8Array !== 'undefined') {\n    if (Buffer.TYPED_ARRAY_SUPPORT) {\n      return (new Buffer(this)).buffer\n    } else {\n      var buf = new Uint8Array(this.length)\n      for (var i = 0, len = buf.length; i < len; i += 1) {\n        buf[i] = this[i]\n      }\n      return buf.buffer\n    }\n  } else {\n    throw new TypeError('Buffer.toArrayBuffer not supported in this browser')\n  }\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar BP = Buffer.prototype\n\n/**\n * Augment a Uint8Array *instance* (not the Uint8Array class!) with Buffer methods\n */\nBuffer._augment = function _augment (arr) {\n  arr.constructor = Buffer\n  arr._isBuffer = true\n\n  // save reference to original Uint8Array set method before overwriting\n  arr._set = arr.set\n\n  // deprecated\n  arr.get = BP.get\n  arr.set = BP.set\n\n  arr.write = BP.write\n  arr.toString = BP.toString\n  arr.toLocaleString = BP.toString\n  arr.toJSON = BP.toJSON\n  arr.equals = BP.equals\n  arr.compare = BP.compare\n  arr.indexOf = BP.indexOf\n  arr.copy = BP.copy\n  arr.slice = BP.slice\n  arr.readUIntLE = BP.readUIntLE\n  arr.readUIntBE = BP.readUIntBE\n  arr.readUInt8 = BP.readUInt8\n  arr.readUInt16LE = BP.readUInt16LE\n  arr.readUInt16BE = BP.readUInt16BE\n  arr.readUInt32LE = BP.readUInt32LE\n  arr.readUInt32BE = BP.readUInt32BE\n  arr.readIntLE = BP.readIntLE\n  arr.readIntBE = BP.readIntBE\n  arr.readInt8 = BP.readInt8\n  arr.readInt16LE = BP.readInt16LE\n  arr.readInt16BE = BP.readInt16BE\n  arr.readInt32LE = BP.readInt32LE\n  arr.readInt32BE = BP.readInt32BE\n  arr.readFloatLE = BP.readFloatLE\n  arr.readFloatBE = BP.readFloatBE\n  arr.readDoubleLE = BP.readDoubleLE\n  arr.readDoubleBE = BP.readDoubleBE\n  arr.writeUInt8 = BP.writeUInt8\n  arr.writeUIntLE = BP.writeUIntLE\n  arr.writeUIntBE = BP.writeUIntBE\n  arr.writeUInt16LE = BP.writeUInt16LE\n  arr.writeUInt16BE = BP.writeUInt16BE\n  arr.writeUInt32LE = BP.writeUInt32LE\n  arr.writeUInt32BE = BP.writeUInt32BE\n  arr.writeIntLE = BP.writeIntLE\n  arr.writeIntBE = BP.writeIntBE\n  arr.writeInt8 = BP.writeInt8\n  arr.writeInt16LE = BP.writeInt16LE\n  arr.writeInt16BE = BP.writeInt16BE\n  arr.writeInt32LE = BP.writeInt32LE\n  arr.writeInt32BE = BP.writeInt32BE\n  arr.writeFloatLE = BP.writeFloatLE\n  arr.writeFloatBE = BP.writeFloatBE\n  arr.writeDoubleLE = BP.writeDoubleLE\n  arr.writeDoubleBE = BP.writeDoubleBE\n  arr.fill = BP.fill\n  arr.inspect = BP.inspect\n  arr.toArrayBuffer = BP.toArrayBuffer\n\n  return arr\n}\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; i++) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; i++) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; i++) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; i++) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"base64-js\":3,\"ieee754\":19,\"isarray\":5}],5:[function(require,module,exports){\nvar toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n\n},{}],6:[function(require,module,exports){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      }\n      throw TypeError('Uncaught, unspecified \"error\" event.');\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        len = arguments.length;\n        args = new Array(len - 1);\n        for (i = 1; i < len; i++)\n          args[i - 1] = arguments[i];\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    len = arguments.length;\n    args = new Array(len - 1);\n    for (i = 1; i < len; i++)\n      args[i - 1] = arguments[i];\n\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    var m;\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  var ret;\n  if (!emitter._events || !emitter._events[type])\n    ret = 0;\n  else if (isFunction(emitter._events[type]))\n    ret = 1;\n  else\n    ret = emitter._events[type].length;\n  return ret;\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n\n},{}],7:[function(require,module,exports){\nmodule.exports = require(\"./lib/_stream_duplex.js\")\n\n},{\"./lib/_stream_duplex.js\":8}],8:[function(require,module,exports){\n(function (process){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a duplex stream is just a stream that is both readable and writable.\n// Since JS doesn't have multiple prototypal inheritance, this class\n// prototypally inherits from Readable, and then parasitically from\n// Writable.\n\nmodule.exports = Duplex;\n\n/*<replacement>*/\nvar objectKeys = Object.keys || function (obj) {\n  var keys = [];\n  for (var key in obj) keys.push(key);\n  return keys;\n}\n/*</replacement>*/\n\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nvar Readable = require('./_stream_readable');\nvar Writable = require('./_stream_writable');\n\nutil.inherits(Duplex, Readable);\n\nforEach(objectKeys(Writable.prototype), function(method) {\n  if (!Duplex.prototype[method])\n    Duplex.prototype[method] = Writable.prototype[method];\n});\n\nfunction Duplex(options) {\n  if (!(this instanceof Duplex))\n    return new Duplex(options);\n\n  Readable.call(this, options);\n  Writable.call(this, options);\n\n  if (options && options.readable === false)\n    this.readable = false;\n\n  if (options && options.writable === false)\n    this.writable = false;\n\n  this.allowHalfOpen = true;\n  if (options && options.allowHalfOpen === false)\n    this.allowHalfOpen = false;\n\n  this.once('end', onend);\n}\n\n// the no-half-open enforcer\nfunction onend() {\n  // if we allow half-open state, or if the writable side ended,\n  // then we're ok.\n  if (this.allowHalfOpen || this._writableState.ended)\n    return;\n\n  // no more data can be written.\n  // But allow more writes to happen in this tick.\n  process.nextTick(this.end.bind(this));\n}\n\nfunction forEach (xs, f) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    f(xs[i], i);\n  }\n}\n\n}).call(this,require('_process'))\n},{\"./_stream_readable\":10,\"./_stream_writable\":12,\"_process\":23,\"core-util-is\":18,\"inherits\":20}],9:[function(require,module,exports){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a passthrough stream.\n// basically just the most minimal sort of Transform stream.\n// Every written chunk gets output as-is.\n\nmodule.exports = PassThrough;\n\nvar Transform = require('./_stream_transform');\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nutil.inherits(PassThrough, Transform);\n\nfunction PassThrough(options) {\n  if (!(this instanceof PassThrough))\n    return new PassThrough(options);\n\n  Transform.call(this, options);\n}\n\nPassThrough.prototype._transform = function(chunk, encoding, cb) {\n  cb(null, chunk);\n};\n\n},{\"./_stream_transform\":11,\"core-util-is\":18,\"inherits\":20}],10:[function(require,module,exports){\n(function (process){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nmodule.exports = Readable;\n\n/*<replacement>*/\nvar isArray = require('isarray');\n/*</replacement>*/\n\n\n/*<replacement>*/\nvar Buffer = require('buffer').Buffer;\n/*</replacement>*/\n\nReadable.ReadableState = ReadableState;\n\nvar EE = require('events').EventEmitter;\n\n/*<replacement>*/\nif (!EE.listenerCount) EE.listenerCount = function(emitter, type) {\n  return emitter.listeners(type).length;\n};\n/*</replacement>*/\n\nvar Stream = require('stream');\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nvar StringDecoder;\n\n\n/*<replacement>*/\nvar debug = require('util');\nif (debug && debug.debuglog) {\n  debug = debug.debuglog('stream');\n} else {\n  debug = function () {};\n}\n/*</replacement>*/\n\n\nutil.inherits(Readable, Stream);\n\nfunction ReadableState(options, stream) {\n  var Duplex = require('./_stream_duplex');\n\n  options = options || {};\n\n  // the point at which it stops calling _read() to fill the buffer\n  // Note: 0 is a valid value, means \"don't call _read preemptively ever\"\n  var hwm = options.highWaterMark;\n  var defaultHwm = options.objectMode ? 16 : 16 * 1024;\n  this.highWaterMark = (hwm || hwm === 0) ? hwm : defaultHwm;\n\n  // cast to ints.\n  this.highWaterMark = ~~this.highWaterMark;\n\n  this.buffer = [];\n  this.length = 0;\n  this.pipes = null;\n  this.pipesCount = 0;\n  this.flowing = null;\n  this.ended = false;\n  this.endEmitted = false;\n  this.reading = false;\n\n  // a flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, because any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n  this.sync = true;\n\n  // whenever we return null, then we set a flag to say\n  // that we're awaiting a 'readable' event emission.\n  this.needReadable = false;\n  this.emittedReadable = false;\n  this.readableListening = false;\n\n\n  // object stream flag. Used to make read(n) ignore n and to\n  // make all the buffer merging and length checks go away\n  this.objectMode = !!options.objectMode;\n\n  if (stream instanceof Duplex)\n    this.objectMode = this.objectMode || !!options.readableObjectMode;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // when piping, we only care about 'readable' events that happen\n  // after read()ing all the bytes and not getting any pushback.\n  this.ranOut = false;\n\n  // the number of writers that are awaiting a drain event in .pipe()s\n  this.awaitDrain = 0;\n\n  // if true, a maybeReadMore has been scheduled\n  this.readingMore = false;\n\n  this.decoder = null;\n  this.encoding = null;\n  if (options.encoding) {\n    if (!StringDecoder)\n      StringDecoder = require('string_decoder/').StringDecoder;\n    this.decoder = new StringDecoder(options.encoding);\n    this.encoding = options.encoding;\n  }\n}\n\nfunction Readable(options) {\n  var Duplex = require('./_stream_duplex');\n\n  if (!(this instanceof Readable))\n    return new Readable(options);\n\n  this._readableState = new ReadableState(options, this);\n\n  // legacy\n  this.readable = true;\n\n  Stream.call(this);\n}\n\n// Manually shove something into the read() buffer.\n// This returns true if the highWaterMark has not been hit yet,\n// similar to how Writable.write() returns true if you should\n// write() some more.\nReadable.prototype.push = function(chunk, encoding) {\n  var state = this._readableState;\n\n  if (util.isString(chunk) && !state.objectMode) {\n    encoding = encoding || state.defaultEncoding;\n    if (encoding !== state.encoding) {\n      chunk = new Buffer(chunk, encoding);\n      encoding = '';\n    }\n  }\n\n  return readableAddChunk(this, state, chunk, encoding, false);\n};\n\n// Unshift should *always* be something directly out of read()\nReadable.prototype.unshift = function(chunk) {\n  var state = this._readableState;\n  return readableAddChunk(this, state, chunk, '', true);\n};\n\nfunction readableAddChunk(stream, state, chunk, encoding, addToFront) {\n  var er = chunkInvalid(state, chunk);\n  if (er) {\n    stream.emit('error', er);\n  } else if (util.isNullOrUndefined(chunk)) {\n    state.reading = false;\n    if (!state.ended)\n      onEofChunk(stream, state);\n  } else if (state.objectMode || chunk && chunk.length > 0) {\n    if (state.ended && !addToFront) {\n      var e = new Error('stream.push() after EOF');\n      stream.emit('error', e);\n    } else if (state.endEmitted && addToFront) {\n      var e = new Error('stream.unshift() after end event');\n      stream.emit('error', e);\n    } else {\n      if (state.decoder && !addToFront && !encoding)\n        chunk = state.decoder.write(chunk);\n\n      if (!addToFront)\n        state.reading = false;\n\n      // if we want the data now, just emit it.\n      if (state.flowing && state.length === 0 && !state.sync) {\n        stream.emit('data', chunk);\n        stream.read(0);\n      } else {\n        // update the buffer info.\n        state.length += state.objectMode ? 1 : chunk.length;\n        if (addToFront)\n          state.buffer.unshift(chunk);\n        else\n          state.buffer.push(chunk);\n\n        if (state.needReadable)\n          emitReadable(stream);\n      }\n\n      maybeReadMore(stream, state);\n    }\n  } else if (!addToFront) {\n    state.reading = false;\n  }\n\n  return needMoreData(state);\n}\n\n\n\n// if it's past the high water mark, we can push in some more.\n// Also, if we have no data yet, we can stand some\n// more bytes.  This is to work around cases where hwm=0,\n// such as the repl.  Also, if the push() triggered a\n// readable event, and the user called read(largeNumber) such that\n// needReadable was set, then we ought to push more, so that another\n// 'readable' event will be triggered.\nfunction needMoreData(state) {\n  return !state.ended &&\n         (state.needReadable ||\n          state.length < state.highWaterMark ||\n          state.length === 0);\n}\n\n// backwards compatibility.\nReadable.prototype.setEncoding = function(enc) {\n  if (!StringDecoder)\n    StringDecoder = require('string_decoder/').StringDecoder;\n  this._readableState.decoder = new StringDecoder(enc);\n  this._readableState.encoding = enc;\n  return this;\n};\n\n// Don't raise the hwm > 128MB\nvar MAX_HWM = 0x800000;\nfunction roundUpToNextPowerOf2(n) {\n  if (n >= MAX_HWM) {\n    n = MAX_HWM;\n  } else {\n    // Get the next highest power of 2\n    n--;\n    for (var p = 1; p < 32; p <<= 1) n |= n >> p;\n    n++;\n  }\n  return n;\n}\n\nfunction howMuchToRead(n, state) {\n  if (state.length === 0 && state.ended)\n    return 0;\n\n  if (state.objectMode)\n    return n === 0 ? 0 : 1;\n\n  if (isNaN(n) || util.isNull(n)) {\n    // only flow one buffer at a time\n    if (state.flowing && state.buffer.length)\n      return state.buffer[0].length;\n    else\n      return state.length;\n  }\n\n  if (n <= 0)\n    return 0;\n\n  // If we're asking for more than the target buffer level,\n  // then raise the water mark.  Bump up to the next highest\n  // power of 2, to prevent increasing it excessively in tiny\n  // amounts.\n  if (n > state.highWaterMark)\n    state.highWaterMark = roundUpToNextPowerOf2(n);\n\n  // don't have that much.  return null, unless we've ended.\n  if (n > state.length) {\n    if (!state.ended) {\n      state.needReadable = true;\n      return 0;\n    } else\n      return state.length;\n  }\n\n  return n;\n}\n\n// you can override either this method, or the async _read(n) below.\nReadable.prototype.read = function(n) {\n  debug('read', n);\n  var state = this._readableState;\n  var nOrig = n;\n\n  if (!util.isNumber(n) || n > 0)\n    state.emittedReadable = false;\n\n  // if we're doing read(0) to trigger a readable event, but we\n  // already have a bunch of data in the buffer, then just trigger\n  // the 'readable' event and move on.\n  if (n === 0 &&\n      state.needReadable &&\n      (state.length >= state.highWaterMark || state.ended)) {\n    debug('read: emitReadable', state.length, state.ended);\n    if (state.length === 0 && state.ended)\n      endReadable(this);\n    else\n      emitReadable(this);\n    return null;\n  }\n\n  n = howMuchToRead(n, state);\n\n  // if we've ended, and we're now clear, then finish it up.\n  if (n === 0 && state.ended) {\n    if (state.length === 0)\n      endReadable(this);\n    return null;\n  }\n\n  // All the actual chunk generation logic needs to be\n  // *below* the call to _read.  The reason is that in certain\n  // synthetic stream cases, such as passthrough streams, _read\n  // may be a completely synchronous operation which may change\n  // the state of the read buffer, providing enough data when\n  // before there was *not* enough.\n  //\n  // So, the steps are:\n  // 1. Figure out what the state of things will be after we do\n  // a read from the buffer.\n  //\n  // 2. If that resulting state will trigger a _read, then call _read.\n  // Note that this may be asynchronous, or synchronous.  Yes, it is\n  // deeply ugly to write APIs this way, but that still doesn't mean\n  // that the Readable class should behave improperly, as streams are\n  // designed to be sync/async agnostic.\n  // Take note if the _read call is sync or async (ie, if the read call\n  // has returned yet), so that we know whether or not it's safe to emit\n  // 'readable' etc.\n  //\n  // 3. Actually pull the requested chunks out of the buffer and return.\n\n  // if we need a readable event, then we need to do some reading.\n  var doRead = state.needReadable;\n  debug('need readable', doRead);\n\n  // if we currently have less than the highWaterMark, then also read some\n  if (state.length === 0 || state.length - n < state.highWaterMark) {\n    doRead = true;\n    debug('length less than watermark', doRead);\n  }\n\n  // however, if we've ended, then there's no point, and if we're already\n  // reading, then it's unnecessary.\n  if (state.ended || state.reading) {\n    doRead = false;\n    debug('reading or ended', doRead);\n  }\n\n  if (doRead) {\n    debug('do read');\n    state.reading = true;\n    state.sync = true;\n    // if the length is currently zero, then we *need* a readable event.\n    if (state.length === 0)\n      state.needReadable = true;\n    // call internal read method\n    this._read(state.highWaterMark);\n    state.sync = false;\n  }\n\n  // If _read pushed data synchronously, then `reading` will be false,\n  // and we need to re-evaluate how much data we can return to the user.\n  if (doRead && !state.reading)\n    n = howMuchToRead(nOrig, state);\n\n  var ret;\n  if (n > 0)\n    ret = fromList(n, state);\n  else\n    ret = null;\n\n  if (util.isNull(ret)) {\n    state.needReadable = true;\n    n = 0;\n  }\n\n  state.length -= n;\n\n  // If we have nothing in the buffer, then we want to know\n  // as soon as we *do* get something into the buffer.\n  if (state.length === 0 && !state.ended)\n    state.needReadable = true;\n\n  // If we tried to read() past the EOF, then emit end on the next tick.\n  if (nOrig !== n && state.ended && state.length === 0)\n    endReadable(this);\n\n  if (!util.isNull(ret))\n    this.emit('data', ret);\n\n  return ret;\n};\n\nfunction chunkInvalid(state, chunk) {\n  var er = null;\n  if (!util.isBuffer(chunk) &&\n      !util.isString(chunk) &&\n      !util.isNullOrUndefined(chunk) &&\n      !state.objectMode) {\n    er = new TypeError('Invalid non-string/buffer chunk');\n  }\n  return er;\n}\n\n\nfunction onEofChunk(stream, state) {\n  if (state.decoder && !state.ended) {\n    var chunk = state.decoder.end();\n    if (chunk && chunk.length) {\n      state.buffer.push(chunk);\n      state.length += state.objectMode ? 1 : chunk.length;\n    }\n  }\n  state.ended = true;\n\n  // emit 'readable' now to make sure it gets picked up.\n  emitReadable(stream);\n}\n\n// Don't emit readable right away in sync mode, because this can trigger\n// another read() call => stack overflow.  This way, it might trigger\n// a nextTick recursion warning, but that's not so bad.\nfunction emitReadable(stream) {\n  var state = stream._readableState;\n  state.needReadable = false;\n  if (!state.emittedReadable) {\n    debug('emitReadable', state.flowing);\n    state.emittedReadable = true;\n    if (state.sync)\n      process.nextTick(function() {\n        emitReadable_(stream);\n      });\n    else\n      emitReadable_(stream);\n  }\n}\n\nfunction emitReadable_(stream) {\n  debug('emit readable');\n  stream.emit('readable');\n  flow(stream);\n}\n\n\n// at this point, the user has presumably seen the 'readable' event,\n// and called read() to consume some data.  that may have triggered\n// in turn another _read(n) call, in which case reading = true if\n// it's in progress.\n// However, if we're not ended, or reading, and the length < hwm,\n// then go ahead and try to read some more preemptively.\nfunction maybeReadMore(stream, state) {\n  if (!state.readingMore) {\n    state.readingMore = true;\n    process.nextTick(function() {\n      maybeReadMore_(stream, state);\n    });\n  }\n}\n\nfunction maybeReadMore_(stream, state) {\n  var len = state.length;\n  while (!state.reading && !state.flowing && !state.ended &&\n         state.length < state.highWaterMark) {\n    debug('maybeReadMore read 0');\n    stream.read(0);\n    if (len === state.length)\n      // didn't get any data, stop spinning.\n      break;\n    else\n      len = state.length;\n  }\n  state.readingMore = false;\n}\n\n// abstract method.  to be overridden in specific implementation classes.\n// call cb(er, data) where data is <= n in length.\n// for virtual (non-string, non-buffer) streams, \"length\" is somewhat\n// arbitrary, and perhaps not very meaningful.\nReadable.prototype._read = function(n) {\n  this.emit('error', new Error('not implemented'));\n};\n\nReadable.prototype.pipe = function(dest, pipeOpts) {\n  var src = this;\n  var state = this._readableState;\n\n  switch (state.pipesCount) {\n    case 0:\n      state.pipes = dest;\n      break;\n    case 1:\n      state.pipes = [state.pipes, dest];\n      break;\n    default:\n      state.pipes.push(dest);\n      break;\n  }\n  state.pipesCount += 1;\n  debug('pipe count=%d opts=%j', state.pipesCount, pipeOpts);\n\n  var doEnd = (!pipeOpts || pipeOpts.end !== false) &&\n              dest !== process.stdout &&\n              dest !== process.stderr;\n\n  var endFn = doEnd ? onend : cleanup;\n  if (state.endEmitted)\n    process.nextTick(endFn);\n  else\n    src.once('end', endFn);\n\n  dest.on('unpipe', onunpipe);\n  function onunpipe(readable) {\n    debug('onunpipe');\n    if (readable === src) {\n      cleanup();\n    }\n  }\n\n  function onend() {\n    debug('onend');\n    dest.end();\n  }\n\n  // when the dest drains, it reduces the awaitDrain counter\n  // on the source.  This would be more elegant with a .once()\n  // handler in flow(), but adding and removing repeatedly is\n  // too slow.\n  var ondrain = pipeOnDrain(src);\n  dest.on('drain', ondrain);\n\n  function cleanup() {\n    debug('cleanup');\n    // cleanup event handlers once the pipe is broken\n    dest.removeListener('close', onclose);\n    dest.removeListener('finish', onfinish);\n    dest.removeListener('drain', ondrain);\n    dest.removeListener('error', onerror);\n    dest.removeListener('unpipe', onunpipe);\n    src.removeListener('end', onend);\n    src.removeListener('end', cleanup);\n    src.removeListener('data', ondata);\n\n    // if the reader is waiting for a drain event from this\n    // specific writer, then it would cause it to never start\n    // flowing again.\n    // So, if this is awaiting a drain, then we just call it now.\n    // If we don't know, then assume that we are waiting for one.\n    if (state.awaitDrain &&\n        (!dest._writableState || dest._writableState.needDrain))\n      ondrain();\n  }\n\n  src.on('data', ondata);\n  function ondata(chunk) {\n    debug('ondata');\n    var ret = dest.write(chunk);\n    if (false === ret) {\n      debug('false write response, pause',\n            src._readableState.awaitDrain);\n      src._readableState.awaitDrain++;\n      src.pause();\n    }\n  }\n\n  // if the dest has an error, then stop piping into it.\n  // however, don't suppress the throwing behavior for this.\n  function onerror(er) {\n    debug('onerror', er);\n    unpipe();\n    dest.removeListener('error', onerror);\n    if (EE.listenerCount(dest, 'error') === 0)\n      dest.emit('error', er);\n  }\n  // This is a brutally ugly hack to make sure that our error handler\n  // is attached before any userland ones.  NEVER DO THIS.\n  if (!dest._events || !dest._events.error)\n    dest.on('error', onerror);\n  else if (isArray(dest._events.error))\n    dest._events.error.unshift(onerror);\n  else\n    dest._events.error = [onerror, dest._events.error];\n\n\n\n  // Both close and finish should trigger unpipe, but only once.\n  function onclose() {\n    dest.removeListener('finish', onfinish);\n    unpipe();\n  }\n  dest.once('close', onclose);\n  function onfinish() {\n    debug('onfinish');\n    dest.removeListener('close', onclose);\n    unpipe();\n  }\n  dest.once('finish', onfinish);\n\n  function unpipe() {\n    debug('unpipe');\n    src.unpipe(dest);\n  }\n\n  // tell the dest that it's being piped to\n  dest.emit('pipe', src);\n\n  // start the flow if it hasn't been started already.\n  if (!state.flowing) {\n    debug('pipe resume');\n    src.resume();\n  }\n\n  return dest;\n};\n\nfunction pipeOnDrain(src) {\n  return function() {\n    var state = src._readableState;\n    debug('pipeOnDrain', state.awaitDrain);\n    if (state.awaitDrain)\n      state.awaitDrain--;\n    if (state.awaitDrain === 0 && EE.listenerCount(src, 'data')) {\n      state.flowing = true;\n      flow(src);\n    }\n  };\n}\n\n\nReadable.prototype.unpipe = function(dest) {\n  var state = this._readableState;\n\n  // if we're not piping anywhere, then do nothing.\n  if (state.pipesCount === 0)\n    return this;\n\n  // just one destination.  most common case.\n  if (state.pipesCount === 1) {\n    // passed in one, but it's not the right one.\n    if (dest && dest !== state.pipes)\n      return this;\n\n    if (!dest)\n      dest = state.pipes;\n\n    // got a match.\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n    if (dest)\n      dest.emit('unpipe', this);\n    return this;\n  }\n\n  // slow case. multiple pipe destinations.\n\n  if (!dest) {\n    // remove all.\n    var dests = state.pipes;\n    var len = state.pipesCount;\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n\n    for (var i = 0; i < len; i++)\n      dests[i].emit('unpipe', this);\n    return this;\n  }\n\n  // try to find the right one.\n  var i = indexOf(state.pipes, dest);\n  if (i === -1)\n    return this;\n\n  state.pipes.splice(i, 1);\n  state.pipesCount -= 1;\n  if (state.pipesCount === 1)\n    state.pipes = state.pipes[0];\n\n  dest.emit('unpipe', this);\n\n  return this;\n};\n\n// set up data events if they are asked for\n// Ensure readable listeners eventually get something\nReadable.prototype.on = function(ev, fn) {\n  var res = Stream.prototype.on.call(this, ev, fn);\n\n  // If listening to data, and it has not explicitly been paused,\n  // then call resume to start the flow of data on the next tick.\n  if (ev === 'data' && false !== this._readableState.flowing) {\n    this.resume();\n  }\n\n  if (ev === 'readable' && this.readable) {\n    var state = this._readableState;\n    if (!state.readableListening) {\n      state.readableListening = true;\n      state.emittedReadable = false;\n      state.needReadable = true;\n      if (!state.reading) {\n        var self = this;\n        process.nextTick(function() {\n          debug('readable nexttick read 0');\n          self.read(0);\n        });\n      } else if (state.length) {\n        emitReadable(this, state);\n      }\n    }\n  }\n\n  return res;\n};\nReadable.prototype.addListener = Readable.prototype.on;\n\n// pause() and resume() are remnants of the legacy readable stream API\n// If the user uses them, then switch into old mode.\nReadable.prototype.resume = function() {\n  var state = this._readableState;\n  if (!state.flowing) {\n    debug('resume');\n    state.flowing = true;\n    if (!state.reading) {\n      debug('resume read 0');\n      this.read(0);\n    }\n    resume(this, state);\n  }\n  return this;\n};\n\nfunction resume(stream, state) {\n  if (!state.resumeScheduled) {\n    state.resumeScheduled = true;\n    process.nextTick(function() {\n      resume_(stream, state);\n    });\n  }\n}\n\nfunction resume_(stream, state) {\n  state.resumeScheduled = false;\n  stream.emit('resume');\n  flow(stream);\n  if (state.flowing && !state.reading)\n    stream.read(0);\n}\n\nReadable.prototype.pause = function() {\n  debug('call pause flowing=%j', this._readableState.flowing);\n  if (false !== this._readableState.flowing) {\n    debug('pause');\n    this._readableState.flowing = false;\n    this.emit('pause');\n  }\n  return this;\n};\n\nfunction flow(stream) {\n  var state = stream._readableState;\n  debug('flow', state.flowing);\n  if (state.flowing) {\n    do {\n      var chunk = stream.read();\n    } while (null !== chunk && state.flowing);\n  }\n}\n\n// wrap an old-style stream as the async data source.\n// This is *not* part of the readable stream interface.\n// It is an ugly unfortunate mess of history.\nReadable.prototype.wrap = function(stream) {\n  var state = this._readableState;\n  var paused = false;\n\n  var self = this;\n  stream.on('end', function() {\n    debug('wrapped end');\n    if (state.decoder && !state.ended) {\n      var chunk = state.decoder.end();\n      if (chunk && chunk.length)\n        self.push(chunk);\n    }\n\n    self.push(null);\n  });\n\n  stream.on('data', function(chunk) {\n    debug('wrapped data');\n    if (state.decoder)\n      chunk = state.decoder.write(chunk);\n    if (!chunk || !state.objectMode && !chunk.length)\n      return;\n\n    var ret = self.push(chunk);\n    if (!ret) {\n      paused = true;\n      stream.pause();\n    }\n  });\n\n  // proxy all the other methods.\n  // important when wrapping filters and duplexes.\n  for (var i in stream) {\n    if (util.isFunction(stream[i]) && util.isUndefined(this[i])) {\n      this[i] = function(method) { return function() {\n        return stream[method].apply(stream, arguments);\n      }}(i);\n    }\n  }\n\n  // proxy certain important events.\n  var events = ['error', 'close', 'destroy', 'pause', 'resume'];\n  forEach(events, function(ev) {\n    stream.on(ev, self.emit.bind(self, ev));\n  });\n\n  // when we try to consume some more bytes, simply unpause the\n  // underlying stream.\n  self._read = function(n) {\n    debug('wrapped _read', n);\n    if (paused) {\n      paused = false;\n      stream.resume();\n    }\n  };\n\n  return self;\n};\n\n\n\n// exposed for testing purposes only.\nReadable._fromList = fromList;\n\n// Pluck off n bytes from an array of buffers.\n// Length is the combined lengths of all the buffers in the list.\nfunction fromList(n, state) {\n  var list = state.buffer;\n  var length = state.length;\n  var stringMode = !!state.decoder;\n  var objectMode = !!state.objectMode;\n  var ret;\n\n  // nothing in the list, definitely empty.\n  if (list.length === 0)\n    return null;\n\n  if (length === 0)\n    ret = null;\n  else if (objectMode)\n    ret = list.shift();\n  else if (!n || n >= length) {\n    // read it all, truncate the array.\n    if (stringMode)\n      ret = list.join('');\n    else\n      ret = Buffer.concat(list, length);\n    list.length = 0;\n  } else {\n    // read just some of it.\n    if (n < list[0].length) {\n      // just take a part of the first list item.\n      // slice is the same for buffers and strings.\n      var buf = list[0];\n      ret = buf.slice(0, n);\n      list[0] = buf.slice(n);\n    } else if (n === list[0].length) {\n      // first list is a perfect match\n      ret = list.shift();\n    } else {\n      // complex case.\n      // we have enough to cover it, but it spans past the first buffer.\n      if (stringMode)\n        ret = '';\n      else\n        ret = new Buffer(n);\n\n      var c = 0;\n      for (var i = 0, l = list.length; i < l && c < n; i++) {\n        var buf = list[0];\n        var cpy = Math.min(n - c, buf.length);\n\n        if (stringMode)\n          ret += buf.slice(0, cpy);\n        else\n          buf.copy(ret, c, 0, cpy);\n\n        if (cpy < buf.length)\n          list[0] = buf.slice(cpy);\n        else\n          list.shift();\n\n        c += cpy;\n      }\n    }\n  }\n\n  return ret;\n}\n\nfunction endReadable(stream) {\n  var state = stream._readableState;\n\n  // If we get here before consuming all the bytes, then that is a\n  // bug in node.  Should never happen.\n  if (state.length > 0)\n    throw new Error('endReadable called on non-empty stream');\n\n  if (!state.endEmitted) {\n    state.ended = true;\n    process.nextTick(function() {\n      // Check that we didn't get one last unshift.\n      if (!state.endEmitted && state.length === 0) {\n        state.endEmitted = true;\n        stream.readable = false;\n        stream.emit('end');\n      }\n    });\n  }\n}\n\nfunction forEach (xs, f) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    f(xs[i], i);\n  }\n}\n\nfunction indexOf (xs, x) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    if (xs[i] === x) return i;\n  }\n  return -1;\n}\n\n}).call(this,require('_process'))\n},{\"./_stream_duplex\":8,\"_process\":23,\"buffer\":4,\"core-util-is\":18,\"events\":6,\"inherits\":20,\"isarray\":22,\"stream\":17,\"string_decoder/\":25,\"util\":1}],11:[function(require,module,exports){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n\n// a transform stream is a readable/writable stream where you do\n// something with the data.  Sometimes it's called a \"filter\",\n// but that's not a great name for it, since that implies a thing where\n// some bits pass through, and others are simply ignored.  (That would\n// be a valid example of a transform, of course.)\n//\n// While the output is causally related to the input, it's not a\n// necessarily symmetric or synchronous transformation.  For example,\n// a zlib stream might take multiple plain-text writes(), and then\n// emit a single compressed chunk some time in the future.\n//\n// Here's how this works:\n//\n// The Transform stream has all the aspects of the readable and writable\n// stream classes.  When you write(chunk), that calls _write(chunk,cb)\n// internally, and returns false if there's a lot of pending writes\n// buffered up.  When you call read(), that calls _read(n) until\n// there's enough pending readable data buffered up.\n//\n// In a transform stream, the written data is placed in a buffer.  When\n// _read(n) is called, it transforms the queued up data, calling the\n// buffered _write cb's as it consumes chunks.  If consuming a single\n// written chunk would result in multiple output chunks, then the first\n// outputted bit calls the readcb, and subsequent chunks just go into\n// the read buffer, and will cause it to emit 'readable' if necessary.\n//\n// This way, back-pressure is actually determined by the reading side,\n// since _read has to be called to start processing a new chunk.  However,\n// a pathological inflate type of transform can cause excessive buffering\n// here.  For example, imagine a stream where every byte of input is\n// interpreted as an integer from 0-255, and then results in that many\n// bytes of output.  Writing the 4 bytes {ff,ff,ff,ff} would result in\n// 1kb of data being output.  In this case, you could write a very small\n// amount of input, and end up with a very large amount of output.  In\n// such a pathological inflating mechanism, there'd be no way to tell\n// the system to stop doing the transform.  A single 4MB write could\n// cause the system to run out of memory.\n//\n// However, even in such a pathological case, only a single written chunk\n// would be consumed, and then the rest would wait (un-transformed) until\n// the results of the previous transformed chunk were consumed.\n\nmodule.exports = Transform;\n\nvar Duplex = require('./_stream_duplex');\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nutil.inherits(Transform, Duplex);\n\n\nfunction TransformState(options, stream) {\n  this.afterTransform = function(er, data) {\n    return afterTransform(stream, er, data);\n  };\n\n  this.needTransform = false;\n  this.transforming = false;\n  this.writecb = null;\n  this.writechunk = null;\n}\n\nfunction afterTransform(stream, er, data) {\n  var ts = stream._transformState;\n  ts.transforming = false;\n\n  var cb = ts.writecb;\n\n  if (!cb)\n    return stream.emit('error', new Error('no writecb in Transform class'));\n\n  ts.writechunk = null;\n  ts.writecb = null;\n\n  if (!util.isNullOrUndefined(data))\n    stream.push(data);\n\n  if (cb)\n    cb(er);\n\n  var rs = stream._readableState;\n  rs.reading = false;\n  if (rs.needReadable || rs.length < rs.highWaterMark) {\n    stream._read(rs.highWaterMark);\n  }\n}\n\n\nfunction Transform(options) {\n  if (!(this instanceof Transform))\n    return new Transform(options);\n\n  Duplex.call(this, options);\n\n  this._transformState = new TransformState(options, this);\n\n  // when the writable side finishes, then flush out anything remaining.\n  var stream = this;\n\n  // start out asking for a readable event once data is transformed.\n  this._readableState.needReadable = true;\n\n  // we have implemented the _read method, and done the other things\n  // that Readable wants before the first _read call, so unset the\n  // sync guard flag.\n  this._readableState.sync = false;\n\n  this.once('prefinish', function() {\n    if (util.isFunction(this._flush))\n      this._flush(function(er) {\n        done(stream, er);\n      });\n    else\n      done(stream);\n  });\n}\n\nTransform.prototype.push = function(chunk, encoding) {\n  this._transformState.needTransform = false;\n  return Duplex.prototype.push.call(this, chunk, encoding);\n};\n\n// This is the part where you do stuff!\n// override this function in implementation classes.\n// 'chunk' is an input chunk.\n//\n// Call `push(newChunk)` to pass along transformed output\n// to the readable side.  You may call 'push' zero or more times.\n//\n// Call `cb(err)` when you are done with this chunk.  If you pass\n// an error, then that'll put the hurt on the whole operation.  If you\n// never call cb(), then you'll never get another chunk.\nTransform.prototype._transform = function(chunk, encoding, cb) {\n  throw new Error('not implemented');\n};\n\nTransform.prototype._write = function(chunk, encoding, cb) {\n  var ts = this._transformState;\n  ts.writecb = cb;\n  ts.writechunk = chunk;\n  ts.writeencoding = encoding;\n  if (!ts.transforming) {\n    var rs = this._readableState;\n    if (ts.needTransform ||\n        rs.needReadable ||\n        rs.length < rs.highWaterMark)\n      this._read(rs.highWaterMark);\n  }\n};\n\n// Doesn't matter what the args are here.\n// _transform does all the work.\n// That we got here means that the readable side wants more data.\nTransform.prototype._read = function(n) {\n  var ts = this._transformState;\n\n  if (!util.isNull(ts.writechunk) && ts.writecb && !ts.transforming) {\n    ts.transforming = true;\n    this._transform(ts.writechunk, ts.writeencoding, ts.afterTransform);\n  } else {\n    // mark that we need a transform, so that any data that comes in\n    // will get processed, now that we've asked for it.\n    ts.needTransform = true;\n  }\n};\n\n\nfunction done(stream, er) {\n  if (er)\n    return stream.emit('error', er);\n\n  // if there's nothing in the write buffer, then that means\n  // that nothing more will ever be provided\n  var ws = stream._writableState;\n  var ts = stream._transformState;\n\n  if (ws.length)\n    throw new Error('calling transform done when ws.length != 0');\n\n  if (ts.transforming)\n    throw new Error('calling transform done when still transforming');\n\n  return stream.push(null);\n}\n\n},{\"./_stream_duplex\":8,\"core-util-is\":18,\"inherits\":20}],12:[function(require,module,exports){\n(function (process){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// A bit simpler than readable streams.\n// Implement an async ._write(chunk, cb), and it'll handle all\n// the drain event emission and buffering.\n\nmodule.exports = Writable;\n\n/*<replacement>*/\nvar Buffer = require('buffer').Buffer;\n/*</replacement>*/\n\nWritable.WritableState = WritableState;\n\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nvar Stream = require('stream');\n\nutil.inherits(Writable, Stream);\n\nfunction WriteReq(chunk, encoding, cb) {\n  this.chunk = chunk;\n  this.encoding = encoding;\n  this.callback = cb;\n}\n\nfunction WritableState(options, stream) {\n  var Duplex = require('./_stream_duplex');\n\n  options = options || {};\n\n  // the point at which write() starts returning false\n  // Note: 0 is a valid value, means that we always return false if\n  // the entire buffer is not flushed immediately on write()\n  var hwm = options.highWaterMark;\n  var defaultHwm = options.objectMode ? 16 : 16 * 1024;\n  this.highWaterMark = (hwm || hwm === 0) ? hwm : defaultHwm;\n\n  // object stream flag to indicate whether or not this stream\n  // contains buffers or objects.\n  this.objectMode = !!options.objectMode;\n\n  if (stream instanceof Duplex)\n    this.objectMode = this.objectMode || !!options.writableObjectMode;\n\n  // cast to ints.\n  this.highWaterMark = ~~this.highWaterMark;\n\n  this.needDrain = false;\n  // at the start of calling end()\n  this.ending = false;\n  // when end() has been called, and returned\n  this.ended = false;\n  // when 'finish' is emitted\n  this.finished = false;\n\n  // should we decode strings into buffers before passing to _write?\n  // this is here so that some node-core streams can optimize string\n  // handling at a lower level.\n  var noDecode = options.decodeStrings === false;\n  this.decodeStrings = !noDecode;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // not an actual buffer we keep track of, but a measurement\n  // of how much we're waiting to get pushed to some underlying\n  // socket or file.\n  this.length = 0;\n\n  // a flag to see when we're in the middle of a write.\n  this.writing = false;\n\n  // when true all writes will be buffered until .uncork() call\n  this.corked = 0;\n\n  // a flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, because any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n  this.sync = true;\n\n  // a flag to know if we're processing previously buffered items, which\n  // may call the _write() callback in the same tick, so that we don't\n  // end up in an overlapped onwrite situation.\n  this.bufferProcessing = false;\n\n  // the callback that's passed to _write(chunk,cb)\n  this.onwrite = function(er) {\n    onwrite(stream, er);\n  };\n\n  // the callback that the user supplies to write(chunk,encoding,cb)\n  this.writecb = null;\n\n  // the amount that is being written when _write is called.\n  this.writelen = 0;\n\n  this.buffer = [];\n\n  // number of pending user-supplied write callbacks\n  // this must be 0 before 'finish' can be emitted\n  this.pendingcb = 0;\n\n  // emit prefinish if the only thing we're waiting for is _write cbs\n  // This is relevant for synchronous Transform streams\n  this.prefinished = false;\n\n  // True if the error was already emitted and should not be thrown again\n  this.errorEmitted = false;\n}\n\nfunction Writable(options) {\n  var Duplex = require('./_stream_duplex');\n\n  // Writable ctor is applied to Duplexes, though they're not\n  // instanceof Writable, they're instanceof Readable.\n  if (!(this instanceof Writable) && !(this instanceof Duplex))\n    return new Writable(options);\n\n  this._writableState = new WritableState(options, this);\n\n  // legacy.\n  this.writable = true;\n\n  Stream.call(this);\n}\n\n// Otherwise people can pipe Writable streams, which is just wrong.\nWritable.prototype.pipe = function() {\n  this.emit('error', new Error('Cannot pipe. Not readable.'));\n};\n\n\nfunction writeAfterEnd(stream, state, cb) {\n  var er = new Error('write after end');\n  // TODO: defer error events consistently everywhere, not just the cb\n  stream.emit('error', er);\n  process.nextTick(function() {\n    cb(er);\n  });\n}\n\n// If we get something that is not a buffer, string, null, or undefined,\n// and we're not in objectMode, then that's an error.\n// Otherwise stream chunks are all considered to be of length=1, and the\n// watermarks determine how many objects to keep in the buffer, rather than\n// how many bytes or characters.\nfunction validChunk(stream, state, chunk, cb) {\n  var valid = true;\n  if (!util.isBuffer(chunk) &&\n      !util.isString(chunk) &&\n      !util.isNullOrUndefined(chunk) &&\n      !state.objectMode) {\n    var er = new TypeError('Invalid non-string/buffer chunk');\n    stream.emit('error', er);\n    process.nextTick(function() {\n      cb(er);\n    });\n    valid = false;\n  }\n  return valid;\n}\n\nWritable.prototype.write = function(chunk, encoding, cb) {\n  var state = this._writableState;\n  var ret = false;\n\n  if (util.isFunction(encoding)) {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (util.isBuffer(chunk))\n    encoding = 'buffer';\n  else if (!encoding)\n    encoding = state.defaultEncoding;\n\n  if (!util.isFunction(cb))\n    cb = function() {};\n\n  if (state.ended)\n    writeAfterEnd(this, state, cb);\n  else if (validChunk(this, state, chunk, cb)) {\n    state.pendingcb++;\n    ret = writeOrBuffer(this, state, chunk, encoding, cb);\n  }\n\n  return ret;\n};\n\nWritable.prototype.cork = function() {\n  var state = this._writableState;\n\n  state.corked++;\n};\n\nWritable.prototype.uncork = function() {\n  var state = this._writableState;\n\n  if (state.corked) {\n    state.corked--;\n\n    if (!state.writing &&\n        !state.corked &&\n        !state.finished &&\n        !state.bufferProcessing &&\n        state.buffer.length)\n      clearBuffer(this, state);\n  }\n};\n\nfunction decodeChunk(state, chunk, encoding) {\n  if (!state.objectMode &&\n      state.decodeStrings !== false &&\n      util.isString(chunk)) {\n    chunk = new Buffer(chunk, encoding);\n  }\n  return chunk;\n}\n\n// if we're already writing something, then just put this\n// in the queue, and wait our turn.  Otherwise, call _write\n// If we return false, then we need a drain event, so set that flag.\nfunction writeOrBuffer(stream, state, chunk, encoding, cb) {\n  chunk = decodeChunk(state, chunk, encoding);\n  if (util.isBuffer(chunk))\n    encoding = 'buffer';\n  var len = state.objectMode ? 1 : chunk.length;\n\n  state.length += len;\n\n  var ret = state.length < state.highWaterMark;\n  // we must ensure that previous needDrain will not be reset to false.\n  if (!ret)\n    state.needDrain = true;\n\n  if (state.writing || state.corked)\n    state.buffer.push(new WriteReq(chunk, encoding, cb));\n  else\n    doWrite(stream, state, false, len, chunk, encoding, cb);\n\n  return ret;\n}\n\nfunction doWrite(stream, state, writev, len, chunk, encoding, cb) {\n  state.writelen = len;\n  state.writecb = cb;\n  state.writing = true;\n  state.sync = true;\n  if (writev)\n    stream._writev(chunk, state.onwrite);\n  else\n    stream._write(chunk, encoding, state.onwrite);\n  state.sync = false;\n}\n\nfunction onwriteError(stream, state, sync, er, cb) {\n  if (sync)\n    process.nextTick(function() {\n      state.pendingcb--;\n      cb(er);\n    });\n  else {\n    state.pendingcb--;\n    cb(er);\n  }\n\n  stream._writableState.errorEmitted = true;\n  stream.emit('error', er);\n}\n\nfunction onwriteStateUpdate(state) {\n  state.writing = false;\n  state.writecb = null;\n  state.length -= state.writelen;\n  state.writelen = 0;\n}\n\nfunction onwrite(stream, er) {\n  var state = stream._writableState;\n  var sync = state.sync;\n  var cb = state.writecb;\n\n  onwriteStateUpdate(state);\n\n  if (er)\n    onwriteError(stream, state, sync, er, cb);\n  else {\n    // Check if we're actually ready to finish, but don't emit yet\n    var finished = needFinish(stream, state);\n\n    if (!finished &&\n        !state.corked &&\n        !state.bufferProcessing &&\n        state.buffer.length) {\n      clearBuffer(stream, state);\n    }\n\n    if (sync) {\n      process.nextTick(function() {\n        afterWrite(stream, state, finished, cb);\n      });\n    } else {\n      afterWrite(stream, state, finished, cb);\n    }\n  }\n}\n\nfunction afterWrite(stream, state, finished, cb) {\n  if (!finished)\n    onwriteDrain(stream, state);\n  state.pendingcb--;\n  cb();\n  finishMaybe(stream, state);\n}\n\n// Must force callback to be called on nextTick, so that we don't\n// emit 'drain' before the write() consumer gets the 'false' return\n// value, and has a chance to attach a 'drain' listener.\nfunction onwriteDrain(stream, state) {\n  if (state.length === 0 && state.needDrain) {\n    state.needDrain = false;\n    stream.emit('drain');\n  }\n}\n\n\n// if there's something in the buffer waiting, then process it\nfunction clearBuffer(stream, state) {\n  state.bufferProcessing = true;\n\n  if (stream._writev && state.buffer.length > 1) {\n    // Fast case, write everything using _writev()\n    var cbs = [];\n    for (var c = 0; c < state.buffer.length; c++)\n      cbs.push(state.buffer[c].callback);\n\n    // count the one we are adding, as well.\n    // TODO(isaacs) clean this up\n    state.pendingcb++;\n    doWrite(stream, state, true, state.length, state.buffer, '', function(err) {\n      for (var i = 0; i < cbs.length; i++) {\n        state.pendingcb--;\n        cbs[i](err);\n      }\n    });\n\n    // Clear buffer\n    state.buffer = [];\n  } else {\n    // Slow case, write chunks one-by-one\n    for (var c = 0; c < state.buffer.length; c++) {\n      var entry = state.buffer[c];\n      var chunk = entry.chunk;\n      var encoding = entry.encoding;\n      var cb = entry.callback;\n      var len = state.objectMode ? 1 : chunk.length;\n\n      doWrite(stream, state, false, len, chunk, encoding, cb);\n\n      // if we didn't call the onwrite immediately, then\n      // it means that we need to wait until it does.\n      // also, that means that the chunk and cb are currently\n      // being processed, so move the buffer counter past them.\n      if (state.writing) {\n        c++;\n        break;\n      }\n    }\n\n    if (c < state.buffer.length)\n      state.buffer = state.buffer.slice(c);\n    else\n      state.buffer.length = 0;\n  }\n\n  state.bufferProcessing = false;\n}\n\nWritable.prototype._write = function(chunk, encoding, cb) {\n  cb(new Error('not implemented'));\n\n};\n\nWritable.prototype._writev = null;\n\nWritable.prototype.end = function(chunk, encoding, cb) {\n  var state = this._writableState;\n\n  if (util.isFunction(chunk)) {\n    cb = chunk;\n    chunk = null;\n    encoding = null;\n  } else if (util.isFunction(encoding)) {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (!util.isNullOrUndefined(chunk))\n    this.write(chunk, encoding);\n\n  // .end() fully uncorks\n  if (state.corked) {\n    state.corked = 1;\n    this.uncork();\n  }\n\n  // ignore unnecessary end() calls.\n  if (!state.ending && !state.finished)\n    endWritable(this, state, cb);\n};\n\n\nfunction needFinish(stream, state) {\n  return (state.ending &&\n          state.length === 0 &&\n          !state.finished &&\n          !state.writing);\n}\n\nfunction prefinish(stream, state) {\n  if (!state.prefinished) {\n    state.prefinished = true;\n    stream.emit('prefinish');\n  }\n}\n\nfunction finishMaybe(stream, state) {\n  var need = needFinish(stream, state);\n  if (need) {\n    if (state.pendingcb === 0) {\n      prefinish(stream, state);\n      state.finished = true;\n      stream.emit('finish');\n    } else\n      prefinish(stream, state);\n  }\n  return need;\n}\n\nfunction endWritable(stream, state, cb) {\n  state.ending = true;\n  finishMaybe(stream, state);\n  if (cb) {\n    if (state.finished)\n      process.nextTick(cb);\n    else\n      stream.once('finish', cb);\n  }\n  state.ended = true;\n}\n\n}).call(this,require('_process'))\n},{\"./_stream_duplex\":8,\"_process\":23,\"buffer\":4,\"core-util-is\":18,\"inherits\":20,\"stream\":17}],13:[function(require,module,exports){\nmodule.exports = require(\"./lib/_stream_passthrough.js\")\n\n},{\"./lib/_stream_passthrough.js\":9}],14:[function(require,module,exports){\n(function (process){\nexports = module.exports = require('./lib/_stream_readable.js');\nexports.Stream = require('stream');\nexports.Readable = exports;\nexports.Writable = require('./lib/_stream_writable.js');\nexports.Duplex = require('./lib/_stream_duplex.js');\nexports.Transform = require('./lib/_stream_transform.js');\nexports.PassThrough = require('./lib/_stream_passthrough.js');\nif (!process.browser && process.env.READABLE_STREAM === 'disable') {\n  module.exports = require('stream');\n}\n\n}).call(this,require('_process'))\n},{\"./lib/_stream_duplex.js\":8,\"./lib/_stream_passthrough.js\":9,\"./lib/_stream_readable.js\":10,\"./lib/_stream_transform.js\":11,\"./lib/_stream_writable.js\":12,\"_process\":23,\"stream\":17}],15:[function(require,module,exports){\nmodule.exports = require(\"./lib/_stream_transform.js\")\n\n},{\"./lib/_stream_transform.js\":11}],16:[function(require,module,exports){\nmodule.exports = require(\"./lib/_stream_writable.js\")\n\n},{\"./lib/_stream_writable.js\":12}],17:[function(require,module,exports){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nmodule.exports = Stream;\n\nvar EE = require('events').EventEmitter;\nvar inherits = require('inherits');\n\ninherits(Stream, EE);\nStream.Readable = require('readable-stream/readable.js');\nStream.Writable = require('readable-stream/writable.js');\nStream.Duplex = require('readable-stream/duplex.js');\nStream.Transform = require('readable-stream/transform.js');\nStream.PassThrough = require('readable-stream/passthrough.js');\n\n// Backwards-compat with node 0.4.x\nStream.Stream = Stream;\n\n\n\n// old-style streams.  Note that the pipe method (the only relevant\n// part of this class) is overridden in the Readable class.\n\nfunction Stream() {\n  EE.call(this);\n}\n\nStream.prototype.pipe = function(dest, options) {\n  var source = this;\n\n  function ondata(chunk) {\n    if (dest.writable) {\n      if (false === dest.write(chunk) && source.pause) {\n        source.pause();\n      }\n    }\n  }\n\n  source.on('data', ondata);\n\n  function ondrain() {\n    if (source.readable && source.resume) {\n      source.resume();\n    }\n  }\n\n  dest.on('drain', ondrain);\n\n  // If the 'end' option is not supplied, dest.end() will be called when\n  // source gets the 'end' or 'close' events.  Only dest.end() once.\n  if (!dest._isStdio && (!options || options.end !== false)) {\n    source.on('end', onend);\n    source.on('close', onclose);\n  }\n\n  var didOnEnd = false;\n  function onend() {\n    if (didOnEnd) return;\n    didOnEnd = true;\n\n    dest.end();\n  }\n\n\n  function onclose() {\n    if (didOnEnd) return;\n    didOnEnd = true;\n\n    if (typeof dest.destroy === 'function') dest.destroy();\n  }\n\n  // don't leave dangling pipes when there are errors.\n  function onerror(er) {\n    cleanup();\n    if (EE.listenerCount(this, 'error') === 0) {\n      throw er; // Unhandled stream error in pipe.\n    }\n  }\n\n  source.on('error', onerror);\n  dest.on('error', onerror);\n\n  // remove all the event listeners that were added.\n  function cleanup() {\n    source.removeListener('data', ondata);\n    dest.removeListener('drain', ondrain);\n\n    source.removeListener('end', onend);\n    source.removeListener('close', onclose);\n\n    source.removeListener('error', onerror);\n    dest.removeListener('error', onerror);\n\n    source.removeListener('end', cleanup);\n    source.removeListener('close', cleanup);\n\n    dest.removeListener('close', cleanup);\n  }\n\n  source.on('end', cleanup);\n  source.on('close', cleanup);\n\n  dest.on('close', cleanup);\n\n  dest.emit('pipe', source);\n\n  // Allow for unix-like usage: A.pipe(B).pipe(C)\n  return dest;\n};\n\n},{\"events\":6,\"inherits\":20,\"readable-stream/duplex.js\":7,\"readable-stream/passthrough.js\":13,\"readable-stream/readable.js\":14,\"readable-stream/transform.js\":15,\"readable-stream/writable.js\":16}],18:[function(require,module,exports){\n(function (Buffer){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\n\nfunction isArray(arg) {\n  if (Array.isArray) {\n    return Array.isArray(arg);\n  }\n  return objectToString(arg) === '[object Array]';\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = Buffer.isBuffer;\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n}).call(this,{\"isBuffer\":require(\"../../is-buffer/index.js\")})\n},{\"../../is-buffer/index.js\":21}],19:[function(require,module,exports){\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = nBytes * 8 - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = e * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = m * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = nBytes * 8 - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = (value * c - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n\n},{}],20:[function(require,module,exports){\nif (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n\n},{}],21:[function(require,module,exports){\n/*!\n * Determine if an object is a Buffer\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n\n// The _isBuffer check is for Safari 5-7 support, because it's missing\n// Object.prototype.constructor. Remove this eventually\nmodule.exports = function (obj) {\n  return obj != null && (isBuffer(obj) || isSlowBuffer(obj) || !!obj._isBuffer)\n}\n\nfunction isBuffer (obj) {\n  return !!obj.constructor && typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n\n// For Node v0.10 support. Remove this eventually.\nfunction isSlowBuffer (obj) {\n  return typeof obj.readFloatLE === 'function' && typeof obj.slice === 'function' && isBuffer(obj.slice(0, 0))\n}\n\n},{}],22:[function(require,module,exports){\nmodule.exports = Array.isArray || function (arr) {\n  return Object.prototype.toString.call(arr) == '[object Array]';\n};\n\n},{}],23:[function(require,module,exports){\n// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n},{}],24:[function(require,module,exports){\n(function (Buffer){\n// wrapper for non-node envs\n;(function (sax) {\n\nsax.parser = function (strict, opt) { return new SAXParser(strict, opt) }\nsax.SAXParser = SAXParser\nsax.SAXStream = SAXStream\nsax.createStream = createStream\n\n// When we pass the MAX_BUFFER_LENGTH position, start checking for buffer overruns.\n// When we check, schedule the next check for MAX_BUFFER_LENGTH - (max(buffer lengths)),\n// since that's the earliest that a buffer overrun could occur.  This way, checks are\n// as rare as required, but as often as necessary to ensure never crossing this bound.\n// Furthermore, buffers are only tested at most once per write(), so passing a very\n// large string into write() might have undesirable effects, but this is manageable by\n// the caller, so it is assumed to be safe.  Thus, a call to write() may, in the extreme\n// edge case, result in creating at most one complete copy of the string passed in.\n// Set to Infinity to have unlimited buffers.\nsax.MAX_BUFFER_LENGTH = 64 * 1024\n\nvar buffers = [\n  \"comment\", \"sgmlDecl\", \"textNode\", \"tagName\", \"doctype\",\n  \"procInstName\", \"procInstBody\", \"entity\", \"attribName\",\n  \"attribValue\", \"cdata\", \"script\"\n]\n\nsax.EVENTS = // for discoverability.\n  [ \"text\"\n  , \"processinginstruction\"\n  , \"sgmldeclaration\"\n  , \"doctype\"\n  , \"comment\"\n  , \"attribute\"\n  , \"opentag\"\n  , \"closetag\"\n  , \"opencdata\"\n  , \"cdata\"\n  , \"closecdata\"\n  , \"error\"\n  , \"end\"\n  , \"ready\"\n  , \"script\"\n  , \"opennamespace\"\n  , \"closenamespace\"\n  ]\n\nfunction SAXParser (strict, opt) {\n  if (!(this instanceof SAXParser)) return new SAXParser(strict, opt)\n\n  var parser = this\n  clearBuffers(parser)\n  parser.q = parser.c = \"\"\n  parser.bufferCheckPosition = sax.MAX_BUFFER_LENGTH\n  parser.opt = opt || {}\n  parser.opt.lowercase = parser.opt.lowercase || parser.opt.lowercasetags\n  parser.looseCase = parser.opt.lowercase ? \"toLowerCase\" : \"toUpperCase\"\n  parser.tags = []\n  parser.closed = parser.closedRoot = parser.sawRoot = false\n  parser.tag = parser.error = null\n  parser.strict = !!strict\n  parser.noscript = !!(strict || parser.opt.noscript)\n  parser.state = S.BEGIN\n  parser.strictEntities = parser.opt.strictEntities\n  parser.ENTITIES = parser.strictEntities ? Object.create(sax.XML_ENTITIES) : Object.create(sax.ENTITIES)\n  parser.attribList = []\n\n  // namespaces form a prototype chain.\n  // it always points at the current tag,\n  // which protos to its parent tag.\n  if (parser.opt.xmlns) parser.ns = Object.create(rootNS)\n\n  // mostly just for error reporting\n  parser.trackPosition = parser.opt.position !== false\n  if (parser.trackPosition) {\n    parser.position = parser.line = parser.column = 0\n  }\n  emit(parser, \"onready\")\n}\n\nif (!Object.create) Object.create = function (o) {\n  function f () { this.__proto__ = o }\n  f.prototype = o\n  return new f\n}\n\nif (!Object.getPrototypeOf) Object.getPrototypeOf = function (o) {\n  return o.__proto__\n}\n\nif (!Object.keys) Object.keys = function (o) {\n  var a = []\n  for (var i in o) if (o.hasOwnProperty(i)) a.push(i)\n  return a\n}\n\nfunction checkBufferLength (parser) {\n  var maxAllowed = Math.max(sax.MAX_BUFFER_LENGTH, 10)\n    , maxActual = 0\n  for (var i = 0, l = buffers.length; i < l; i ++) {\n    var len = parser[buffers[i]].length\n    if (len > maxAllowed) {\n      // Text/cdata nodes can get big, and since they're buffered,\n      // we can get here under normal conditions.\n      // Avoid issues by emitting the text node now,\n      // so at least it won't get any bigger.\n      switch (buffers[i]) {\n        case \"textNode\":\n          closeText(parser)\n        break\n\n        case \"cdata\":\n          emitNode(parser, \"oncdata\", parser.cdata)\n          parser.cdata = \"\"\n        break\n\n        case \"script\":\n          emitNode(parser, \"onscript\", parser.script)\n          parser.script = \"\"\n        break\n\n        default:\n          error(parser, \"Max buffer length exceeded: \"+buffers[i])\n      }\n    }\n    maxActual = Math.max(maxActual, len)\n  }\n  // schedule the next check for the earliest possible buffer overrun.\n  parser.bufferCheckPosition = (sax.MAX_BUFFER_LENGTH - maxActual)\n                             + parser.position\n}\n\nfunction clearBuffers (parser) {\n  for (var i = 0, l = buffers.length; i < l; i ++) {\n    parser[buffers[i]] = \"\"\n  }\n}\n\nfunction flushBuffers (parser) {\n  closeText(parser)\n  if (parser.cdata !== \"\") {\n    emitNode(parser, \"oncdata\", parser.cdata)\n    parser.cdata = \"\"\n  }\n  if (parser.script !== \"\") {\n    emitNode(parser, \"onscript\", parser.script)\n    parser.script = \"\"\n  }\n}\n\nSAXParser.prototype =\n  { end: function () { end(this) }\n  , write: write\n  , resume: function () { this.error = null; return this }\n  , close: function () { return this.write(null) }\n  , flush: function () { flushBuffers(this) }\n  }\n\ntry {\n  var Stream = require(\"stream\").Stream\n} catch (ex) {\n  var Stream = function () {}\n}\n\n\nvar streamWraps = sax.EVENTS.filter(function (ev) {\n  return ev !== \"error\" && ev !== \"end\"\n})\n\nfunction createStream (strict, opt) {\n  return new SAXStream(strict, opt)\n}\n\nfunction SAXStream (strict, opt) {\n  if (!(this instanceof SAXStream)) return new SAXStream(strict, opt)\n\n  Stream.apply(this)\n\n  this._parser = new SAXParser(strict, opt)\n  this.writable = true\n  this.readable = true\n\n\n  var me = this\n\n  this._parser.onend = function () {\n    me.emit(\"end\")\n  }\n\n  this._parser.onerror = function (er) {\n    me.emit(\"error\", er)\n\n    // if didn't throw, then means error was handled.\n    // go ahead and clear error, so we can write again.\n    me._parser.error = null\n  }\n\n  this._decoder = null;\n\n  streamWraps.forEach(function (ev) {\n    Object.defineProperty(me, \"on\" + ev, {\n      get: function () { return me._parser[\"on\" + ev] },\n      set: function (h) {\n        if (!h) {\n          me.removeAllListeners(ev)\n          return me._parser[\"on\"+ev] = h\n        }\n        me.on(ev, h)\n      },\n      enumerable: true,\n      configurable: false\n    })\n  })\n}\n\nSAXStream.prototype = Object.create(Stream.prototype,\n  { constructor: { value: SAXStream } })\n\nSAXStream.prototype.write = function (data) {\n  if (typeof Buffer === 'function' &&\n      typeof Buffer.isBuffer === 'function' &&\n      Buffer.isBuffer(data)) {\n    if (!this._decoder) {\n      var SD = require('string_decoder').StringDecoder\n      this._decoder = new SD('utf8')\n    }\n    data = this._decoder.write(data);\n  }\n\n  this._parser.write(data.toString())\n  this.emit(\"data\", data)\n  return true\n}\n\nSAXStream.prototype.end = function (chunk) {\n  if (chunk && chunk.length) this.write(chunk)\n  this._parser.end()\n  return true\n}\n\nSAXStream.prototype.on = function (ev, handler) {\n  var me = this\n  if (!me._parser[\"on\"+ev] && streamWraps.indexOf(ev) !== -1) {\n    me._parser[\"on\"+ev] = function () {\n      var args = arguments.length === 1 ? [arguments[0]]\n               : Array.apply(null, arguments)\n      args.splice(0, 0, ev)\n      me.emit.apply(me, args)\n    }\n  }\n\n  return Stream.prototype.on.call(me, ev, handler)\n}\n\n\n\n// character classes and tokens\nvar whitespace = \"\\r\\n\\t \"\n  // this really needs to be replaced with character classes.\n  // XML allows all manner of ridiculous numbers and digits.\n  , number = \"0124356789\"\n  , letter = \"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ\"\n  // (Letter | \"_\" | \":\")\n  , quote = \"'\\\"\"\n  , entity = number+letter+\"#\"\n  , attribEnd = whitespace + \">\"\n  , CDATA = \"[CDATA[\"\n  , DOCTYPE = \"DOCTYPE\"\n  , XML_NAMESPACE = \"http://www.w3.org/XML/1998/namespace\"\n  , XMLNS_NAMESPACE = \"http://www.w3.org/2000/xmlns/\"\n  , rootNS = { xml: XML_NAMESPACE, xmlns: XMLNS_NAMESPACE }\n\n// turn all the string character sets into character class objects.\nwhitespace = charClass(whitespace)\nnumber = charClass(number)\nletter = charClass(letter)\n\n// http://www.w3.org/TR/REC-xml/#NT-NameStartChar\n// This implementation works on strings, a single character at a time\n// as such, it cannot ever support astral-plane characters (10000-EFFFF)\n// without a significant breaking change to either this  parser, or the\n// JavaScript language.  Implementation of an emoji-capable xml parser\n// is left as an exercise for the reader.\nvar nameStart = /[:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]/\n\nvar nameBody = /[:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\u00B7\\u0300-\\u036F\\u203F-\\u2040\\.\\d-]/\n\nquote = charClass(quote)\nentity = charClass(entity)\nattribEnd = charClass(attribEnd)\n\nfunction charClass (str) {\n  return str.split(\"\").reduce(function (s, c) {\n    s[c] = true\n    return s\n  }, {})\n}\n\nfunction isRegExp (c) {\n  return Object.prototype.toString.call(c) === '[object RegExp]'\n}\n\nfunction is (charclass, c) {\n  return isRegExp(charclass) ? !!c.match(charclass) : charclass[c]\n}\n\nfunction not (charclass, c) {\n  return !is(charclass, c)\n}\n\nvar S = 0\nsax.STATE =\n{ BEGIN                     : S++ // leading byte order mark or whitespace\n, BEGIN_WHITESPACE          : S++ // leading whitespace\n, TEXT                      : S++ // general stuff\n, TEXT_ENTITY               : S++ // &amp and such.\n, OPEN_WAKA                 : S++ // <\n, SGML_DECL                 : S++ // <!BLARG\n, SGML_DECL_QUOTED          : S++ // <!BLARG foo \"bar\n, DOCTYPE                   : S++ // <!DOCTYPE\n, DOCTYPE_QUOTED            : S++ // <!DOCTYPE \"//blah\n, DOCTYPE_DTD               : S++ // <!DOCTYPE \"//blah\" [ ...\n, DOCTYPE_DTD_QUOTED        : S++ // <!DOCTYPE \"//blah\" [ \"foo\n, COMMENT_STARTING          : S++ // <!-\n, COMMENT                   : S++ // <!--\n, COMMENT_ENDING            : S++ // <!-- blah -\n, COMMENT_ENDED             : S++ // <!-- blah --\n, CDATA                     : S++ // <![CDATA[ something\n, CDATA_ENDING              : S++ // ]\n, CDATA_ENDING_2            : S++ // ]]\n, PROC_INST                 : S++ // <?hi\n, PROC_INST_BODY            : S++ // <?hi there\n, PROC_INST_ENDING          : S++ // <?hi \"there\" ?\n, OPEN_TAG                  : S++ // <strong\n, OPEN_TAG_SLASH            : S++ // <strong /\n, ATTRIB                    : S++ // <a\n, ATTRIB_NAME               : S++ // <a foo\n, ATTRIB_NAME_SAW_WHITE     : S++ // <a foo _\n, ATTRIB_VALUE              : S++ // <a foo=\n, ATTRIB_VALUE_QUOTED       : S++ // <a foo=\"bar\n, ATTRIB_VALUE_CLOSED       : S++ // <a foo=\"bar\"\n, ATTRIB_VALUE_UNQUOTED     : S++ // <a foo=bar\n, ATTRIB_VALUE_ENTITY_Q     : S++ // <foo bar=\"&quot;\"\n, ATTRIB_VALUE_ENTITY_U     : S++ // <foo bar=&quot;\n, CLOSE_TAG                 : S++ // </a\n, CLOSE_TAG_SAW_WHITE       : S++ // </a   >\n, SCRIPT                    : S++ // <script> ...\n, SCRIPT_ENDING             : S++ // <script> ... <\n}\n\nsax.XML_ENTITIES =\n{ \"amp\" : \"&\"\n, \"gt\" : \">\"\n, \"lt\" : \"<\"\n, \"quot\" : \"\\\"\"\n, \"apos\" : \"'\"\n}\n\nsax.ENTITIES =\n{ \"amp\" : \"&\"\n, \"gt\" : \">\"\n, \"lt\" : \"<\"\n, \"quot\" : \"\\\"\"\n, \"apos\" : \"'\"\n, \"AElig\" : 198\n, \"Aacute\" : 193\n, \"Acirc\" : 194\n, \"Agrave\" : 192\n, \"Aring\" : 197\n, \"Atilde\" : 195\n, \"Auml\" : 196\n, \"Ccedil\" : 199\n, \"ETH\" : 208\n, \"Eacute\" : 201\n, \"Ecirc\" : 202\n, \"Egrave\" : 200\n, \"Euml\" : 203\n, \"Iacute\" : 205\n, \"Icirc\" : 206\n, \"Igrave\" : 204\n, \"Iuml\" : 207\n, \"Ntilde\" : 209\n, \"Oacute\" : 211\n, \"Ocirc\" : 212\n, \"Ograve\" : 210\n, \"Oslash\" : 216\n, \"Otilde\" : 213\n, \"Ouml\" : 214\n, \"THORN\" : 222\n, \"Uacute\" : 218\n, \"Ucirc\" : 219\n, \"Ugrave\" : 217\n, \"Uuml\" : 220\n, \"Yacute\" : 221\n, \"aacute\" : 225\n, \"acirc\" : 226\n, \"aelig\" : 230\n, \"agrave\" : 224\n, \"aring\" : 229\n, \"atilde\" : 227\n, \"auml\" : 228\n, \"ccedil\" : 231\n, \"eacute\" : 233\n, \"ecirc\" : 234\n, \"egrave\" : 232\n, \"eth\" : 240\n, \"euml\" : 235\n, \"iacute\" : 237\n, \"icirc\" : 238\n, \"igrave\" : 236\n, \"iuml\" : 239\n, \"ntilde\" : 241\n, \"oacute\" : 243\n, \"ocirc\" : 244\n, \"ograve\" : 242\n, \"oslash\" : 248\n, \"otilde\" : 245\n, \"ouml\" : 246\n, \"szlig\" : 223\n, \"thorn\" : 254\n, \"uacute\" : 250\n, \"ucirc\" : 251\n, \"ugrave\" : 249\n, \"uuml\" : 252\n, \"yacute\" : 253\n, \"yuml\" : 255\n, \"copy\" : 169\n, \"reg\" : 174\n, \"nbsp\" : 160\n, \"iexcl\" : 161\n, \"cent\" : 162\n, \"pound\" : 163\n, \"curren\" : 164\n, \"yen\" : 165\n, \"brvbar\" : 166\n, \"sect\" : 167\n, \"uml\" : 168\n, \"ordf\" : 170\n, \"laquo\" : 171\n, \"not\" : 172\n, \"shy\" : 173\n, \"macr\" : 175\n, \"deg\" : 176\n, \"plusmn\" : 177\n, \"sup1\" : 185\n, \"sup2\" : 178\n, \"sup3\" : 179\n, \"acute\" : 180\n, \"micro\" : 181\n, \"para\" : 182\n, \"middot\" : 183\n, \"cedil\" : 184\n, \"ordm\" : 186\n, \"raquo\" : 187\n, \"frac14\" : 188\n, \"frac12\" : 189\n, \"frac34\" : 190\n, \"iquest\" : 191\n, \"times\" : 215\n, \"divide\" : 247\n, \"OElig\" : 338\n, \"oelig\" : 339\n, \"Scaron\" : 352\n, \"scaron\" : 353\n, \"Yuml\" : 376\n, \"fnof\" : 402\n, \"circ\" : 710\n, \"tilde\" : 732\n, \"Alpha\" : 913\n, \"Beta\" : 914\n, \"Gamma\" : 915\n, \"Delta\" : 916\n, \"Epsilon\" : 917\n, \"Zeta\" : 918\n, \"Eta\" : 919\n, \"Theta\" : 920\n, \"Iota\" : 921\n, \"Kappa\" : 922\n, \"Lambda\" : 923\n, \"Mu\" : 924\n, \"Nu\" : 925\n, \"Xi\" : 926\n, \"Omicron\" : 927\n, \"Pi\" : 928\n, \"Rho\" : 929\n, \"Sigma\" : 931\n, \"Tau\" : 932\n, \"Upsilon\" : 933\n, \"Phi\" : 934\n, \"Chi\" : 935\n, \"Psi\" : 936\n, \"Omega\" : 937\n, \"alpha\" : 945\n, \"beta\" : 946\n, \"gamma\" : 947\n, \"delta\" : 948\n, \"epsilon\" : 949\n, \"zeta\" : 950\n, \"eta\" : 951\n, \"theta\" : 952\n, \"iota\" : 953\n, \"kappa\" : 954\n, \"lambda\" : 955\n, \"mu\" : 956\n, \"nu\" : 957\n, \"xi\" : 958\n, \"omicron\" : 959\n, \"pi\" : 960\n, \"rho\" : 961\n, \"sigmaf\" : 962\n, \"sigma\" : 963\n, \"tau\" : 964\n, \"upsilon\" : 965\n, \"phi\" : 966\n, \"chi\" : 967\n, \"psi\" : 968\n, \"omega\" : 969\n, \"thetasym\" : 977\n, \"upsih\" : 978\n, \"piv\" : 982\n, \"ensp\" : 8194\n, \"emsp\" : 8195\n, \"thinsp\" : 8201\n, \"zwnj\" : 8204\n, \"zwj\" : 8205\n, \"lrm\" : 8206\n, \"rlm\" : 8207\n, \"ndash\" : 8211\n, \"mdash\" : 8212\n, \"lsquo\" : 8216\n, \"rsquo\" : 8217\n, \"sbquo\" : 8218\n, \"ldquo\" : 8220\n, \"rdquo\" : 8221\n, \"bdquo\" : 8222\n, \"dagger\" : 8224\n, \"Dagger\" : 8225\n, \"bull\" : 8226\n, \"hellip\" : 8230\n, \"permil\" : 8240\n, \"prime\" : 8242\n, \"Prime\" : 8243\n, \"lsaquo\" : 8249\n, \"rsaquo\" : 8250\n, \"oline\" : 8254\n, \"frasl\" : 8260\n, \"euro\" : 8364\n, \"image\" : 8465\n, \"weierp\" : 8472\n, \"real\" : 8476\n, \"trade\" : 8482\n, \"alefsym\" : 8501\n, \"larr\" : 8592\n, \"uarr\" : 8593\n, \"rarr\" : 8594\n, \"darr\" : 8595\n, \"harr\" : 8596\n, \"crarr\" : 8629\n, \"lArr\" : 8656\n, \"uArr\" : 8657\n, \"rArr\" : 8658\n, \"dArr\" : 8659\n, \"hArr\" : 8660\n, \"forall\" : 8704\n, \"part\" : 8706\n, \"exist\" : 8707\n, \"empty\" : 8709\n, \"nabla\" : 8711\n, \"isin\" : 8712\n, \"notin\" : 8713\n, \"ni\" : 8715\n, \"prod\" : 8719\n, \"sum\" : 8721\n, \"minus\" : 8722\n, \"lowast\" : 8727\n, \"radic\" : 8730\n, \"prop\" : 8733\n, \"infin\" : 8734\n, \"ang\" : 8736\n, \"and\" : 8743\n, \"or\" : 8744\n, \"cap\" : 8745\n, \"cup\" : 8746\n, \"int\" : 8747\n, \"there4\" : 8756\n, \"sim\" : 8764\n, \"cong\" : 8773\n, \"asymp\" : 8776\n, \"ne\" : 8800\n, \"equiv\" : 8801\n, \"le\" : 8804\n, \"ge\" : 8805\n, \"sub\" : 8834\n, \"sup\" : 8835\n, \"nsub\" : 8836\n, \"sube\" : 8838\n, \"supe\" : 8839\n, \"oplus\" : 8853\n, \"otimes\" : 8855\n, \"perp\" : 8869\n, \"sdot\" : 8901\n, \"lceil\" : 8968\n, \"rceil\" : 8969\n, \"lfloor\" : 8970\n, \"rfloor\" : 8971\n, \"lang\" : 9001\n, \"rang\" : 9002\n, \"loz\" : 9674\n, \"spades\" : 9824\n, \"clubs\" : 9827\n, \"hearts\" : 9829\n, \"diams\" : 9830\n}\n\nObject.keys(sax.ENTITIES).forEach(function (key) {\n    var e = sax.ENTITIES[key]\n    var s = typeof e === 'number' ? String.fromCharCode(e) : e\n    sax.ENTITIES[key] = s\n})\n\nfor (var S in sax.STATE) sax.STATE[sax.STATE[S]] = S\n\n// shorthand\nS = sax.STATE\n\nfunction emit (parser, event, data) {\n  parser[event] && parser[event](data)\n}\n\nfunction emitNode (parser, nodeType, data) {\n  if (parser.textNode) closeText(parser)\n  emit(parser, nodeType, data)\n}\n\nfunction closeText (parser) {\n  parser.textNode = textopts(parser.opt, parser.textNode)\n  if (parser.textNode) emit(parser, \"ontext\", parser.textNode)\n  parser.textNode = \"\"\n}\n\nfunction textopts (opt, text) {\n  if (opt.trim) text = text.trim()\n  if (opt.normalize) text = text.replace(/\\s+/g, \" \")\n  return text\n}\n\nfunction error (parser, er) {\n  closeText(parser)\n  if (parser.trackPosition) {\n    er += \"\\nLine: \"+parser.line+\n          \"\\nColumn: \"+parser.column+\n          \"\\nChar: \"+parser.c\n  }\n  er = new Error(er)\n  parser.error = er\n  emit(parser, \"onerror\", er)\n  return parser\n}\n\nfunction end (parser) {\n  if (parser.sawRoot && !parser.closedRoot) strictFail(parser, \"Unclosed root tag\")\n  if ((parser.state !== S.BEGIN) &&\n      (parser.state !== S.BEGIN_WHITESPACE) &&\n      (parser.state !== S.TEXT))\n    error(parser, \"Unexpected end\")\n  closeText(parser)\n  parser.c = \"\"\n  parser.closed = true\n  emit(parser, \"onend\")\n  SAXParser.call(parser, parser.strict, parser.opt)\n  return parser\n}\n\nfunction strictFail (parser, message) {\n  if (typeof parser !== 'object' || !(parser instanceof SAXParser))\n    throw new Error('bad call to strictFail');\n  if (parser.strict) error(parser, message)\n}\n\nfunction newTag (parser) {\n  if (!parser.strict) parser.tagName = parser.tagName[parser.looseCase]()\n  var parent = parser.tags[parser.tags.length - 1] || parser\n    , tag = parser.tag = { name : parser.tagName, attributes : {} }\n\n  // will be overridden if tag contails an xmlns=\"foo\" or xmlns:foo=\"bar\"\n  if (parser.opt.xmlns) tag.ns = parent.ns\n  parser.attribList.length = 0\n}\n\nfunction qname (name, attribute) {\n  var i = name.indexOf(\":\")\n    , qualName = i < 0 ? [ \"\", name ] : name.split(\":\")\n    , prefix = qualName[0]\n    , local = qualName[1]\n\n  // <x \"xmlns\"=\"http://foo\">\n  if (attribute && name === \"xmlns\") {\n    prefix = \"xmlns\"\n    local = \"\"\n  }\n\n  return { prefix: prefix, local: local }\n}\n\nfunction attrib (parser) {\n  if (!parser.strict) parser.attribName = parser.attribName[parser.looseCase]()\n\n  if (parser.attribList.indexOf(parser.attribName) !== -1 ||\n      parser.tag.attributes.hasOwnProperty(parser.attribName)) {\n    return parser.attribName = parser.attribValue = \"\"\n  }\n\n  if (parser.opt.xmlns) {\n    var qn = qname(parser.attribName, true)\n      , prefix = qn.prefix\n      , local = qn.local\n\n    if (prefix === \"xmlns\") {\n      // namespace binding attribute; push the binding into scope\n      if (local === \"xml\" && parser.attribValue !== XML_NAMESPACE) {\n        strictFail( parser\n                  , \"xml: prefix must be bound to \" + XML_NAMESPACE + \"\\n\"\n                  + \"Actual: \" + parser.attribValue )\n      } else if (local === \"xmlns\" && parser.attribValue !== XMLNS_NAMESPACE) {\n        strictFail( parser\n                  , \"xmlns: prefix must be bound to \" + XMLNS_NAMESPACE + \"\\n\"\n                  + \"Actual: \" + parser.attribValue )\n      } else {\n        var tag = parser.tag\n          , parent = parser.tags[parser.tags.length - 1] || parser\n        if (tag.ns === parent.ns) {\n          tag.ns = Object.create(parent.ns)\n        }\n        tag.ns[local] = parser.attribValue\n      }\n    }\n\n    // defer onattribute events until all attributes have been seen\n    // so any new bindings can take effect; preserve attribute order\n    // so deferred events can be emitted in document order\n    parser.attribList.push([parser.attribName, parser.attribValue])\n  } else {\n    // in non-xmlns mode, we can emit the event right away\n    parser.tag.attributes[parser.attribName] = parser.attribValue\n    emitNode( parser\n            , \"onattribute\"\n            , { name: parser.attribName\n              , value: parser.attribValue } )\n  }\n\n  parser.attribName = parser.attribValue = \"\"\n}\n\nfunction openTag (parser, selfClosing) {\n  if (parser.opt.xmlns) {\n    // emit namespace binding events\n    var tag = parser.tag\n\n    // add namespace info to tag\n    var qn = qname(parser.tagName)\n    tag.prefix = qn.prefix\n    tag.local = qn.local\n    tag.uri = tag.ns[qn.prefix] || \"\"\n\n    if (tag.prefix && !tag.uri) {\n      strictFail(parser, \"Unbound namespace prefix: \"\n                       + JSON.stringify(parser.tagName))\n      tag.uri = qn.prefix\n    }\n\n    var parent = parser.tags[parser.tags.length - 1] || parser\n    if (tag.ns && parent.ns !== tag.ns) {\n      Object.keys(tag.ns).forEach(function (p) {\n        emitNode( parser\n                , \"onopennamespace\"\n                , { prefix: p , uri: tag.ns[p] } )\n      })\n    }\n\n    // handle deferred onattribute events\n    // Note: do not apply default ns to attributes:\n    //   http://www.w3.org/TR/REC-xml-names/#defaulting\n    for (var i = 0, l = parser.attribList.length; i < l; i ++) {\n      var nv = parser.attribList[i]\n      var name = nv[0]\n        , value = nv[1]\n        , qualName = qname(name, true)\n        , prefix = qualName.prefix\n        , local = qualName.local\n        , uri = prefix == \"\" ? \"\" : (tag.ns[prefix] || \"\")\n        , a = { name: name\n              , value: value\n              , prefix: prefix\n              , local: local\n              , uri: uri\n              }\n\n      // if there's any attributes with an undefined namespace,\n      // then fail on them now.\n      if (prefix && prefix != \"xmlns\" && !uri) {\n        strictFail(parser, \"Unbound namespace prefix: \"\n                         + JSON.stringify(prefix))\n        a.uri = prefix\n      }\n      parser.tag.attributes[name] = a\n      emitNode(parser, \"onattribute\", a)\n    }\n    parser.attribList.length = 0\n  }\n\n  parser.tag.isSelfClosing = !!selfClosing\n\n  // process the tag\n  parser.sawRoot = true\n  parser.tags.push(parser.tag)\n  emitNode(parser, \"onopentag\", parser.tag)\n  if (!selfClosing) {\n    // special case for <script> in non-strict mode.\n    if (!parser.noscript && parser.tagName.toLowerCase() === \"script\") {\n      parser.state = S.SCRIPT\n    } else {\n      parser.state = S.TEXT\n    }\n    parser.tag = null\n    parser.tagName = \"\"\n  }\n  parser.attribName = parser.attribValue = \"\"\n  parser.attribList.length = 0\n}\n\nfunction closeTag (parser) {\n  if (!parser.tagName) {\n    strictFail(parser, \"Weird empty close tag.\")\n    parser.textNode += \"</>\"\n    parser.state = S.TEXT\n    return\n  }\n\n  if (parser.script) {\n    if (parser.tagName !== \"script\") {\n      parser.script += \"</\" + parser.tagName + \">\"\n      parser.tagName = \"\"\n      parser.state = S.SCRIPT\n      return\n    }\n    emitNode(parser, \"onscript\", parser.script)\n    parser.script = \"\"\n  }\n\n  // first make sure that the closing tag actually exists.\n  // <a><b></c></b></a> will close everything, otherwise.\n  var t = parser.tags.length\n  var tagName = parser.tagName\n  if (!parser.strict) tagName = tagName[parser.looseCase]()\n  var closeTo = tagName\n  while (t --) {\n    var close = parser.tags[t]\n    if (close.name !== closeTo) {\n      // fail the first time in strict mode\n      strictFail(parser, \"Unexpected close tag\")\n    } else break\n  }\n\n  // didn't find it.  we already failed for strict, so just abort.\n  if (t < 0) {\n    strictFail(parser, \"Unmatched closing tag: \"+parser.tagName)\n    parser.textNode += \"</\" + parser.tagName + \">\"\n    parser.state = S.TEXT\n    return\n  }\n  parser.tagName = tagName\n  var s = parser.tags.length\n  while (s --> t) {\n    var tag = parser.tag = parser.tags.pop()\n    parser.tagName = parser.tag.name\n    emitNode(parser, \"onclosetag\", parser.tagName)\n\n    var x = {}\n    for (var i in tag.ns) x[i] = tag.ns[i]\n\n    var parent = parser.tags[parser.tags.length - 1] || parser\n    if (parser.opt.xmlns && tag.ns !== parent.ns) {\n      // remove namespace bindings introduced by tag\n      Object.keys(tag.ns).forEach(function (p) {\n        var n = tag.ns[p]\n        emitNode(parser, \"onclosenamespace\", { prefix: p, uri: n })\n      })\n    }\n  }\n  if (t === 0) parser.closedRoot = true\n  parser.tagName = parser.attribValue = parser.attribName = \"\"\n  parser.attribList.length = 0\n  parser.state = S.TEXT\n}\n\nfunction parseEntity (parser) {\n  var entity = parser.entity\n    , entityLC = entity.toLowerCase()\n    , num\n    , numStr = \"\"\n  if (parser.ENTITIES[entity])\n    return parser.ENTITIES[entity]\n  if (parser.ENTITIES[entityLC])\n    return parser.ENTITIES[entityLC]\n  entity = entityLC\n  if (entity.charAt(0) === \"#\") {\n    if (entity.charAt(1) === \"x\") {\n      entity = entity.slice(2)\n      num = parseInt(entity, 16)\n      numStr = num.toString(16)\n    } else {\n      entity = entity.slice(1)\n      num = parseInt(entity, 10)\n      numStr = num.toString(10)\n    }\n  }\n  entity = entity.replace(/^0+/, \"\")\n  if (numStr.toLowerCase() !== entity) {\n    strictFail(parser, \"Invalid character entity\")\n    return \"&\"+parser.entity + \";\"\n  }\n\n  return String.fromCodePoint(num)\n}\n\nfunction write (chunk) {\n  var parser = this\n  if (this.error) throw this.error\n  if (parser.closed) return error(parser,\n    \"Cannot write after close. Assign an onready handler.\")\n  if (chunk === null) return end(parser)\n  var i = 0, c = \"\"\n  while (parser.c = c = chunk.charAt(i++)) {\n    if (parser.trackPosition) {\n      parser.position ++\n      if (c === \"\\n\") {\n        parser.line ++\n        parser.column = 0\n      } else parser.column ++\n    }\n    switch (parser.state) {\n\n      case S.BEGIN:\n        parser.state = S.BEGIN_WHITESPACE\n        if (c === \"\\uFEFF\") {\n          continue;\n        }\n      // no continue - fall through\n\n      case S.BEGIN_WHITESPACE:\n        if (c === \"<\") {\n          parser.state = S.OPEN_WAKA\n          parser.startTagPosition = parser.position\n        } else if (not(whitespace,c)) {\n          // have to process this as a text node.\n          // weird, but happens.\n          strictFail(parser, \"Non-whitespace before first tag.\")\n          parser.textNode = c\n          parser.state = S.TEXT\n        }\n      continue\n\n      case S.TEXT:\n        if (parser.sawRoot && !parser.closedRoot) {\n          var starti = i-1\n          while (c && c!==\"<\" && c!==\"&\") {\n            c = chunk.charAt(i++)\n            if (c && parser.trackPosition) {\n              parser.position ++\n              if (c === \"\\n\") {\n                parser.line ++\n                parser.column = 0\n              } else parser.column ++\n            }\n          }\n          parser.textNode += chunk.substring(starti, i-1)\n        }\n        if (c === \"<\" && !(parser.sawRoot && parser.closedRoot && !parser.strict)) {\n          parser.state = S.OPEN_WAKA\n          parser.startTagPosition = parser.position\n        } else {\n          if (not(whitespace, c) && (!parser.sawRoot || parser.closedRoot))\n            strictFail(parser, \"Text data outside of root node.\")\n          if (c === \"&\") parser.state = S.TEXT_ENTITY\n          else parser.textNode += c\n        }\n      continue\n\n      case S.SCRIPT:\n        // only non-strict\n        if (c === \"<\") {\n          parser.state = S.SCRIPT_ENDING\n        } else parser.script += c\n      continue\n\n      case S.SCRIPT_ENDING:\n        if (c === \"/\") {\n          parser.state = S.CLOSE_TAG\n        } else {\n          parser.script += \"<\" + c\n          parser.state = S.SCRIPT\n        }\n      continue\n\n      case S.OPEN_WAKA:\n        // either a /, ?, !, or text is coming next.\n        if (c === \"!\") {\n          parser.state = S.SGML_DECL\n          parser.sgmlDecl = \"\"\n        } else if (is(whitespace, c)) {\n          // wait for it...\n        } else if (is(nameStart,c)) {\n          parser.state = S.OPEN_TAG\n          parser.tagName = c\n        } else if (c === \"/\") {\n          parser.state = S.CLOSE_TAG\n          parser.tagName = \"\"\n        } else if (c === \"?\") {\n          parser.state = S.PROC_INST\n          parser.procInstName = parser.procInstBody = \"\"\n        } else {\n          strictFail(parser, \"Unencoded <\")\n          // if there was some whitespace, then add that in.\n          if (parser.startTagPosition + 1 < parser.position) {\n            var pad = parser.position - parser.startTagPosition\n            c = new Array(pad).join(\" \") + c\n          }\n          parser.textNode += \"<\" + c\n          parser.state = S.TEXT\n        }\n      continue\n\n      case S.SGML_DECL:\n        if ((parser.sgmlDecl+c).toUpperCase() === CDATA) {\n          emitNode(parser, \"onopencdata\")\n          parser.state = S.CDATA\n          parser.sgmlDecl = \"\"\n          parser.cdata = \"\"\n        } else if (parser.sgmlDecl+c === \"--\") {\n          parser.state = S.COMMENT\n          parser.comment = \"\"\n          parser.sgmlDecl = \"\"\n        } else if ((parser.sgmlDecl+c).toUpperCase() === DOCTYPE) {\n          parser.state = S.DOCTYPE\n          if (parser.doctype || parser.sawRoot) strictFail(parser,\n            \"Inappropriately located doctype declaration\")\n          parser.doctype = \"\"\n          parser.sgmlDecl = \"\"\n        } else if (c === \">\") {\n          emitNode(parser, \"onsgmldeclaration\", parser.sgmlDecl)\n          parser.sgmlDecl = \"\"\n          parser.state = S.TEXT\n        } else if (is(quote, c)) {\n          parser.state = S.SGML_DECL_QUOTED\n          parser.sgmlDecl += c\n        } else parser.sgmlDecl += c\n      continue\n\n      case S.SGML_DECL_QUOTED:\n        if (c === parser.q) {\n          parser.state = S.SGML_DECL\n          parser.q = \"\"\n        }\n        parser.sgmlDecl += c\n      continue\n\n      case S.DOCTYPE:\n        if (c === \">\") {\n          parser.state = S.TEXT\n          emitNode(parser, \"ondoctype\", parser.doctype)\n          parser.doctype = true // just remember that we saw it.\n        } else {\n          parser.doctype += c\n          if (c === \"[\") parser.state = S.DOCTYPE_DTD\n          else if (is(quote, c)) {\n            parser.state = S.DOCTYPE_QUOTED\n            parser.q = c\n          }\n        }\n      continue\n\n      case S.DOCTYPE_QUOTED:\n        parser.doctype += c\n        if (c === parser.q) {\n          parser.q = \"\"\n          parser.state = S.DOCTYPE\n        }\n      continue\n\n      case S.DOCTYPE_DTD:\n        parser.doctype += c\n        if (c === \"]\") parser.state = S.DOCTYPE\n        else if (is(quote,c)) {\n          parser.state = S.DOCTYPE_DTD_QUOTED\n          parser.q = c\n        }\n      continue\n\n      case S.DOCTYPE_DTD_QUOTED:\n        parser.doctype += c\n        if (c === parser.q) {\n          parser.state = S.DOCTYPE_DTD\n          parser.q = \"\"\n        }\n      continue\n\n      case S.COMMENT:\n        if (c === \"-\") parser.state = S.COMMENT_ENDING\n        else parser.comment += c\n      continue\n\n      case S.COMMENT_ENDING:\n        if (c === \"-\") {\n          parser.state = S.COMMENT_ENDED\n          parser.comment = textopts(parser.opt, parser.comment)\n          if (parser.comment) emitNode(parser, \"oncomment\", parser.comment)\n          parser.comment = \"\"\n        } else {\n          parser.comment += \"-\" + c\n          parser.state = S.COMMENT\n        }\n      continue\n\n      case S.COMMENT_ENDED:\n        if (c !== \">\") {\n          strictFail(parser, \"Malformed comment\")\n          // allow <!-- blah -- bloo --> in non-strict mode,\n          // which is a comment of \" blah -- bloo \"\n          parser.comment += \"--\" + c\n          parser.state = S.COMMENT\n        } else parser.state = S.TEXT\n      continue\n\n      case S.CDATA:\n        if (c === \"]\") parser.state = S.CDATA_ENDING\n        else parser.cdata += c\n      continue\n\n      case S.CDATA_ENDING:\n        if (c === \"]\") parser.state = S.CDATA_ENDING_2\n        else {\n          parser.cdata += \"]\" + c\n          parser.state = S.CDATA\n        }\n      continue\n\n      case S.CDATA_ENDING_2:\n        if (c === \">\") {\n          if (parser.cdata) emitNode(parser, \"oncdata\", parser.cdata)\n          emitNode(parser, \"onclosecdata\")\n          parser.cdata = \"\"\n          parser.state = S.TEXT\n        } else if (c === \"]\") {\n          parser.cdata += \"]\"\n        } else {\n          parser.cdata += \"]]\" + c\n          parser.state = S.CDATA\n        }\n      continue\n\n      case S.PROC_INST:\n        if (c === \"?\") parser.state = S.PROC_INST_ENDING\n        else if (is(whitespace, c)) parser.state = S.PROC_INST_BODY\n        else parser.procInstName += c\n      continue\n\n      case S.PROC_INST_BODY:\n        if (!parser.procInstBody && is(whitespace, c)) continue\n        else if (c === \"?\") parser.state = S.PROC_INST_ENDING\n        else parser.procInstBody += c\n      continue\n\n      case S.PROC_INST_ENDING:\n        if (c === \">\") {\n          emitNode(parser, \"onprocessinginstruction\", {\n            name : parser.procInstName,\n            body : parser.procInstBody\n          })\n          parser.procInstName = parser.procInstBody = \"\"\n          parser.state = S.TEXT\n        } else {\n          parser.procInstBody += \"?\" + c\n          parser.state = S.PROC_INST_BODY\n        }\n      continue\n\n      case S.OPEN_TAG:\n        if (is(nameBody, c)) parser.tagName += c\n        else {\n          newTag(parser)\n          if (c === \">\") openTag(parser)\n          else if (c === \"/\") parser.state = S.OPEN_TAG_SLASH\n          else {\n            if (not(whitespace, c)) strictFail(\n              parser, \"Invalid character in tag name\")\n            parser.state = S.ATTRIB\n          }\n        }\n      continue\n\n      case S.OPEN_TAG_SLASH:\n        if (c === \">\") {\n          openTag(parser, true)\n          closeTag(parser)\n        } else {\n          strictFail(parser, \"Forward-slash in opening tag not followed by >\")\n          parser.state = S.ATTRIB\n        }\n      continue\n\n      case S.ATTRIB:\n        // haven't read the attribute name yet.\n        if (is(whitespace, c)) continue\n        else if (c === \">\") openTag(parser)\n        else if (c === \"/\") parser.state = S.OPEN_TAG_SLASH\n        else if (is(nameStart, c)) {\n          parser.attribName = c\n          parser.attribValue = \"\"\n          parser.state = S.ATTRIB_NAME\n        } else strictFail(parser, \"Invalid attribute name\")\n      continue\n\n      case S.ATTRIB_NAME:\n        if (c === \"=\") parser.state = S.ATTRIB_VALUE\n        else if (c === \">\") {\n          strictFail(parser, \"Attribute without value\")\n          parser.attribValue = parser.attribName\n          attrib(parser)\n          openTag(parser)\n        }\n        else if (is(whitespace, c)) parser.state = S.ATTRIB_NAME_SAW_WHITE\n        else if (is(nameBody, c)) parser.attribName += c\n        else strictFail(parser, \"Invalid attribute name\")\n      continue\n\n      case S.ATTRIB_NAME_SAW_WHITE:\n        if (c === \"=\") parser.state = S.ATTRIB_VALUE\n        else if (is(whitespace, c)) continue\n        else {\n          strictFail(parser, \"Attribute without value\")\n          parser.tag.attributes[parser.attribName] = \"\"\n          parser.attribValue = \"\"\n          emitNode(parser, \"onattribute\",\n                   { name : parser.attribName, value : \"\" })\n          parser.attribName = \"\"\n          if (c === \">\") openTag(parser)\n          else if (is(nameStart, c)) {\n            parser.attribName = c\n            parser.state = S.ATTRIB_NAME\n          } else {\n            strictFail(parser, \"Invalid attribute name\")\n            parser.state = S.ATTRIB\n          }\n        }\n      continue\n\n      case S.ATTRIB_VALUE:\n        if (is(whitespace, c)) continue\n        else if (is(quote, c)) {\n          parser.q = c\n          parser.state = S.ATTRIB_VALUE_QUOTED\n        } else {\n          strictFail(parser, \"Unquoted attribute value\")\n          parser.state = S.ATTRIB_VALUE_UNQUOTED\n          parser.attribValue = c\n        }\n      continue\n\n      case S.ATTRIB_VALUE_QUOTED:\n        if (c !== parser.q) {\n          if (c === \"&\") parser.state = S.ATTRIB_VALUE_ENTITY_Q\n          else parser.attribValue += c\n          continue\n        }\n        attrib(parser)\n        parser.q = \"\"\n        parser.state = S.ATTRIB_VALUE_CLOSED\n      continue\n\n      case S.ATTRIB_VALUE_CLOSED:\n        if (is(whitespace, c)) {\n          parser.state = S.ATTRIB\n        } else if (c === \">\") openTag(parser)\n        else if (c === \"/\") parser.state = S.OPEN_TAG_SLASH\n        else if (is(nameStart, c)) {\n          strictFail(parser, \"No whitespace between attributes\")\n          parser.attribName = c\n          parser.attribValue = \"\"\n          parser.state = S.ATTRIB_NAME\n        } else strictFail(parser, \"Invalid attribute name\")\n      continue\n\n      case S.ATTRIB_VALUE_UNQUOTED:\n        if (not(attribEnd,c)) {\n          if (c === \"&\") parser.state = S.ATTRIB_VALUE_ENTITY_U\n          else parser.attribValue += c\n          continue\n        }\n        attrib(parser)\n        if (c === \">\") openTag(parser)\n        else parser.state = S.ATTRIB\n      continue\n\n      case S.CLOSE_TAG:\n        if (!parser.tagName) {\n          if (is(whitespace, c)) continue\n          else if (not(nameStart, c)) {\n            if (parser.script) {\n              parser.script += \"</\" + c\n              parser.state = S.SCRIPT\n            } else {\n              strictFail(parser, \"Invalid tagname in closing tag.\")\n            }\n          } else parser.tagName = c\n        }\n        else if (c === \">\") closeTag(parser)\n        else if (is(nameBody, c)) parser.tagName += c\n        else if (parser.script) {\n          parser.script += \"</\" + parser.tagName\n          parser.tagName = \"\"\n          parser.state = S.SCRIPT\n        } else {\n          if (not(whitespace, c)) strictFail(parser,\n            \"Invalid tagname in closing tag\")\n          parser.state = S.CLOSE_TAG_SAW_WHITE\n        }\n      continue\n\n      case S.CLOSE_TAG_SAW_WHITE:\n        if (is(whitespace, c)) continue\n        if (c === \">\") closeTag(parser)\n        else strictFail(parser, \"Invalid characters in closing tag\")\n      continue\n\n      case S.TEXT_ENTITY:\n      case S.ATTRIB_VALUE_ENTITY_Q:\n      case S.ATTRIB_VALUE_ENTITY_U:\n        switch(parser.state) {\n          case S.TEXT_ENTITY:\n            var returnState = S.TEXT, buffer = \"textNode\"\n          break\n\n          case S.ATTRIB_VALUE_ENTITY_Q:\n            var returnState = S.ATTRIB_VALUE_QUOTED, buffer = \"attribValue\"\n          break\n\n          case S.ATTRIB_VALUE_ENTITY_U:\n            var returnState = S.ATTRIB_VALUE_UNQUOTED, buffer = \"attribValue\"\n          break\n        }\n        if (c === \";\") {\n          parser[buffer] += parseEntity(parser)\n          parser.entity = \"\"\n          parser.state = returnState\n        }\n        else if (is(entity, c)) parser.entity += c\n        else {\n          strictFail(parser, \"Invalid character entity\")\n          parser[buffer] += \"&\" + parser.entity + c\n          parser.entity = \"\"\n          parser.state = returnState\n        }\n      continue\n\n      default:\n        throw new Error(parser, \"Unknown state: \" + parser.state)\n    }\n  } // while\n  // cdata blocks can get very big under normal conditions. emit and move on.\n  // if (parser.state === S.CDATA && parser.cdata) {\n  //   emitNode(parser, \"oncdata\", parser.cdata)\n  //   parser.cdata = \"\"\n  // }\n  if (parser.position >= parser.bufferCheckPosition) checkBufferLength(parser)\n  return parser\n}\n\n/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */\nif (!String.fromCodePoint) {\n        (function() {\n                var stringFromCharCode = String.fromCharCode;\n                var floor = Math.floor;\n                var fromCodePoint = function() {\n                        var MAX_SIZE = 0x4000;\n                        var codeUnits = [];\n                        var highSurrogate;\n                        var lowSurrogate;\n                        var index = -1;\n                        var length = arguments.length;\n                        if (!length) {\n                                return '';\n                        }\n                        var result = '';\n                        while (++index < length) {\n                                var codePoint = Number(arguments[index]);\n                                if (\n                                        !isFinite(codePoint) || // `NaN`, `+Infinity`, or `-Infinity`\n                                        codePoint < 0 || // not a valid Unicode code point\n                                        codePoint > 0x10FFFF || // not a valid Unicode code point\n                                        floor(codePoint) != codePoint // not an integer\n                                ) {\n                                        throw RangeError('Invalid code point: ' + codePoint);\n                                }\n                                if (codePoint <= 0xFFFF) { // BMP code point\n                                        codeUnits.push(codePoint);\n                                } else { // Astral code point; split in surrogate halves\n                                        // http://mathiasbynens.be/notes/javascript-encoding#surrogate-formulae\n                                        codePoint -= 0x10000;\n                                        highSurrogate = (codePoint >> 10) + 0xD800;\n                                        lowSurrogate = (codePoint % 0x400) + 0xDC00;\n                                        codeUnits.push(highSurrogate, lowSurrogate);\n                                }\n                                if (index + 1 == length || codeUnits.length > MAX_SIZE) {\n                                        result += stringFromCharCode.apply(null, codeUnits);\n                                        codeUnits.length = 0;\n                                }\n                        }\n                        return result;\n                };\n                if (Object.defineProperty) {\n                        Object.defineProperty(String, 'fromCodePoint', {\n                                'value': fromCodePoint,\n                                'configurable': true,\n                                'writable': true\n                        });\n                } else {\n                        String.fromCodePoint = fromCodePoint;\n                }\n        }());\n}\n\n})(typeof exports === \"undefined\" ? sax = {} : exports);\n\n}).call(this,require(\"buffer\").Buffer)\n},{\"buffer\":4,\"stream\":17,\"string_decoder\":25}],25:[function(require,module,exports){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar Buffer = require('buffer').Buffer;\n\nvar isBufferEncoding = Buffer.isEncoding\n  || function(encoding) {\n       switch (encoding && encoding.toLowerCase()) {\n         case 'hex': case 'utf8': case 'utf-8': case 'ascii': case 'binary': case 'base64': case 'ucs2': case 'ucs-2': case 'utf16le': case 'utf-16le': case 'raw': return true;\n         default: return false;\n       }\n     }\n\n\nfunction assertEncoding(encoding) {\n  if (encoding && !isBufferEncoding(encoding)) {\n    throw new Error('Unknown encoding: ' + encoding);\n  }\n}\n\n// StringDecoder provides an interface for efficiently splitting a series of\n// buffers into a series of JS strings without breaking apart multi-byte\n// characters. CESU-8 is handled as part of the UTF-8 encoding.\n//\n// @TODO Handling all encodings inside a single object makes it very difficult\n// to reason about this code, so it should be split up in the future.\n// @TODO There should be a utf8-strict encoding that rejects invalid UTF-8 code\n// points as used by CESU-8.\nvar StringDecoder = exports.StringDecoder = function(encoding) {\n  this.encoding = (encoding || 'utf8').toLowerCase().replace(/[-_]/, '');\n  assertEncoding(encoding);\n  switch (this.encoding) {\n    case 'utf8':\n      // CESU-8 represents each of Surrogate Pair by 3-bytes\n      this.surrogateSize = 3;\n      break;\n    case 'ucs2':\n    case 'utf16le':\n      // UTF-16 represents each of Surrogate Pair by 2-bytes\n      this.surrogateSize = 2;\n      this.detectIncompleteChar = utf16DetectIncompleteChar;\n      break;\n    case 'base64':\n      // Base-64 stores 3 bytes in 4 chars, and pads the remainder.\n      this.surrogateSize = 3;\n      this.detectIncompleteChar = base64DetectIncompleteChar;\n      break;\n    default:\n      this.write = passThroughWrite;\n      return;\n  }\n\n  // Enough space to store all bytes of a single character. UTF-8 needs 4\n  // bytes, but CESU-8 may require up to 6 (3 bytes per surrogate).\n  this.charBuffer = new Buffer(6);\n  // Number of bytes received for the current incomplete multi-byte character.\n  this.charReceived = 0;\n  // Number of bytes expected for the current incomplete multi-byte character.\n  this.charLength = 0;\n};\n\n\n// write decodes the given buffer and returns it as JS string that is\n// guaranteed to not contain any partial multi-byte characters. Any partial\n// character found at the end of the buffer is buffered up, and will be\n// returned when calling write again with the remaining bytes.\n//\n// Note: Converting a Buffer containing an orphan surrogate to a String\n// currently works, but converting a String to a Buffer (via `new Buffer`, or\n// Buffer#write) will replace incomplete surrogates with the unicode\n// replacement character. See https://codereview.chromium.org/121173009/ .\nStringDecoder.prototype.write = function(buffer) {\n  var charStr = '';\n  // if our last write ended with an incomplete multibyte character\n  while (this.charLength) {\n    // determine how many remaining bytes this buffer has to offer for this char\n    var available = (buffer.length >= this.charLength - this.charReceived) ?\n        this.charLength - this.charReceived :\n        buffer.length;\n\n    // add the new bytes to the char buffer\n    buffer.copy(this.charBuffer, this.charReceived, 0, available);\n    this.charReceived += available;\n\n    if (this.charReceived < this.charLength) {\n      // still not enough chars in this buffer? wait for more ...\n      return '';\n    }\n\n    // remove bytes belonging to the current character from the buffer\n    buffer = buffer.slice(available, buffer.length);\n\n    // get the character that was split\n    charStr = this.charBuffer.slice(0, this.charLength).toString(this.encoding);\n\n    // CESU-8: lead surrogate (D800-DBFF) is also the incomplete character\n    var charCode = charStr.charCodeAt(charStr.length - 1);\n    if (charCode >= 0xD800 && charCode <= 0xDBFF) {\n      this.charLength += this.surrogateSize;\n      charStr = '';\n      continue;\n    }\n    this.charReceived = this.charLength = 0;\n\n    // if there are no more bytes in this buffer, just emit our char\n    if (buffer.length === 0) {\n      return charStr;\n    }\n    break;\n  }\n\n  // determine and set charLength / charReceived\n  this.detectIncompleteChar(buffer);\n\n  var end = buffer.length;\n  if (this.charLength) {\n    // buffer the incomplete character bytes we got\n    buffer.copy(this.charBuffer, 0, buffer.length - this.charReceived, end);\n    end -= this.charReceived;\n  }\n\n  charStr += buffer.toString(this.encoding, 0, end);\n\n  var end = charStr.length - 1;\n  var charCode = charStr.charCodeAt(end);\n  // CESU-8: lead surrogate (D800-DBFF) is also the incomplete character\n  if (charCode >= 0xD800 && charCode <= 0xDBFF) {\n    var size = this.surrogateSize;\n    this.charLength += size;\n    this.charReceived += size;\n    this.charBuffer.copy(this.charBuffer, size, 0, size);\n    buffer.copy(this.charBuffer, 0, 0, size);\n    return charStr.substring(0, end);\n  }\n\n  // or just emit the charStr\n  return charStr;\n};\n\n// detectIncompleteChar determines if there is an incomplete UTF-8 character at\n// the end of the given buffer. If so, it sets this.charLength to the byte\n// length that character, and sets this.charReceived to the number of bytes\n// that are available for this character.\nStringDecoder.prototype.detectIncompleteChar = function(buffer) {\n  // determine how many bytes we have to check at the end of this buffer\n  var i = (buffer.length >= 3) ? 3 : buffer.length;\n\n  // Figure out if one of the last i bytes of our buffer announces an\n  // incomplete char.\n  for (; i > 0; i--) {\n    var c = buffer[buffer.length - i];\n\n    // See http://en.wikipedia.org/wiki/UTF-8#Description\n\n    // 110XXXXX\n    if (i == 1 && c >> 5 == 0x06) {\n      this.charLength = 2;\n      break;\n    }\n\n    // 1110XXXX\n    if (i <= 2 && c >> 4 == 0x0E) {\n      this.charLength = 3;\n      break;\n    }\n\n    // 11110XXX\n    if (i <= 3 && c >> 3 == 0x1E) {\n      this.charLength = 4;\n      break;\n    }\n  }\n  this.charReceived = i;\n};\n\nStringDecoder.prototype.end = function(buffer) {\n  var res = '';\n  if (buffer && buffer.length)\n    res = this.write(buffer);\n\n  if (this.charReceived) {\n    var cr = this.charReceived;\n    var buf = this.charBuffer;\n    var enc = this.encoding;\n    res += buf.slice(0, cr).toString(enc);\n  }\n\n  return res;\n};\n\nfunction passThroughWrite(buffer) {\n  return buffer.toString(this.encoding);\n}\n\nfunction utf16DetectIncompleteChar(buffer) {\n  this.charReceived = buffer.length % 2;\n  this.charLength = this.charReceived ? 2 : 0;\n}\n\nfunction base64DetectIncompleteChar(buffer) {\n  this.charReceived = buffer.length % 3;\n  this.charLength = this.charReceived ? 3 : 0;\n}\n\n},{\"buffer\":4}],26:[function(require,module,exports){\nvar ANIMATION_FRAME_RATE, BACKSPACE_KEY, CONTROL_KEYS, CURSOR_HEIGHT_DECREASE, CURSOR_UNFOCUSED_OPACITY, CURSOR_WIDTH_DECREASE, CapturePoint, CrossDocumentLocation, DEBUG_FLAG, DEFAULT_INDENT_DEPTH, DISCOURAGE_DROP_TIMEOUT, DOWN_ARROW_KEY, DRAG_ACE_SCROLL_HORIZONTAL_PAD, DRAG_SCROLL_DISTANCE, DRAG_SCROLL_INTERVAL, DRAG_SCROLL_REGION, DROPDOWN_SCROLLBAR_PADDING, EMBOSS_FILTER_SVG, ENTER_KEY, Editor, EditorState, FloatingBlockRecord, FloatingOperation, GRAY_BLOCK_BORDER, GRAY_BLOCK_COLOR, GRAY_BLOCK_HANDLE_HEIGHT, GRAY_BLOCK_HANDLE_WIDTH, GRAY_BLOCK_MARGIN, LEFT_ARROW_KEY, MAX_DROP_DISTANCE, META_KEYS, MIN_DRAG_DISTANCE, PALETTE_HEADER_BOTTOM_BORDER_WIDTH, PALETTE_LEFT_MARGIN, PALETTE_MARGIN, PALETTE_TOP_MARGIN, QUAD, RIGHT_ARROW_KEY, RememberedSocketRecord, SVG_STANDARD, Session, TAB_KEY, TOUCH_SELECTION_TIMEOUT, TYPE_FROM_SEVERITY, TYPE_SEVERITY, UP_ARROW_KEY, Y_KEY, Z_KEY, binding, command_modifiers, command_pressed, containsCursor, draw, editorBindings, escapeString, getMostSevereAnnotationType, getOffsetLeft, getOffsetTop, helper, hook, isOSX, j, key, last_, len, model, modes, parseBlock, ref, ref1, touchEvents, unsortedEditorBindings, userAgent, validateLassoSelection, view,\n  indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };\n\nhelper = require('./helper.coffee');\n\ndraw = require('./draw.coffee');\n\nmodel = require('./model.coffee');\n\nview = require('./view.coffee');\n\nQUAD = require('../vendor/quadtree.js');\n\nmodes = require('./modes.coffee');\n\nPALETTE_TOP_MARGIN = 5;\n\nPALETTE_MARGIN = 5;\n\nMIN_DRAG_DISTANCE = 1;\n\nPALETTE_LEFT_MARGIN = 5;\n\nPALETTE_HEADER_BOTTOM_BORDER_WIDTH = 2;\n\nDEFAULT_INDENT_DEPTH = '  ';\n\nANIMATION_FRAME_RATE = 60;\n\nDISCOURAGE_DROP_TIMEOUT = 1000;\n\nMAX_DROP_DISTANCE = 100;\n\nCURSOR_WIDTH_DECREASE = 3;\n\nCURSOR_HEIGHT_DECREASE = 2;\n\nCURSOR_UNFOCUSED_OPACITY = 0.5;\n\nDEBUG_FLAG = false;\n\nDROPDOWN_SCROLLBAR_PADDING = 17;\n\nDRAG_SCROLL_REGION = 10;\n\nDRAG_SCROLL_DISTANCE = 8;\n\nDRAG_SCROLL_INTERVAL = 10;\n\nDRAG_ACE_SCROLL_HORIZONTAL_PAD = 50;\n\nBACKSPACE_KEY = 8;\n\nTAB_KEY = 9;\n\nENTER_KEY = 13;\n\nLEFT_ARROW_KEY = 37;\n\nUP_ARROW_KEY = 38;\n\nRIGHT_ARROW_KEY = 39;\n\nDOWN_ARROW_KEY = 40;\n\nZ_KEY = 90;\n\nY_KEY = 89;\n\nMETA_KEYS = [91, 92, 93, 223, 224];\n\nCONTROL_KEYS = [17, 162, 163];\n\nGRAY_BLOCK_MARGIN = 5;\n\nGRAY_BLOCK_HANDLE_WIDTH = 15;\n\nGRAY_BLOCK_HANDLE_HEIGHT = 30;\n\nGRAY_BLOCK_COLOR = 'rgba(256, 256, 256, 0.5)';\n\nGRAY_BLOCK_BORDER = '#AAA';\n\nuserAgent = '';\n\nif (typeof window !== 'undefined' && ((ref = window.navigator) != null ? ref.userAgent : void 0)) {\n  userAgent = window.navigator.userAgent;\n}\n\nisOSX = /OS X/.test(userAgent);\n\ncommand_modifiers = isOSX ? META_KEYS : CONTROL_KEYS;\n\ncommand_pressed = function(e) {\n  if (isOSX) {\n    return e.metaKey;\n  } else {\n    return e.ctrlKey;\n  }\n};\n\nunsortedEditorBindings = {\n  'populate': [],\n  'resize': [],\n  'resize_palette': [],\n  'redraw_main': [],\n  'redraw_palette': [],\n  'rebuild_palette': [],\n  'mousedown': [],\n  'mousemove': [],\n  'mouseup': [],\n  'dblclick': [],\n  'keydown': [],\n  'keyup': []\n};\n\neditorBindings = {};\n\nSVG_STANDARD = helper.SVG_STANDARD;\n\nEMBOSS_FILTER_SVG = \"<svg xlmns=\\\"\" + SVG_STANDARD + \"\\\">\\n  <filter id=\\\"dropShadow\\\" x=\\\"0\\\" y=\\\"0\\\" width=\\\"200%\\\" height=\\\"200%\\\">\\n    <feOffset result=\\\"offOut\\\" in=\\\"SourceAlpha\\\" dx=\\\"5\\\" dy=\\\"5\\\" />\\n    <feGaussianBlur result=\\\"blurOut\\\" in=\\\"offOut\\\" stdDeviation=\\\"1\\\" />\\n    <feBlend in=\\\"SourceGraphic\\\" in2=\\\"blurOut\\\" out=\\\"blendOut\\\" mode=\\\"normal\\\" />\\n    <feComposite in=\\\"blendOut\\\" in2=\\\"SourceGraphic\\\" k2=\\\"0.5\\\" k3=\\\"0.5\\\" operator=\\\"arithmetic\\\" />\\n  </filter>\\n</svg>\";\n\nhook = function(event, priority, fn) {\n  return unsortedEditorBindings[event].push({\n    priority: priority,\n    fn: fn\n  });\n};\n\nSession = (function() {\n  function Session(_main, _palette, _drag, options1, standardViewSettings) {\n    var base, metrics, ref1, ref2, ref3, ref4, ref5, ref6, ref7, ref8;\n    this.options = options1;\n    this.readOnly = false;\n    this.paletteGroups = this.options.palette;\n    this.showPaletteInTextMode = (ref1 = this.options.showPaletteInTextMode) != null ? ref1 : false;\n    this.paletteEnabled = (ref2 = this.options.enablePaletteAtStart) != null ? ref2 : true;\n    this.dropIntoAceAtLineStart = (ref3 = this.options.dropIntoAceAtLineStart) != null ? ref3 : false;\n    this.allowFloatingBlocks = (ref4 = this.options.allowFloatingBlocks) != null ? ref4 : true;\n    if ((base = this.options).preserveEmpty == null) {\n      base.preserveEmpty = true;\n    }\n    this.options.mode = this.options.mode.replace(/$\\/ace\\/mode\\//, '');\n    if (this.options.mode in modes) {\n      this.mode = new modes[this.options.mode](this.options.modeOptions);\n    } else {\n      this.mode = null;\n    }\n    this.view = new view.View(_main, helper.extend(standardViewSettings, (ref5 = this.options.viewSettings) != null ? ref5 : {}));\n    this.paletteView = new view.View(_palette, helper.extend({}, standardViewSettings, (ref6 = this.options.viewSettings) != null ? ref6 : {}, {\n      showDropdowns: (ref7 = this.options.showDropdownInPalette) != null ? ref7 : false\n    }));\n    this.dragView = new view.View(_drag, helper.extend({}, standardViewSettings, (ref8 = this.options.viewSettings) != null ? ref8 : {}));\n    this.tree = new model.Document(this.rootContext);\n    this.markedLines = {};\n    this.markedBlocks = {};\n    this.nextMarkedBlockId = 0;\n    this.extraMarks = {};\n    this.undoStack = [];\n    this.redoStack = [];\n    this.changeEventVersion = 0;\n    this.floatingBlocks = [];\n    this.cursor = new CrossDocumentLocation(0, new model.Location(0, 'documentStart'));\n    this.viewports = {\n      main: new draw.Rectangle(0, 0, 0, 0),\n      palette: new draw.Rectangle(0, 0, 0, 0)\n    };\n    this.currentlyUsingBlocks = true;\n    this.fontSize = 15;\n    this.fontFamily = 'Courier New';\n    metrics = helper.fontMetrics(this.fontFamily, this.fontSize);\n    this.fontAscent = metrics.prettytop;\n    this.fontDescent = metrics.descent;\n    this.fontWidth = this.view.draw.measureCtx.measureText(' ').width;\n    this.rememberedSockets = [];\n  }\n\n  return Session;\n\n})();\n\nexports.Editor = Editor = (function() {\n  function Editor(aceEditor, options1) {\n    var acemode, binding, boundListeners, dispatchKeyEvent, dispatchMouseEvent, elements, eventName, fn1, j, len, ref1, ref2, ref3, useBlockMode;\n    this.aceEditor = aceEditor;\n    this.options = options1;\n    this.debugging = true;\n    this.options = helper.deepCopy(this.options);\n    this.dropletElement = document.createElement('div');\n    this.dropletElement.className = 'droplet-wrapper-div';\n    this.dropletElement.innerHTML = EMBOSS_FILTER_SVG;\n    this.dropletElement.tabIndex = 0;\n    this.measureCanvas = document.createElement('canvas');\n    this.measureCtx = this.measureCanvas.getContext('2d');\n    this.mainCanvas = document.createElementNS(SVG_STANDARD, 'svg');\n    this.mainCanvas.setAttribute('class', 'droplet-main-canvas');\n    this.mainCanvas.setAttribute('shape-rendering', 'optimizeSpeed');\n    this.sideScroller = document.createElement('div');\n    this.sideScroller.className = 'droplet-side-scroller';\n    this.sideScroller.style.overflowY = 'hidden';\n    this.sideScroller.style.position = 'absolute';\n    this.sideScroller.style.top = 0;\n    this.sideScroller.style.left = 0;\n    this.paletteWrapper = document.createElement('div');\n    this.paletteWrapper.className = 'droplet-palette-wrapper';\n    this.paletteElement = document.createElement('div');\n    this.paletteElement.className = 'droplet-palette-element';\n    this.paletteWrapper.appendChild(this.paletteElement);\n    this.paletteCanvas = this.paletteCtx = document.createElementNS(SVG_STANDARD, 'svg');\n    this.paletteCanvas.setAttribute('class', 'droplet-palette-canvas');\n    this.paletteWrapper.style.position = 'absolute';\n    this.paletteWrapper.style.left = '0px';\n    this.paletteWrapper.style.top = '0px';\n    this.paletteWrapper.style.bottom = '0px';\n    this.paletteWrapper.style.width = '270px';\n    this.dragCanvas = this.dragCtx = document.createElementNS(SVG_STANDARD, 'svg');\n    this.dragCanvas.setAttribute('class', 'droplet-drag-canvas');\n    this.dragCanvas.style.left = '0px';\n    this.dragCanvas.style.top = '0px';\n    this.dragCanvas.style.transform = 'translate(-9999px,-9999px)';\n    this.draw = new draw.Draw(this.mainCanvas);\n    this.dropletElement.style.left = this.paletteWrapper.clientWidth + 'px';\n    this.draw.refreshFontCapital();\n    this.standardViewSettings = {\n      padding: 5,\n      indentWidth: 20,\n      textHeight: helper.getFontHeight('Courier New', 15),\n      indentTongueHeight: 20,\n      tabOffset: 10,\n      tabWidth: 15,\n      tabHeight: 4,\n      tabSideWidth: 1 / 4,\n      dropAreaHeight: 20,\n      indentDropAreaMinWidth: 50,\n      emptySocketWidth: 20,\n      emptyLineHeight: 25,\n      highlightAreaHeight: 10,\n      shadowBlur: 5,\n      ctx: this.measureCtx,\n      draw: this.draw\n    };\n    if (this.aceEditor instanceof Node) {\n      this.wrapperElement = this.aceEditor;\n      this.wrapperElement.style.position = 'absolute';\n      this.wrapperElement.style.right = this.wrapperElement.style.left = this.wrapperElement.style.top = this.wrapperElement.style.bottom = '0px';\n      this.wrapperElement.style.overflow = 'hidden';\n      this.aceElement = document.createElement('div');\n      this.aceElement.className = 'droplet-ace';\n      this.wrapperElement.appendChild(this.aceElement);\n      this.aceEditor = ace.edit(this.aceElement);\n      this.aceEditor.setTheme('ace/theme/chrome');\n      this.aceEditor.setFontSize(15);\n      acemode = this.options.mode;\n      if (acemode === 'coffeescript') {\n        acemode = 'coffee';\n      }\n      this.aceEditor.getSession().setMode('ace/mode/' + acemode);\n      this.aceEditor.getSession().setTabSize(2);\n    } else {\n      this.wrapperElement = document.createElement('div');\n      this.wrapperElement.style.position = 'absolute';\n      this.wrapperElement.style.right = this.wrapperElement.style.left = this.wrapperElement.style.top = this.wrapperElement.style.bottom = '0px';\n      this.wrapperElement.style.overflow = 'hidden';\n      this.aceElement = this.aceEditor.container;\n      this.aceElement.className += ' droplet-ace';\n      this.aceEditor.container.parentElement.appendChild(this.wrapperElement);\n      this.wrapperElement.appendChild(this.aceEditor.container);\n    }\n    this.wrapperElement.appendChild(this.dropletElement);\n    this.wrapperElement.appendChild(this.paletteWrapper);\n    this.wrapperElement.style.backgroundColor = '#FFF';\n    this.currentlyAnimating = false;\n    this.transitionContainer = document.createElement('div');\n    this.transitionContainer.className = 'droplet-transition-container';\n    this.dropletElement.appendChild(this.transitionContainer);\n    if (this.options != null) {\n      this.session = new Session(this.mainCanvas, this.paletteCanvas, this.dragCanvas, this.options, this.standardViewSettings);\n      this.sessions = new helper.PairDict([[this.aceEditor.getSession(), this.session]]);\n    } else {\n      this.session = null;\n      this.sessions = new helper.PairDict([]);\n      this.options = {\n        extraBottomHeight: 10\n      };\n    }\n    this.aceEditor.on('changeSession', (function(_this) {\n      return function(e) {\n        if (_this.sessions.contains(e.session)) {\n          return _this.updateNewSession(_this.sessions.get(e.session));\n        } else if (e.session._dropletSession != null) {\n          _this.updateNewSession(e.session._dropletSession);\n          return _this.sessions.set(e.session, e.session._dropletSession);\n        } else {\n          _this.updateNewSession(null);\n          return _this.setEditorState(false);\n        }\n      };\n    })(this));\n    this.bindings = {};\n    boundListeners = [];\n    ref1 = editorBindings.populate;\n    for (j = 0, len = ref1.length; j < len; j++) {\n      binding = ref1[j];\n      binding.call(this);\n    }\n    window.addEventListener('resize', (function(_this) {\n      return function() {\n        return _this.resizeBlockMode();\n      };\n    })(this));\n    dispatchMouseEvent = (function(_this) {\n      return function(event) {\n        var handler, k, len1, ref2, state, trackPoint;\n        if (event.type !== 'mousemove' && event.which !== 1) {\n          return;\n        }\n        if (event.target === _this.mainScroller) {\n          return;\n        }\n        trackPoint = new _this.draw.Point(event.clientX, event.clientY);\n        state = {};\n        ref2 = editorBindings[event.type];\n        for (k = 0, len1 = ref2.length; k < len1; k++) {\n          handler = ref2[k];\n          handler.call(_this, trackPoint, event, state);\n        }\n        if (event.type === 'mousedown') {\n          if (typeof event.preventDefault === \"function\") {\n            event.preventDefault();\n          }\n          event.returnValue = false;\n          return false;\n        }\n      };\n    })(this);\n    dispatchKeyEvent = (function(_this) {\n      return function(event) {\n        var handler, k, len1, ref2, results, state;\n        state = {};\n        ref2 = editorBindings[event.type];\n        results = [];\n        for (k = 0, len1 = ref2.length; k < len1; k++) {\n          handler = ref2[k];\n          results.push(handler.call(_this, event, state));\n        }\n        return results;\n      };\n    })(this);\n    ref2 = {\n      keydown: [this.dropletElement, this.paletteElement],\n      keyup: [this.dropletElement, this.paletteElement],\n      mousedown: [this.dropletElement, this.paletteElement, this.dragCover],\n      dblclick: [this.dropletElement, this.paletteElement, this.dragCover],\n      mouseup: [window],\n      mousemove: [window]\n    };\n    fn1 = (function(_this) {\n      return function(eventName, elements) {\n        var element, k, len1, results;\n        results = [];\n        for (k = 0, len1 = elements.length; k < len1; k++) {\n          element = elements[k];\n          if (/^key/.test(eventName)) {\n            results.push(element.addEventListener(eventName, dispatchKeyEvent));\n          } else {\n            results.push(element.addEventListener(eventName, dispatchMouseEvent));\n          }\n        }\n        return results;\n      };\n    })(this);\n    for (eventName in ref2) {\n      elements = ref2[eventName];\n      fn1(eventName, elements);\n    }\n    this.resizeBlockMode();\n    this.redrawMain();\n    this.rebuildPalette();\n    useBlockMode = (((ref3 = this.session) != null ? ref3.mode : void 0) != null) && !this.options.textModeAtStart;\n    this.setEditorState(useBlockMode);\n    return this;\n  }\n\n  Editor.prototype.setMode = function(mode, modeOptions) {\n    var modeClass;\n    modeClass = modes[mode];\n    if (modeClass) {\n      this.options.mode = mode;\n      this.session.mode = new modeClass(modeOptions);\n    } else {\n      this.options.mode = null;\n      this.session.mode = null;\n    }\n    return this.setValue(this.getValue());\n  };\n\n  Editor.prototype.getMode = function() {\n    return this.options.mode;\n  };\n\n  Editor.prototype.setReadOnly = function(readOnly) {\n    this.session.readOnly = readOnly;\n    return this.aceEditor.setReadOnly(readOnly);\n  };\n\n  Editor.prototype.getReadOnly = function() {\n    return this.session.readOnly;\n  };\n\n  Editor.prototype.resizeTextMode = function() {\n    this.resizeAceElement();\n    this.aceEditor.resize(true);\n    if (this.session != null) {\n      this.resizePalette();\n    }\n  };\n\n  Editor.prototype.resizeBlockMode = function() {\n    if (this.session == null) {\n      return;\n    }\n    this.resizeTextMode();\n    this.dropletElement.style.height = this.wrapperElement.clientHeight + \"px\";\n    if (this.session.paletteEnabled) {\n      this.dropletElement.style.left = this.paletteWrapper.clientWidth + \"px\";\n      this.dropletElement.style.width = (this.wrapperElement.clientWidth - this.paletteWrapper.clientWidth) + \"px\";\n    } else {\n      this.dropletElement.style.left = \"0px\";\n      this.dropletElement.style.width = this.wrapperElement.clientWidth + \"px\";\n    }\n    this.session.viewports.main.height = this.dropletElement.clientHeight;\n    this.session.viewports.main.width = this.dropletElement.clientWidth - this.gutter.clientWidth;\n    this.mainCanvas.style.left = this.gutter.clientWidth + \"px\";\n    this.transitionContainer.style.left = this.gutter.clientWidth + \"px\";\n    this.resizePalette();\n    this.resizePaletteHighlight();\n    this.resizeNubby();\n    this.resizeMainScroller();\n    this.resizeDragCanvas();\n    this.session.viewports.main.y = this.mainScroller.scrollTop;\n    return this.session.viewports.main.x = this.mainScroller.scrollLeft;\n  };\n\n  Editor.prototype.resizePalette = function() {\n    var binding, j, len, ref1, ref2, ref3, ref4;\n    ref1 = editorBindings.resize_palette;\n    for (j = 0, len = ref1.length; j < len; j++) {\n      binding = ref1[j];\n      binding.call(this);\n    }\n    if (!(((ref2 = this.session) != null ? ref2.currentlyUsingBlocks : void 0) || ((ref3 = this.session) != null ? ref3.showPaletteInTextMode : void 0) && ((ref4 = this.session) != null ? ref4.paletteEnabled : void 0))) {\n      this.paletteWrapper.style.left = (-this.paletteWrapper.clientWidth) + \"px\";\n    }\n    return this.rebuildPalette();\n  };\n\n  Editor.prototype.resize = function() {\n    var ref1;\n    if ((ref1 = this.session) != null ? ref1.currentlyUsingBlocks : void 0) {\n      return this.resizeBlockMode();\n    } else {\n      return this.resizeTextMode();\n    }\n  };\n\n  Editor.prototype.updateNewSession = function(session) {\n    var offsetX, offsetY;\n    this.session.view.clearFromCanvas();\n    this.session.paletteView.clearFromCanvas();\n    this.session.dragView.clearFromCanvas();\n    this.session = session;\n    if (session == null) {\n      return;\n    }\n    offsetY = this.session.viewports.main.y;\n    offsetX = this.session.viewports.main.x;\n    this.setEditorState(this.session.currentlyUsingBlocks);\n    this.redrawMain();\n    this.mainScroller.scrollTop = offsetY;\n    this.mainScroller.scrollLeft = offsetX;\n    return this.setPalette(this.session.paletteGroups);\n  };\n\n  Editor.prototype.hasSessionFor = function(aceSession) {\n    return this.sessions.contains(aceSession);\n  };\n\n  Editor.prototype.bindNewSession = function(opts) {\n    var session;\n    if (this.sessions.contains(this.aceEditor.getSession())) {\n      throw new ArgumentError('Cannot bind a new session where one already exists.');\n    } else {\n      session = new Session(this.mainCanvas, this.paletteCanvas, this.dragCanvas, opts, this.standardViewSettings);\n      this.sessions.set(this.aceEditor.getSession(), session);\n      this.session = session;\n      this.aceEditor.getSession()._dropletSession = this.session;\n      this.session.currentlyUsingBlocks = false;\n      this.setValue_raw(this.getAceValue());\n      this.setPalette(this.session.paletteGroups);\n      return session;\n    }\n  };\n\n  return Editor;\n\n})();\n\nEditor.prototype.clearCanvas = function(canvas) {};\n\nEditor.prototype.clearMain = function(opts) {};\n\nEditor.prototype.setTopNubbyStyle = function(height, color) {\n  var nubbyWidth, points;\n  if (height == null) {\n    height = 10;\n  }\n  if (color == null) {\n    color = '#EBEBEB';\n  }\n  this.nubbyHeight = Math.max(0, height);\n  this.nubbyColor = color;\n  if (this.topNubbyPath == null) {\n    this.topNubbyPath = new this.draw.Path([], true);\n  }\n  this.topNubbyPath.activate();\n  this.topNubbyPath.setParent(this.mainCanvas);\n  points = [];\n  nubbyWidth = this.computeMainCanvasWidth();\n  points.push(new this.draw.Point(nubbyWidth, -5));\n  points.push(new this.draw.Point(nubbyWidth, height));\n  points.push(new this.draw.Point(this.session.view.opts.tabOffset + this.session.view.opts.tabWidth, height));\n  points.push(new this.draw.Point(this.session.view.opts.tabOffset + this.session.view.opts.tabWidth * (1 - this.session.view.opts.tabSideWidth), this.session.view.opts.tabHeight + height));\n  points.push(new this.draw.Point(this.session.view.opts.tabOffset + this.session.view.opts.tabWidth * this.session.view.opts.tabSideWidth, this.session.view.opts.tabHeight + height));\n  points.push(new this.draw.Point(this.session.view.opts.tabOffset, height));\n  points.push(new this.draw.Point(this.session.view.opts.bevelClip, height));\n  points.push(new this.draw.Point(0, height + this.session.view.opts.bevelClip));\n  points.push(new this.draw.Point(-5, height + this.session.view.opts.bevelClip));\n  points.push(new this.draw.Point(-5, -5));\n  this.topNubbyPath.setPoints(points);\n  this.topNubbyPath.style.fillColor = color;\n  return this.redrawMain();\n};\n\nEditor.prototype.resizeNubby = function() {\n  return this.setTopNubbyStyle(this.nubbyHeight, this.nubbyColor);\n};\n\nEditor.prototype.initializeFloatingBlock = function(record, i) {\n  var element, j, len, ref1;\n  record.renderGroup = new this.session.view.draw.Group();\n  record.grayBox = new this.session.view.draw.NoRectangle();\n  record.grayBoxPath = new this.session.view.draw.Path([], false, {\n    fillColor: GRAY_BLOCK_COLOR,\n    strokeColor: GRAY_BLOCK_BORDER,\n    lineWidth: 4,\n    dotted: '8 5',\n    cssClass: 'droplet-floating-container'\n  });\n  record.startText = new this.session.view.draw.Text(new this.session.view.draw.Point(0, 0), this.session.mode.startComment);\n  record.endText = new this.session.view.draw.Text(new this.session.view.draw.Point(0, 0), this.session.mode.endComment);\n  ref1 = [record.grayBoxPath, record.startText, record.endText];\n  for (j = 0, len = ref1.length; j < len; j++) {\n    element = ref1[j];\n    element.setParent(record.renderGroup);\n    element.activate();\n  }\n  this.session.view.getViewNodeFor(record.block).group.setParent(record.renderGroup);\n  record.renderGroup.activate();\n  if (i < this.session.floatingBlocks.length) {\n    return this.mainCanvas.insertBefore(record.renderGroup.element, this.session.floatingBlocks[i].renderGroup.element);\n  } else {\n    return this.mainCanvas.appendChild(record.renderGroup);\n  }\n};\n\nEditor.prototype.drawFloatingBlock = function(record, startWidth, endWidth, rect, opts) {\n  var blockView, bottomTextPosition, oldBounds, points, rectangle, ref1, ref2, startHeight;\n  blockView = this.session.view.getViewNodeFor(record.block);\n  blockView.layout(record.position.x, record.position.y);\n  rectangle = new this.session.view.draw.Rectangle();\n  rectangle.copy(blockView.totalBounds);\n  rectangle.x -= GRAY_BLOCK_MARGIN;\n  rectangle.y -= GRAY_BLOCK_MARGIN;\n  rectangle.width += 2 * GRAY_BLOCK_MARGIN;\n  rectangle.height += 2 * GRAY_BLOCK_MARGIN;\n  bottomTextPosition = blockView.totalBounds.bottom() - blockView.distanceToBase[blockView.lineLength - 1].below - this.session.fontSize;\n  if ((blockView.totalBounds.width - blockView.bounds[blockView.bounds.length - 1].width) < endWidth) {\n    if (blockView.lineLength > 1) {\n      rectangle.height += this.session.fontSize;\n      bottomTextPosition = rectangle.bottom() - this.session.fontSize - 5;\n    } else {\n      rectangle.width += endWidth;\n    }\n  }\n  if (!rectangle.equals(record.grayBox)) {\n    record.grayBox = rectangle;\n    oldBounds = (ref1 = (ref2 = record.grayBoxPath) != null ? typeof ref2.bounds === \"function\" ? ref2.bounds() : void 0 : void 0) != null ? ref1 : new this.session.view.draw.NoRectangle();\n    startHeight = blockView.bounds[0].height + 10;\n    points = [];\n    points.push(new this.session.view.draw.Point(rectangle.right() - 5, rectangle.y));\n    points.push(new this.session.view.draw.Point(rectangle.right(), rectangle.y + 5));\n    points.push(new this.session.view.draw.Point(rectangle.right(), rectangle.bottom() - 5));\n    points.push(new this.session.view.draw.Point(rectangle.right() - 5, rectangle.bottom()));\n    if (blockView.lineLength > 1) {\n      points.push(new this.session.view.draw.Point(rectangle.x + 5, rectangle.bottom()));\n      points.push(new this.session.view.draw.Point(rectangle.x, rectangle.bottom() - 5));\n    } else {\n      points.push(new this.session.view.draw.Point(rectangle.x, rectangle.bottom()));\n    }\n    points.push(new this.session.view.draw.Point(rectangle.x, rectangle.y + startHeight));\n    points.push(new this.session.view.draw.Point(rectangle.x - startWidth + 5, rectangle.y + startHeight));\n    points.push(new this.session.view.draw.Point(rectangle.x - startWidth, rectangle.y + startHeight - 5));\n    points.push(new this.session.view.draw.Point(rectangle.x - startWidth, rectangle.y + 5));\n    points.push(new this.session.view.draw.Point(rectangle.x - startWidth + 5, rectangle.y));\n    points.push(new this.session.view.draw.Point(rectangle.x, rectangle.y));\n    record.grayBoxPath.setPoints(points);\n    if (opts.boundingRectangle != null) {\n      opts.boundingRectangle.unite(path.bounds());\n      opts.boundingRectangle.unite(oldBounds);\n      return this.redrawMain(opts);\n    }\n  }\n  record.grayBoxPath.update();\n  record.startText.point.x = blockView.totalBounds.x - startWidth;\n  record.startText.point.y = blockView.totalBounds.y + blockView.distanceToBase[0].above - this.session.fontSize;\n  record.startText.update();\n  record.endText.point.x = record.grayBox.right() - endWidth - 5;\n  record.endText.point.y = bottomTextPosition;\n  record.endText.update();\n  return blockView.draw(rect, {\n    grayscale: false,\n    selected: false,\n    noText: false\n  });\n};\n\nhook('populate', 0, function() {\n  return this.currentlyDrawnFloatingBlocks = [];\n});\n\nEditor.prototype.computeMainCanvasWidth = function() {\n  return Math.max(this.session.view.getViewNodeFor(this.session.tree).totalBounds.width, this.dropletElement.clientWidth - this.gutter.clientWidth);\n};\n\nEditor.prototype.redrawMain = function(opts) {\n  var binding, el, element, endWidth, i, j, k, l, layoutResult, len, len1, len2, options, record, rect, ref1, ref2, ref3, ref4, ref5, ref6, startWidth;\n  if (opts == null) {\n    opts = {};\n  }\n  if (this.session == null) {\n    return;\n  }\n  if (!this.currentlyAnimating_suprressRedraw) {\n    this.session.view.beginDraw();\n    this.clearMain(opts);\n    this.topNubbyPath.update();\n    rect = this.session.viewports.main;\n    options = {\n      grayscale: false,\n      selected: false,\n      noText: (ref1 = opts.noText) != null ? ref1 : false\n    };\n    layoutResult = this.session.view.getViewNodeFor(this.session.tree).layout(0, this.nubbyHeight);\n    this.session.view.getViewNodeFor(this.session.tree).draw(rect, options);\n    this.session.view.getViewNodeFor(this.session.tree).root();\n    this.mainCanvas.setAttribute('width', this.computeMainCanvasWidth());\n    ref2 = this.currentlyDrawnFloatingBlocks;\n    for (i = j = 0, len = ref2.length; j < len; i = ++j) {\n      el = ref2[i];\n      if (ref3 = el.record, indexOf.call(this.session.floatingBlocks, ref3) < 0) {\n        el.record.grayBoxPath.destroy();\n        el.record.startText.destroy();\n        el.record.endText.destroy();\n      }\n    }\n    this.currentlyDrawnFloatingBlocks = [];\n    startWidth = this.session.mode.startComment.length * this.session.fontWidth;\n    endWidth = this.session.mode.endComment.length * this.session.fontWidth;\n    ref4 = this.session.floatingBlocks;\n    for (k = 0, len1 = ref4.length; k < len1; k++) {\n      record = ref4[k];\n      element = this.drawFloatingBlock(record, startWidth, endWidth, rect, opts);\n      this.currentlyDrawnFloatingBlocks.push({\n        record: record\n      });\n    }\n    this.redrawCursors();\n    this.redrawHighlights();\n    this.resizeGutter();\n    ref5 = editorBindings.redraw_main;\n    for (l = 0, len2 = ref5.length; l < len2; l++) {\n      binding = ref5[l];\n      binding.call(this, layoutResult);\n    }\n    if (this.session.changeEventVersion !== this.session.tree.version) {\n      this.session.changeEventVersion = this.session.tree.version;\n      if ((ref6 = this.session) != null ? ref6.currentlyUsingBlocks : void 0) {\n        this.setAceValue(this.getValue());\n      }\n      this.fireEvent('change', []);\n    }\n    this.session.view.cleanupDraw();\n    if (!this.alreadyScheduledCleanup) {\n      this.alreadyScheduledCleanup = true;\n      setTimeout(((function(_this) {\n        return function() {\n          _this.alreadyScheduledCleanup = false;\n          if (_this.session != null) {\n            return _this.session.view.garbageCollect();\n          }\n        };\n      })(this)), 0);\n    }\n    return null;\n  }\n};\n\nEditor.prototype.redrawHighlights = function() {\n  this.redrawCursors();\n  this.redrawLassoHighlight();\n  if ((this.draggingBlock != null) && this.inDisplay(this.draggingBlock)) {\n    return this.session.view.getViewNodeFor(this.draggingBlock).draw(new this.draw.Rectangle(this.session.viewports.main.x, this.session.viewports.main.y, this.session.viewports.main.width, this.session.viewports.main.height), {\n      grayscale: true\n    });\n  }\n};\n\nEditor.prototype.clearCursorCanvas = function() {\n  this.textCursorPath.deactivate();\n  return this.cursorPath.deactivate();\n};\n\nEditor.prototype.redrawCursors = function() {\n  if (this.session == null) {\n    return;\n  }\n  this.clearCursorCanvas();\n  if (this.cursorAtSocket()) {\n    return this.redrawTextHighlights();\n  } else if (this.lassoSelection == null) {\n    return this.drawCursor();\n  }\n};\n\nEditor.prototype.drawCursor = function() {\n  return this.strokeCursor(this.determineCursorPosition());\n};\n\nEditor.prototype.clearPalette = function() {};\n\nEditor.prototype.clearPaletteHighlightCanvas = function() {};\n\nEditor.prototype.redrawPalette = function() {\n  var binding, element, entry, j, k, lastBottomEdge, len, len1, paletteBlockClass, paletteBlockView, ref1, ref2, ref3, ref4;\n  if (((ref1 = this.session) != null ? ref1.currentPaletteBlocks : void 0) == null) {\n    return;\n  }\n  this.clearPalette();\n  this.session.paletteView.beginDraw();\n  lastBottomEdge = PALETTE_TOP_MARGIN;\n  ref2 = this.session.currentPaletteBlocks;\n  for (j = 0, len = ref2.length; j < len; j++) {\n    entry = ref2[j];\n    paletteBlockView = this.session.paletteView.getViewNodeFor(entry.block);\n    paletteBlockView.layout(PALETTE_LEFT_MARGIN, lastBottomEdge);\n    paletteBlockView.draw();\n    paletteBlockView.group.setParent(this.paletteCtx);\n    element = document.createElementNS(SVG_STANDARD, 'title');\n    element.innerHTML = (ref3 = entry.title) != null ? ref3 : entry.block.stringify();\n    paletteBlockView.group.element.appendChild(element);\n    paletteBlockView.group.element.setAttribute('data-id', entry.id);\n    paletteBlockClass = paletteBlockView.group.element.getAttribute('class') || '';\n    if (!(paletteBlockClass.indexOf('droplet-hover-div') > -1)) {\n      paletteBlockView.group.element.setAttribute('class', paletteBlockClass + ' droplet-hover-div');\n    }\n    paletteBlockView.group.element.setAttribute('title', entry.title);\n    lastBottomEdge = paletteBlockView.getBounds().bottom() + PALETTE_MARGIN;\n  }\n  ref4 = editorBindings.redraw_palette;\n  for (k = 0, len1 = ref4.length; k < len1; k++) {\n    binding = ref4[k];\n    binding.call(this);\n  }\n  this.paletteCanvas.style.height = lastBottomEdge + 'px';\n  return this.session.paletteView.garbageCollect();\n};\n\nEditor.prototype.rebuildPalette = function() {\n  var binding, j, len, ref1, ref2, results;\n  if (((ref1 = this.session) != null ? ref1.currentPaletteBlocks : void 0) == null) {\n    return;\n  }\n  this.redrawPalette();\n  ref2 = editorBindings.rebuild_palette;\n  results = [];\n  for (j = 0, len = ref2.length; j < len; j++) {\n    binding = ref2[j];\n    results.push(binding.call(this));\n  }\n  return results;\n};\n\nEditor.prototype.absoluteOffset = function(el) {\n  var point;\n  point = new this.draw.Point(el.offsetLeft, el.offsetTop);\n  el = el.offsetParent;\n  while (!(el === document.body || (el == null))) {\n    point.x += el.offsetLeft - el.scrollLeft;\n    point.y += el.offsetTop - el.scrollTop;\n    el = el.offsetParent;\n  }\n  return point;\n};\n\nEditor.prototype.trackerPointToMain = function(point) {\n  var gbr;\n  if (this.mainCanvas.parentNode == null) {\n    return new this.draw.Point(0/0, 0/0);\n  }\n  gbr = this.mainCanvas.getBoundingClientRect();\n  return new this.draw.Point(point.x - gbr.left, point.y - gbr.top);\n};\n\nEditor.prototype.trackerPointToPalette = function(point) {\n  var gbr;\n  if (this.paletteCanvas.parentNode == null) {\n    return new this.draw.Point(0/0, 0/0);\n  }\n  gbr = this.paletteCanvas.getBoundingClientRect();\n  return new this.draw.Point(point.x - gbr.left, point.y - gbr.top);\n};\n\nEditor.prototype.trackerPointIsInElement = function(point, element) {\n  var gbr;\n  if ((this.session == null) || this.session.readOnly) {\n    return false;\n  }\n  if (element.parentNode == null) {\n    return false;\n  }\n  gbr = element.getBoundingClientRect();\n  return point.x >= gbr.left && point.x < gbr.right && point.y >= gbr.top && point.y < gbr.bottom;\n};\n\nEditor.prototype.trackerPointIsInMain = function(point) {\n  return this.trackerPointIsInElement(point, this.mainCanvas);\n};\n\nEditor.prototype.trackerPointIsInMainScroller = function(point) {\n  return this.trackerPointIsInElement(point, this.mainScroller);\n};\n\nEditor.prototype.trackerPointIsInGutter = function(point) {\n  return this.trackerPointIsInElement(point, this.gutter);\n};\n\nEditor.prototype.trackerPointIsInPalette = function(point) {\n  return this.trackerPointIsInElement(point, this.paletteCanvas);\n};\n\nEditor.prototype.trackerPointIsInAceScrollRegion = function(point) {\n  var gbr;\n  if ((this.session == null) || this.session.readOnly) {\n    return false;\n  }\n  if (this.aceElement.parentNode == null) {\n    return false;\n  }\n  gbr = this.aceElement.getBoundingClientRect();\n  return point.x >= (gbr.left - DRAG_ACE_SCROLL_HORIZONTAL_PAD) && point.x < (gbr.right + DRAG_ACE_SCROLL_HORIZONTAL_PAD);\n};\n\nEditor.prototype.trackerPointIsInScrollRegion = function(point, scrollDirection) {\n  var gbr;\n  if ((this.session == null) || this.session.readOnly) {\n    return false;\n  }\n  if (this.mainScroller.parentNode == null) {\n    return false;\n  }\n  gbr = this.mainScroller.getBoundingClientRect();\n  switch (scrollDirection) {\n    case 'down':\n      return point.x >= gbr.left && point.x < gbr.right && point.y >= (gbr.bottom - DRAG_SCROLL_REGION);\n    case 'up':\n      return point.x >= gbr.left && point.x < gbr.right && point.y <= (gbr.top + DRAG_SCROLL_REGION);\n    case 'left':\n      return point.x <= (gbr.left + DRAG_SCROLL_REGION) && point.y >= gbr.top && point.y < gbr.bottom;\n    case 'right':\n      return point.x >= (gbr.right - DRAG_SCROLL_REGION) && point.y >= gbr.top && point.y < gbr.bottom;\n    default:\n      return false;\n  }\n};\n\nEditor.prototype.hitTest = function(point, block, view) {\n  var head, result, seek;\n  if (view == null) {\n    view = this.session.view;\n  }\n  if (this.session.readOnly) {\n    return null;\n  }\n  head = block.start;\n  seek = block.end;\n  result = null;\n  while (head !== seek) {\n    if (head.type === 'blockStart' && view.getViewNodeFor(head.container).path.contains(point)) {\n      result = head.container;\n      seek = head.container.end;\n    }\n    head = head.next;\n  }\n  return result;\n};\n\nhook('mousedown', 10, function() {\n  var x, y;\n  x = document.body.scrollLeft;\n  y = document.body.scrollTop;\n  this.dropletElement.focus();\n  return window.scrollTo(x, y);\n});\n\nEditor.prototype.removeBlankLines = function() {\n  var head, tail;\n  head = tail = this.session.tree.end.prev;\n  while ((head != null ? head.type : void 0) === 'newline') {\n    head = head.prev;\n  }\n  if (head.type === 'newline') {\n    return this.spliceOut(new model.List(head, tail));\n  }\n};\n\nhook('keydown', 0, function(event, state) {\n  if (event.which === Z_KEY && event.shiftKey && command_pressed(event)) {\n    return this.redo();\n  } else if (event.which === Z_KEY && command_pressed(event)) {\n    return this.undo();\n  } else if (event.which === Y_KEY && command_pressed(event)) {\n    return this.redo();\n  }\n});\n\nEditorState = (function() {\n  function EditorState(root, floats) {\n    this.root = root;\n    this.floats = floats;\n  }\n\n  EditorState.prototype.equals = function(other) {\n    var el, i, j, len, ref1;\n    if (!(this.root === other.root && this.floats.length === other.floats.length)) {\n      return false;\n    }\n    ref1 = this.floats;\n    for (i = j = 0, len = ref1.length; j < len; i = ++j) {\n      el = ref1[i];\n      if (!(el.position.equals(other.floats[i].position) && el.string === other.floats[i].string)) {\n        return false;\n      }\n    }\n    return true;\n  };\n\n  EditorState.prototype.toString = function() {\n    return JSON.stringify({\n      root: this.root,\n      floats: this.floats\n    });\n  };\n\n  return EditorState;\n\n})();\n\nEditor.prototype.getSerializedEditorState = function() {\n  return new EditorState(this.session.tree.stringify(), this.session.floatingBlocks.map(function(x) {\n    return {\n      position: x.position,\n      string: x.block.stringify()\n    };\n  }));\n};\n\nEditor.prototype.clearUndoStack = function() {\n  if (this.session == null) {\n    return;\n  }\n  this.session.undoStack.length = 0;\n  return this.session.redoStack.length = 0;\n};\n\nEditor.prototype.undo = function() {\n  var currentValue, operation;\n  if (this.session == null) {\n    return;\n  }\n  this.setCursor(this.session.cursor, (function(x) {\n    return x.type !== 'socketStart';\n  }));\n  currentValue = this.getSerializedEditorState();\n  while (!(this.session.undoStack.length === 0 || (this.session.undoStack[this.session.undoStack.length - 1] instanceof CapturePoint && !this.getSerializedEditorState().equals(currentValue)))) {\n    operation = this.popUndo();\n    if (operation instanceof FloatingOperation) {\n      this.performFloatingOperation(operation, 'backward');\n    } else {\n      if (!(operation instanceof CapturePoint)) {\n        this.getDocument(operation.document).perform(operation.operation, 'backward', this.getPreserves(operation.document));\n      }\n    }\n  }\n  if (this.session.undoStack[this.session.undoStack.length - 1] instanceof CapturePoint) {\n    this.session.rememberedSockets = this.session.undoStack[this.session.undoStack.length - 1].rememberedSockets.map(function(x) {\n      return x.clone();\n    });\n  }\n  this.popUndo();\n  this.correctCursor();\n  this.redrawMain();\n};\n\nEditor.prototype.pushUndo = function(operation) {\n  this.session.redoStack.length = 0;\n  return this.session.undoStack.push(operation);\n};\n\nEditor.prototype.popUndo = function() {\n  var operation;\n  operation = this.session.undoStack.pop();\n  if (operation != null) {\n    this.session.redoStack.push(operation);\n  }\n  return operation;\n};\n\nEditor.prototype.popRedo = function() {\n  var operation;\n  operation = this.session.redoStack.pop();\n  if (operation != null) {\n    this.session.undoStack.push(operation);\n  }\n  return operation;\n};\n\nEditor.prototype.redo = function() {\n  var currentValue, operation;\n  currentValue = this.getSerializedEditorState();\n  while (!(this.session.redoStack.length === 0 || (this.session.redoStack[this.session.redoStack.length - 1] instanceof CapturePoint && !this.getSerializedEditorState().equals(currentValue)))) {\n    operation = this.popRedo();\n    if (operation instanceof FloatingOperation) {\n      this.performFloatingOperation(operation, 'forward');\n    } else {\n      if (!(operation instanceof CapturePoint)) {\n        this.getDocument(operation.document).perform(operation.operation, 'forward', this.getPreserves(operation.document));\n      }\n    }\n  }\n  if (this.session.undoStack[this.session.undoStack.length - 1] instanceof CapturePoint) {\n    this.session.rememberedSockets = this.session.undoStack[this.session.undoStack.length - 1].rememberedSockets.map(function(x) {\n      return x.clone();\n    });\n  }\n  this.popRedo();\n  this.redrawMain();\n};\n\nEditor.prototype.undoCapture = function() {\n  return this.pushUndo(new CapturePoint(this.session.rememberedSockets));\n};\n\nCapturePoint = (function() {\n  function CapturePoint(rememberedSockets) {\n    this.rememberedSockets = rememberedSockets.map(function(x) {\n      return x.clone();\n    });\n  }\n\n  return CapturePoint;\n\n})();\n\nEditor.prototype.getPreserves = function(dropletDocument) {\n  var array;\n  if (dropletDocument instanceof model.Document) {\n    dropletDocument = this.documentIndex(dropletDocument);\n  }\n  array = [this.session.cursor];\n  array = array.concat(this.session.rememberedSockets.map(function(x) {\n    return x.socket;\n  }));\n  return array.filter(function(location) {\n    return location.document === dropletDocument;\n  }).map(function(location) {\n    return location.location;\n  });\n};\n\nEditor.prototype.spliceOut = function(node, container) {\n  var dropletDocument, i, j, k, l, len, len1, len2, operation, parent, record, ref1, ref2, ref3, socket;\n  if (container == null) {\n    container = null;\n  }\n  if (!(node instanceof model.List)) {\n    node = new model.List(node, node);\n  }\n  operation = null;\n  dropletDocument = node.getDocument();\n  parent = node.parent;\n  if (dropletDocument != null) {\n    operation = node.getDocument().remove(node, this.getPreserves(dropletDocument));\n    this.pushUndo({\n      operation: operation,\n      document: this.getDocuments().indexOf(dropletDocument)\n    });\n    if ((parent != null ? parent.type : void 0) === 'socket' && node.start.type === 'blockStart') {\n      ref1 = this.session.rememberedSockets;\n      for (i = j = 0, len = ref1.length; j < len; i = ++j) {\n        socket = ref1[i];\n        if (this.fromCrossDocumentLocation(socket.socket) === parent) {\n          this.session.rememberedSockets.splice(i, 0);\n          this.populateSocket(parent, socket.text);\n          break;\n        }\n      }\n    }\n    if (dropletDocument.start.next === dropletDocument.end) {\n      ref2 = this.session.floatingBlocks;\n      for (i = k = 0, len1 = ref2.length; k < len1; i = ++k) {\n        record = ref2[i];\n        if (record.block === dropletDocument) {\n          this.pushUndo(new FloatingOperation(i, record.block, record.position, 'delete'));\n          if (this.session.cursor.document === i + 1) {\n            this.setCursor(this.session.tree.start);\n          }\n          if (this.session.cursor.document > i + 1) {\n            this.session.cursor.document -= 1;\n          }\n          this.session.floatingBlocks.splice(i, 1);\n          ref3 = this.session.rememberedSockets;\n          for (l = 0, len2 = ref3.length; l < len2; l++) {\n            socket = ref3[l];\n            if (socket.socket.document > i) {\n              socket.socket.document -= 1;\n            }\n          }\n          break;\n        }\n      }\n    }\n  } else if (container != null) {\n    container.remove(node);\n  }\n  this.prepareNode(node, null);\n  this.correctCursor();\n  return operation;\n};\n\nEditor.prototype.spliceIn = function(node, location) {\n  var container, dropletDocument, operation, ref1;\n  container = (ref1 = location.container) != null ? ref1 : location.parent;\n  if (container.type === 'block') {\n    container = container.parent;\n  } else if (container.type === 'socket' && container.start.next !== container.end) {\n    if (this.documentIndex(container) !== -1) {\n      this.session.rememberedSockets.push(new RememberedSocketRecord(this.toCrossDocumentLocation(container), container.textContent()));\n    }\n    this.spliceOut(new model.List(container.start.next, container.end.prev), container);\n  }\n  dropletDocument = location.getDocument();\n  this.prepareNode(node, container);\n  if (dropletDocument != null) {\n    operation = dropletDocument.insert(location, node, this.getPreserves(dropletDocument));\n    this.pushUndo({\n      operation: operation,\n      document: this.getDocuments().indexOf(dropletDocument)\n    });\n    this.correctCursor();\n    return operation;\n  } else {\n    container.insert(location, node);\n    return null;\n  }\n};\n\nRememberedSocketRecord = (function() {\n  function RememberedSocketRecord(socket1, text1) {\n    this.socket = socket1;\n    this.text = text1;\n  }\n\n  RememberedSocketRecord.prototype.clone = function() {\n    return new RememberedSocketRecord(this.socket.clone(), this.text);\n  };\n\n  return RememberedSocketRecord;\n\n})();\n\nEditor.prototype.replace = function(before, after, updates) {\n  var dropletDocument, operation;\n  if (updates == null) {\n    updates = [];\n  }\n  dropletDocument = before.start.getDocument();\n  if (dropletDocument != null) {\n    operation = dropletDocument.replace(before, after, updates.concat(this.getPreserves(dropletDocument)));\n    this.pushUndo({\n      operation: operation,\n      document: this.documentIndex(dropletDocument)\n    });\n    this.correctCursor();\n    return operation;\n  } else {\n    return null;\n  }\n};\n\nEditor.prototype.adjustPosToLineStart = function(pos) {\n  var line;\n  line = this.aceEditor.session.getLine(pos.row);\n  if (pos.row === this.aceEditor.session.getLength() - 1) {\n    pos.column = (pos.column >= line.length / 2) ? line.length : 0;\n  } else {\n    pos.column = 0;\n  }\n  return pos;\n};\n\nEditor.prototype.correctCursor = function() {\n  var cursor;\n  cursor = this.fromCrossDocumentLocation(this.session.cursor);\n  if (!this.validCursorPosition(cursor)) {\n    while (!((cursor == null) || (this.validCursorPosition(cursor) && cursor.type !== 'socketStart'))) {\n      cursor = cursor.next;\n    }\n    if (cursor == null) {\n      cursor = this.fromCrossDocumentLocation(this.session.cursor);\n    }\n    while (!((cursor == null) || (this.validCursorPosition(cursor) && cursor.type !== 'socketStart'))) {\n      cursor = cursor.prev;\n    }\n    return this.session.cursor = this.toCrossDocumentLocation(cursor);\n  }\n};\n\nEditor.prototype.prepareNode = function(node, context) {\n  var classes, leading, ref1, ref2, trailing;\n  if (node instanceof model.Container) {\n    leading = node.getLeadingText();\n    if (node.start.next === node.end.prev) {\n      trailing = null;\n    } else {\n      trailing = node.getTrailingText();\n    }\n    ref2 = this.session.mode.parens(leading, trailing, node.getReader(), (ref1 = context != null ? typeof context.getReader === \"function\" ? context.getReader() : void 0 : void 0) != null ? ref1 : null), leading = ref2[0], trailing = ref2[1], classes = ref2[2];\n    node.setLeadingText(leading);\n    return node.setTrailingText(trailing);\n  }\n};\n\nhook('populate', 0, function() {\n  this.clickedPoint = null;\n  this.clickedBlock = null;\n  this.clickedBlockPaletteEntry = null;\n  this.draggingBlock = null;\n  this.draggingOffset = null;\n  this.lastHighlight = this.lastHighlightPath = null;\n  this.highlightCanvas = this.highlightCtx = document.createElementNS(SVG_STANDARD, 'g');\n  this.wrapperElement.appendChild(this.dragCanvas);\n  return this.mainCanvas.appendChild(this.highlightCanvas);\n});\n\nEditor.prototype.clearHighlightCanvas = function() {\n  var j, len, path, ref1, results;\n  ref1 = [this.textCursorPath];\n  results = [];\n  for (j = 0, len = ref1.length; j < len; j++) {\n    path = ref1[j];\n    results.push(path.deactivate());\n  }\n  return results;\n};\n\nEditor.prototype.clearDrag = function() {\n  return this.clearHighlightCanvas();\n};\n\nEditor.prototype.resizeDragCanvas = function() {\n  this.dragCanvas.style.width = 0 + \"px\";\n  this.dragCanvas.style.height = 0 + \"px\";\n  this.highlightCanvas.style.width = (this.dropletElement.clientWidth - this.gutter.clientWidth) + \"px\";\n  this.highlightCanvas.style.height = this.dropletElement.clientHeight + \"px\";\n  return this.highlightCanvas.style.left = this.mainCanvas.offsetLeft + \"px\";\n};\n\nEditor.prototype.getDocuments = function() {\n  var documents, el, i, j, len, ref1;\n  documents = [this.session.tree];\n  ref1 = this.session.floatingBlocks;\n  for (i = j = 0, len = ref1.length; j < len; i = ++j) {\n    el = ref1[i];\n    documents.push(el.block);\n  }\n  return documents;\n};\n\nEditor.prototype.getDocument = function(n) {\n  if (n === 0) {\n    return this.session.tree;\n  } else {\n    return this.session.floatingBlocks[n - 1].block;\n  }\n};\n\nEditor.prototype.documentIndex = function(block) {\n  return this.getDocuments().indexOf(block.getDocument());\n};\n\nEditor.prototype.fromCrossDocumentLocation = function(location) {\n  return this.getDocument(location.document).getFromLocation(location.location);\n};\n\nEditor.prototype.toCrossDocumentLocation = function(block) {\n  return new CrossDocumentLocation(this.documentIndex(block), block.getLocation());\n};\n\nhook('mousedown', 1, function(point, event, state) {\n  var box, dropletDocument, hitTestResult, i, j, k, len, line, mainPoint, node, record, ref1, ref2;\n  if (state.consumedHitTest) {\n    return;\n  }\n  if (!this.trackerPointIsInMain(point)) {\n    return;\n  }\n  mainPoint = this.trackerPointToMain(point);\n  ref1 = this.getDocuments();\n  for (i = j = ref1.length - 1; j >= 0; i = j += -1) {\n    dropletDocument = ref1[i];\n    if (this.handleTextInputClick(mainPoint, dropletDocument)) {\n      state.consumedHitTest = true;\n      return;\n    } else if (this.session.cursor.document === i && this.cursorAtSocket()) {\n      this.setCursor(this.session.cursor, (function(token) {\n        return token.type !== 'socketStart';\n      }));\n    }\n    hitTestResult = this.hitTest(mainPoint, dropletDocument);\n    if (this.debugging && event.shiftKey) {\n      line = null;\n      node = this.session.view.getViewNodeFor(hitTestResult);\n      ref2 = node.bounds;\n      for (i = k = 0, len = ref2.length; k < len; i = ++k) {\n        box = ref2[i];\n        if (box.contains(mainPoint)) {\n          line = i;\n          break;\n        }\n      }\n      this.dumpNodeForDebug(hitTestResult, line);\n    }\n    if (hitTestResult != null) {\n      this.clickedBlock = hitTestResult;\n      this.clickedBlockPaletteEntry = null;\n      this.setCursor(this.clickedBlock.start.next);\n      this.clickedPoint = point;\n      state.consumedHitTest = true;\n      return;\n    } else if (i > 0) {\n      record = this.session.floatingBlocks[i - 1];\n      if ((record.grayBoxPath != null) && record.grayBoxPath.contains(this.trackerPointToMain(point))) {\n        this.clickedBlock = new model.List(record.block.start.next, record.block.end.prev);\n        this.clickedPoint = point;\n        this.session.view.getViewNodeFor(this.clickedBlock).absorbCache();\n        state.consumedHitTest = true;\n        this.redrawMain();\n        return;\n      }\n    }\n  }\n});\n\nhook('mousedown', 4, function(point, event, state) {\n  var hitTestBlock, hitTestResult, line, mainPoint, str;\n  if (state.consumedHitTest) {\n    return;\n  }\n  if (!this.trackerPointIsInMain(point)) {\n    return;\n  }\n  mainPoint = this.trackerPointToMain(point);\n  if ((this.lassoSelection != null) && (this.hitTest(mainPoint, this.lassoSelection) != null)) {\n    return;\n  }\n  hitTestResult = this.hitTest(mainPoint, this.session.tree);\n  if (hitTestResult != null) {\n    hitTestBlock = this.session.view.getViewNodeFor(hitTestResult);\n    str = hitTestResult.stringifyInPlace();\n    if ((hitTestBlock.addButtonRect != null) && hitTestBlock.addButtonRect.contains(mainPoint)) {\n      line = this.session.mode.handleButton(str, 'add-button', hitTestResult.getReader());\n      if ((line != null ? line.length : void 0) >= 0) {\n        this.populateBlock(hitTestResult, line);\n        this.redrawMain();\n      }\n      return state.consumedHitTest = true;\n    } else if ((hitTestBlock.subtractButtonRect != null) && hitTestBlock.subtractButtonRect.contains(mainPoint)) {\n      line = this.session.mode.handleButton(str, 'subtract-button', hitTestResult.getReader());\n      if ((line != null ? line.length : void 0) >= 0) {\n        this.populateBlock(hitTestResult, line);\n        this.redrawMain();\n      }\n      return state.consumedHitTest = true;\n    }\n  }\n});\n\nhook('mouseup', 0, function(point, event, state) {\n  if (this.clickedBlock != null) {\n    this.clickedBlock = null;\n    return this.clickedPoint = null;\n  }\n});\n\nEditor.prototype.drawDraggingBlock = function() {\n  var draggingBlockView;\n  this.session.dragView.clearCache();\n  draggingBlockView = this.session.dragView.getViewNodeFor(this.draggingBlock);\n  draggingBlockView.layout(1, 1);\n  this.dragCanvas.width = Math.min(draggingBlockView.totalBounds.width + 10, window.screen.width);\n  this.dragCanvas.height = Math.min(draggingBlockView.totalBounds.height + 10, window.screen.height);\n  return draggingBlockView.draw(new this.draw.Rectangle(0, 0, this.dragCanvas.width, this.dragCanvas.height));\n};\n\nEditor.prototype.checkForScrollWhileDragging = function() {\n  var position;\n  if ((this.draggingBlock != null) && (this.session != null)) {\n    setTimeout(((function(_this) {\n      return function() {\n        return _this.checkForScrollWhileDragging();\n      };\n    })(this)), DRAG_SCROLL_INTERVAL);\n    if (this.draggingOffset) {\n      position = new this.draw.Point(this.lastDraggingPoint.x + this.draggingOffset.x, this.lastDraggingPoint.y + this.draggingOffset.y);\n      if (this.trackerPointIsInScrollRegion(position, 'down')) {\n        this.mainScroller.scrollTop = this.mainScroller.scrollTop + DRAG_SCROLL_DISTANCE;\n      } else if (this.trackerPointIsInScrollRegion(position, 'up')) {\n        this.mainScroller.scrollTop = this.mainScroller.scrollTop - DRAG_SCROLL_DISTANCE;\n      } else if (this.trackerPointIsInScrollRegion(position, 'left')) {\n        this.sideScroller.scrollLeft = this.sideScroller.scrollLeft - DRAG_SCROLL_DISTANCE;\n      } else if (this.trackerPointIsInScrollRegion(position, 'right')) {\n        this.sideScroller.scrollLeft = this.sideScroller.scrollLeft + DRAG_SCROLL_DISTANCE;\n      } else {\n        return;\n      }\n      return this.handleDragContinue(this.lastDraggingPoint, this.lastDraggingEvent);\n    }\n  }\n};\n\nEditor.prototype.wouldDelete = function(position) {\n  var mainPoint, palettePoint;\n  mainPoint = this.trackerPointToMain(position);\n  palettePoint = this.trackerPointToPalette(position);\n  return !this.lastHighlight && !this.session.viewports.main.contains(mainPoint);\n};\n\nhook('mousemove', 1, function(point, event, state) {\n  var acceptLevel, allowed, bound, draggingBlockView, dropPoint, dropletDocument, expansion, head, i, j, k, l, len, len1, line, mainPoint, position, record, ref1, ref2, ref3, viewNode;\n  if (this.session == null) {\n    return;\n  }\n  this.lastDraggingPoint = point;\n  this.lastDraggingEvent = event;\n  if (!state.capturedPickup && (this.clickedBlock != null) && point.from(this.clickedPoint).magnitude() > MIN_DRAG_DISTANCE) {\n    this.draggingBlock = this.clickedBlock;\n    this.dragReplacing = false;\n    this.checkForScrollWhileDragging();\n    if (this.clickedBlockPaletteEntry) {\n      this.draggingOffset = this.session.paletteView.getViewNodeFor(this.draggingBlock).bounds[0].upperLeftCorner().from(this.trackerPointToPalette(this.clickedPoint));\n      expansion = this.clickedBlockPaletteEntry.expansion;\n      if ('function' === typeof expansion) {\n        expansion = expansion();\n      }\n      if (expansion) {\n        expansion = parseBlock(this.session.mode, expansion, this.clickedBlockPaletteEntry.context);\n      }\n      this.draggingBlock = (expansion || this.draggingBlock).clone();\n      if ('function' === typeof this.clickedBlockPaletteEntry.expansion) {\n        if (indexOf.call(this.draggingBlock.classes, 'mostly-value') >= 0) {\n          this.draggingBlock.classes.push('any-drop');\n        }\n        this.draggingBlock.lastExpansionText = expansion;\n        this.draggingBlock.expansion = this.clickedBlockPaletteEntry.expansion;\n      }\n    } else {\n      mainPoint = this.trackerPointToMain(this.clickedPoint);\n      viewNode = this.session.view.getViewNodeFor(this.draggingBlock);\n      if (this.draggingBlock instanceof model.List && !(this.draggingBlock instanceof model.Container)) {\n        viewNode.absorbCache();\n      }\n      this.draggingOffset = null;\n      ref1 = viewNode.bounds;\n      for (line = j = 0, len = ref1.length; j < len; line = ++j) {\n        bound = ref1[line];\n        if (bound.contains(mainPoint)) {\n          this.draggingOffset = bound.upperLeftCorner().from(mainPoint);\n          this.draggingOffset.y += viewNode.bounds[0].y - bound.y;\n          break;\n        }\n      }\n      if (this.draggingOffset == null) {\n        this.draggingOffset = viewNode.bounds[0].upperLeftCorner().from(mainPoint);\n      }\n    }\n    this.session.dragView.beginDraw();\n    draggingBlockView = this.session.dragView.getViewNodeFor(this.draggingBlock);\n    draggingBlockView.layout(1, 1);\n    draggingBlockView.root();\n    draggingBlockView.draw();\n    this.session.dragView.garbageCollect();\n    this.dragCanvas.style.width = (Math.min(draggingBlockView.totalBounds.width + 10, window.screen.width)) + \"px\";\n    this.dragCanvas.style.height = (Math.min(draggingBlockView.totalBounds.height + 10, window.screen.height)) + \"px\";\n    position = new this.draw.Point(point.x + this.draggingOffset.x, point.y + this.draggingOffset.y);\n    this.dropPointQuadTree = QUAD.init({\n      x: this.session.viewports.main.x,\n      y: this.session.viewports.main.y,\n      w: this.session.viewports.main.width,\n      h: this.session.viewports.main.height\n    });\n    ref2 = this.getDocuments();\n    for (k = 0, len1 = ref2.length; k < len1; k++) {\n      dropletDocument = ref2[k];\n      head = dropletDocument.start;\n      if (this.draggingBlock.start.prev === head) {\n        head = head.next;\n      }\n      while (head !== dropletDocument.end) {\n        if (head === this.draggingBlock.start) {\n          head = this.draggingBlock.end;\n        }\n        if (head instanceof model.StartToken) {\n          acceptLevel = this.getAcceptLevel(this.draggingBlock, head.container);\n          if (acceptLevel !== helper.FORBID) {\n            dropPoint = this.session.view.getViewNodeFor(head.container).dropPoint;\n            if (dropPoint != null) {\n              allowed = true;\n              ref3 = this.session.floatingBlocks;\n              for (i = l = ref3.length - 1; l >= 0; i = l += -1) {\n                record = ref3[i];\n                if (record.block === dropletDocument) {\n                  break;\n                } else if (record.grayBoxPath.contains(dropPoint)) {\n                  allowed = false;\n                  break;\n                }\n              }\n              if (allowed) {\n                this.dropPointQuadTree.insert({\n                  x: dropPoint.x,\n                  y: dropPoint.y,\n                  w: 0,\n                  h: 0,\n                  acceptLevel: acceptLevel,\n                  _droplet_node: head.container\n                });\n              }\n            }\n          }\n        }\n        head = head.next;\n      }\n    }\n    this.dragCanvas.style.transform = \"translate(\" + (position.x + getOffsetLeft(this.dropletElement)) + \"px,\" + (position.y + getOffsetTop(this.dropletElement)) + \"px)\";\n    this.clickedPoint = this.clickedBlock = null;\n    this.clickedBlockPaletteEntry = null;\n    this.begunTrash = this.wouldDelete(position);\n    return this.redrawMain();\n  }\n});\n\nEditor.prototype.getClosestDroppableBlock = function(mainPoint, isDebugMode) {\n  var best, min, testPoints;\n  best = null;\n  min = 2e308;\n  if (!this.dropPointQuadTree) {\n    return null;\n  }\n  testPoints = this.dropPointQuadTree.retrieve({\n    x: mainPoint.x - MAX_DROP_DISTANCE,\n    y: mainPoint.y - MAX_DROP_DISTANCE,\n    w: MAX_DROP_DISTANCE * 2,\n    h: MAX_DROP_DISTANCE * 2\n  }, (function(_this) {\n    return function(point) {\n      var distance;\n      if (!((point.acceptLevel === helper.DISCOURAGE) && !isDebugMode)) {\n        distance = mainPoint.from(point);\n        distance.y *= 2;\n        distance = distance.magnitude();\n        if (distance < min && mainPoint.from(point).magnitude() < MAX_DROP_DISTANCE && (_this.session.view.getViewNodeFor(point._droplet_node).highlightArea != null)) {\n          best = point._droplet_node;\n          return min = distance;\n        }\n      }\n    };\n  })(this));\n  return best;\n};\n\nEditor.prototype.getClosestDroppableBlockFromPosition = function(position, isDebugMode) {\n  var mainPoint;\n  if (!this.session.currentlyUsingBlocks) {\n    return null;\n  }\n  mainPoint = this.trackerPointToMain(position);\n  return this.getClosestDroppableBlock(mainPoint, isDebugMode);\n};\n\nEditor.prototype.getAcceptLevel = function(drag, drop) {\n  var minimum, next;\n  if (drop.type === 'socket') {\n    if (drag.type === 'list' || indexOf.call(drop.classes, '__comment__') >= 0) {\n      return helper.FORBID;\n    } else {\n      return this.session.mode.drop(drag.getReader(), drop.getReader(), null, null);\n    }\n  } else if (drag.type === 'list') {\n    minimum = helper.ENCOURAGE;\n    drag.traverseOneLevel((function(_this) {\n      return function(child) {\n        if (child instanceof model.Container) {\n          return minimum = Math.min(minimum, _this.getAcceptLevel(child, drop));\n        }\n      };\n    })(this));\n    return minimum;\n  } else if (drop.type === 'block') {\n    if (drop.parent.type === 'socket') {\n      return helper.FORBID;\n    } else {\n      next = drop.nextSibling();\n      return this.session.mode.drop(drag.getReader(), drop.parent.getReader(), drop.getReader(), next != null ? typeof next.getReader === \"function\" ? next.getReader() : void 0 : void 0);\n    }\n  } else {\n    next = drop.firstChild();\n    return this.session.mode.drop(drag.getReader(), drop.getReader(), drop.getReader(), next != null ? typeof next.getReader === \"function\" ? next.getReader() : void 0 : void 0);\n  }\n};\n\nhook('mousemove', 0, function(point, event, state) {\n  return this.handleDragContinue(point, event);\n});\n\nEditor.prototype.handleDragContinue = function(point, event) {\n  var dropBlock, expansionText, head, mainPoint, newBlock, palettePoint, pos, position, rect, ref1, ref2, ref3, ref4;\n  this.lastDraggingPoint = point;\n  this.lastDraggingEvent = event;\n  if (this.draggingBlock != null) {\n    position = new this.draw.Point(point.x + this.draggingOffset.x, point.y + this.draggingOffset.y);\n    if (this.draggingBlock.expansion) {\n      expansionText = this.draggingBlock.expansion(this.getClosestDroppableBlockFromPosition(position, event.shiftKey));\n      if (expansionText !== this.draggingBlock.lastExpansionText) {\n        newBlock = parseBlock(this.session.mode, expansionText);\n        newBlock.lastExpansionText = expansionText;\n        newBlock.expansion = this.draggingBlock.expansion;\n        if (indexOf.call(this.draggingBlock.classes, 'any-drop') >= 0) {\n          newBlock.classes.push('any-drop');\n        }\n        this.draggingBlock = newBlock;\n        this.drawDraggingBlock();\n      }\n    }\n    if (!this.session.currentlyUsingBlocks) {\n      if (this.trackerPointIsInAceScrollRegion(position)) {\n        pos = this.aceEditor.renderer.screenToTextCoordinates(position.x, position.y);\n        if (this.session.dropIntoAceAtLineStart) {\n          pos = this.adjustPosToLineStart(pos);\n        }\n        this.aceEditor.focus();\n        this.aceEditor.session.selection.moveToPosition(pos);\n      } else {\n        this.aceEditor.blur();\n      }\n    }\n    rect = this.wrapperElement.getBoundingClientRect();\n    this.dragCanvas.style.transform = \"translate(\" + (position.x - rect.left) + \"px,\" + (position.y - rect.top) + \"px)\";\n    mainPoint = this.trackerPointToMain(position);\n    head = this.session.tree.start.next;\n    while (((ref1 = head.type) === 'newline' || ref1 === 'cursor') || head.type === 'text' && head.value === '') {\n      head = head.next;\n    }\n    if (head === this.session.tree.end && this.session.floatingBlocks.length === 0 && (this.session.viewports.main.right() > (ref2 = mainPoint.x) && ref2 > this.session.viewports.main.x - this.gutter.clientWidth) && (this.session.viewports.main.bottom() > (ref3 = mainPoint.y) && ref3 > this.session.viewports.main.y) && this.getAcceptLevel(this.draggingBlock, this.session.tree) === helper.ENCOURAGE) {\n      this.session.view.getViewNodeFor(this.session.tree).highlightArea.update();\n      this.lastHighlight = this.session.tree;\n    } else {\n      if (this.hitTest(mainPoint, this.draggingBlock)) {\n        this.dragReplacing = true;\n        dropBlock = null;\n      } else if (!this.trackerPointIsInMainScroller(position)) {\n        this.dragReplacing = false;\n        dropBlock = null;\n      } else {\n        this.dragReplacing = false;\n        dropBlock = this.getClosestDroppableBlock(mainPoint, event.shiftKey);\n      }\n      if (dropBlock !== this.lastHighlight) {\n        this.redrawHighlights();\n        if ((ref4 = this.lastHighlightPath) != null) {\n          if (typeof ref4.deactivate === \"function\") {\n            ref4.deactivate();\n          }\n        }\n        if (dropBlock != null) {\n          this.lastHighlightPath = this.session.view.getViewNodeFor(dropBlock).highlightArea;\n          this.lastHighlightPath.update();\n          this.qualifiedFocus(dropBlock, this.lastHighlightPath);\n        }\n        this.lastHighlight = dropBlock;\n      }\n    }\n    palettePoint = this.trackerPointToPalette(position);\n    if (this.wouldDelete(position)) {\n      if (this.begunTrash) {\n        return this.dragCanvas.style.opacity = 0.85;\n      } else {\n        return this.dragCanvas.style.opacity = 0.3;\n      }\n    } else {\n      this.dragCanvas.style.opacity = 0.85;\n      return this.begunTrash = false;\n    }\n  }\n};\n\nEditor.prototype.qualifiedFocus = function(node, path) {\n  var documentIndex;\n  documentIndex = this.documentIndex(node);\n  if (documentIndex < this.session.floatingBlocks.length) {\n    path.activate();\n    return this.mainCanvas.insertBefore(path.element, this.session.floatingBlocks[documentIndex].renderGroup.element);\n  } else {\n    path.activate();\n    return this.mainCanvas.appendChild(path.element);\n  }\n};\n\nhook('mouseup', 1, function(point, event, state) {\n  var el, firstChar, firstNonWhitespaceRegex, futureCursorLocation, hadTextToken, hasTextToken, i, indentation, j, leadingWhitespaceRegex, len, line, newBeginning, newIndex, nextLine, pos, position, prefix, prevLine, rememberedSocketOffsets, skipInitialIndent, suffix, text;\n  if (this.dragReplacing) {\n    this.endDrag();\n  }\n  if (this.draggingBlock != null) {\n    if (!this.session.currentlyUsingBlocks) {\n      position = new this.draw.Point(point.x + this.draggingOffset.x, point.y + this.draggingOffset.y);\n      if (this.trackerPointIsInAceScrollRegion(position)) {\n        leadingWhitespaceRegex = /^(\\s*)/;\n        pos = this.aceEditor.renderer.screenToTextCoordinates(position.x, position.y);\n        line = this.aceEditor.session.getLine(pos.row);\n        indentation = leadingWhitespaceRegex.exec(line)[0];\n        skipInitialIndent = true;\n        prefix = '';\n        suffix = '';\n        if (this.session.dropIntoAceAtLineStart) {\n          firstNonWhitespaceRegex = /\\S/;\n          firstChar = firstNonWhitespaceRegex.exec(line);\n          if (firstChar && firstChar[0] === '}') {\n            prevLine = this.aceEditor.session.getLine(pos.row - 1);\n            indentation = leadingWhitespaceRegex.exec(prevLine)[0];\n          }\n          pos = this.adjustPosToLineStart(pos);\n          skipInitialIndent = false;\n          if (pos.column === 0) {\n            suffix = '\\n';\n          } else {\n            prefix = '\\n';\n          }\n        } else if (indentation.length === line.length || indentation.length === pos.column) {\n          suffix = '\\n' + indentation;\n        } else if (pos.column === line.length) {\n          prefix = '\\n';\n          skipInitialIndent = false;\n          nextLine = this.aceEditor.session.getLine(pos.row + 1);\n          indentation = leadingWhitespaceRegex.exec(nextLine)[0];\n        }\n        this.prepareNode(this.draggingBlock, null);\n        text = this.draggingBlock.stringify(this.session.mode);\n        text = text.split('\\n').map((function(_this) {\n          return function(line, index) {\n            return (index === 0 && skipInitialIndent ? '' : indentation) + line;\n          };\n        })(this)).join('\\n');\n        text = prefix + text + suffix;\n        return this.aceEditor.onTextInput(text);\n      }\n    } else if (this.lastHighlight != null) {\n      this.undoCapture();\n      rememberedSocketOffsets = this.spliceRememberedSocketOffsets(this.draggingBlock);\n      hadTextToken = this.draggingBlock.start.next.type === 'text';\n      this.spliceOut(this.draggingBlock);\n      this.draggingBlock.expansion = null;\n      this.draggingBlock.lastExpansionText = null;\n      this.clearHighlightCanvas();\n      this.fireEvent('sound', [this.lastHighlight.type]);\n      switch (this.lastHighlight.type) {\n        case 'indent':\n        case 'socket':\n          this.spliceIn(this.draggingBlock, this.lastHighlight.start);\n          break;\n        case 'block':\n          this.spliceIn(this.draggingBlock, this.lastHighlight.end);\n          break;\n        default:\n          if (this.lastHighlight.type === 'document') {\n            this.spliceIn(this.draggingBlock, this.lastHighlight.start);\n          }\n      }\n      hasTextToken = this.draggingBlock.start.next.type === 'text';\n      if (hadTextToken && !hasTextToken) {\n        rememberedSocketOffsets.forEach(function(x) {\n          return x.offset -= 1;\n        });\n      } else if (hasTextToken && !hadTextToken) {\n        rememberedSocketOffsets.forEach(function(x) {\n          return x.offset += 1;\n        });\n      }\n      futureCursorLocation = this.toCrossDocumentLocation(this.draggingBlock.start);\n      if (this.lastHighlight.type === 'socket') {\n        this.reparse(this.draggingBlock.parent.parent);\n      }\n      this.endDrag();\n      if (futureCursorLocation != null) {\n        this.setCursor(futureCursorLocation);\n      }\n      newBeginning = futureCursorLocation.location.count;\n      newIndex = futureCursorLocation.document;\n      for (i = j = 0, len = rememberedSocketOffsets.length; j < len; i = ++j) {\n        el = rememberedSocketOffsets[i];\n        this.session.rememberedSockets.push(new RememberedSocketRecord(new CrossDocumentLocation(newIndex, new model.Location(el.offset + newBeginning, 'socket')), el.text));\n      }\n      return this.fireEvent('block-click');\n    }\n  }\n});\n\nEditor.prototype.spliceRememberedSocketOffsets = function(block) {\n  var blockBegin, el, i, j, len, newRememberedSockets, offsets, ref1;\n  if (block.getDocument() != null) {\n    blockBegin = block.start.getLocation().count;\n    offsets = [];\n    newRememberedSockets = [];\n    ref1 = this.session.rememberedSockets;\n    for (i = j = 0, len = ref1.length; j < len; i = ++j) {\n      el = ref1[i];\n      if (block.contains(this.fromCrossDocumentLocation(el.socket))) {\n        offsets.push({\n          offset: el.socket.location.count - blockBegin,\n          text: el.text\n        });\n      } else {\n        newRememberedSockets.push(el);\n      }\n    }\n    this.session.rememberedSockets = newRememberedSockets;\n    return offsets;\n  } else {\n    return [];\n  }\n};\n\nFloatingBlockRecord = (function() {\n  function FloatingBlockRecord(block1, position1) {\n    this.block = block1;\n    this.position = position1;\n  }\n\n  return FloatingBlockRecord;\n\n})();\n\nEditor.prototype.inTree = function(block) {\n  var ref1;\n  return ((ref1 = block.container) != null ? ref1 : block).getDocument() === this.session.tree;\n};\n\nEditor.prototype.inDisplay = function(block) {\n  var ref1, ref2;\n  return ref1 = ((ref2 = block.container) != null ? ref2 : block).getDocument(), indexOf.call(this.getDocuments(), ref1) >= 0;\n};\n\nhook('mouseup', 0, function(point, event, state) {\n  var addBlockAsFloatingBlock, el, i, j, len, newDocument, oldParent, palettePoint, record, ref1, ref2, ref3, ref4, rememberedSocketOffsets, removeBlock, renderPoint, trackPoint;\n  if ((this.draggingBlock != null) && (this.lastHighlight == null) && !this.dragReplacing) {\n    oldParent = this.draggingBlock.parent;\n    trackPoint = new this.draw.Point(point.x + this.draggingOffset.x, point.y + this.draggingOffset.y);\n    renderPoint = this.trackerPointToMain(trackPoint);\n    palettePoint = this.trackerPointToPalette(trackPoint);\n    removeBlock = true;\n    addBlockAsFloatingBlock = true;\n    if (!((this.session.viewports.main.right() > (ref1 = renderPoint.x) && ref1 > this.session.viewports.main.x - this.gutter.clientWidth) && (this.session.viewports.main.bottom() > (ref2 = renderPoint.y) && ref2 > this.session.viewports.main.y))) {\n      if (this.draggingBlock === this.lassoSelection) {\n        this.lassoSelection = null;\n      }\n      addBlockAsFloatingBlock = false;\n    } else {\n      if (renderPoint.x - this.session.viewports.main.x < 0) {\n        renderPoint.x = this.session.viewports.main.x;\n      }\n      if (!this.session.allowFloatingBlocks) {\n        addBlockAsFloatingBlock = false;\n        removeBlock = false;\n      }\n    }\n    if (removeBlock) {\n      this.undoCapture();\n      rememberedSocketOffsets = this.spliceRememberedSocketOffsets(this.draggingBlock);\n      this.spliceOut(this.draggingBlock);\n    }\n    if (!addBlockAsFloatingBlock) {\n      this.endDrag();\n      return;\n    } else if (renderPoint.x - this.session.viewports.main.x < 0) {\n      renderPoint.x = this.session.viewports.main.x;\n    }\n    newDocument = new model.Document((ref3 = oldParent != null ? oldParent.parseContext : void 0) != null ? ref3 : this.session.mode.rootContext, {\n      roundedSingletons: true\n    });\n    newDocument.insert(newDocument.start, this.draggingBlock);\n    this.pushUndo(new FloatingOperation(this.session.floatingBlocks.length, newDocument, renderPoint, 'create'));\n    this.session.floatingBlocks.push(record = new FloatingBlockRecord(newDocument, renderPoint));\n    this.initializeFloatingBlock(record, this.session.floatingBlocks.length - 1);\n    this.setCursor(this.draggingBlock.start);\n    for (i = j = 0, len = rememberedSocketOffsets.length; j < len; i = ++j) {\n      el = rememberedSocketOffsets[i];\n      this.session.rememberedSockets.push(new RememberedSocketRecord(new CrossDocumentLocation(this.session.floatingBlocks.length, new model.Location(el.offset + 1, 'socket')), el.text));\n    }\n    this.clearDrag();\n    this.draggingBlock = null;\n    this.draggingOffset = null;\n    if ((ref4 = this.lastHighlightPath) != null) {\n      if (typeof ref4.destroy === \"function\") {\n        ref4.destroy();\n      }\n    }\n    this.lastHighlight = this.lastHighlightPath = null;\n    return this.redrawMain();\n  }\n});\n\nEditor.prototype.performFloatingOperation = function(op, direction) {\n  var j, k, len, len1, record, ref1, ref2, socket;\n  if ((op.type === 'create') === (direction === 'forward')) {\n    if (this.session.cursor.document > op.index) {\n      this.session.cursor.document += 1;\n    }\n    ref1 = this.session.rememberedSockets;\n    for (j = 0, len = ref1.length; j < len; j++) {\n      socket = ref1[j];\n      if (socket.socket.document > op.index) {\n        socket.socket.document += 1;\n      }\n    }\n    this.session.floatingBlocks.splice(op.index, 0, record = new FloatingBlockRecord(op.block.clone(), op.position));\n    return this.initializeFloatingBlock(record, op.index);\n  } else {\n    if (this.session.cursor.document === op.index + 1) {\n      this.setCursor(this.session.tree.start);\n    }\n    ref2 = this.session.rememberedSockets;\n    for (k = 0, len1 = ref2.length; k < len1; k++) {\n      socket = ref2[k];\n      if (socket.socket.document > op.index + 1) {\n        socket.socket.document -= 1;\n      }\n    }\n    return this.session.floatingBlocks.splice(op.index, 1);\n  }\n};\n\nFloatingOperation = (function() {\n  function FloatingOperation(index1, block1, position1, type) {\n    this.index = index1;\n    this.block = block1;\n    this.position = position1;\n    this.type = type;\n    this.block = this.block.clone();\n  }\n\n  FloatingOperation.prototype.toString = function() {\n    return JSON.stringify({\n      index: this.index,\n      block: this.block.stringify(),\n      position: this.position.toString(),\n      type: this.type\n    });\n  };\n\n  return FloatingOperation;\n\n})();\n\nhook('populate', 0, function() {\n  this.paletteHeader = document.createElement('div');\n  this.paletteHeader.className = 'droplet-palette-header';\n  this.paletteElement.appendChild(this.paletteHeader);\n  if (this.session != null) {\n    return this.setPalette(this.session.paletteGroups);\n  }\n});\n\nparseBlock = (function(_this) {\n  return function(mode, code, context) {\n    var block;\n    if (context == null) {\n      context = null;\n    }\n    block = mode.parse(code, {\n      context: context\n    }).start.next.container;\n    block.start.prev = block.end.next = null;\n    block.setParent(null);\n    return block;\n  };\n})(this);\n\nEditor.prototype.setPalette = function(paletteGroups) {\n  var fn1, i, j, len, paletteGroup, paletteHeaderRow, ref1;\n  this.paletteHeader.innerHTML = '';\n  this.session.paletteGroups = paletteGroups;\n  this.session.currentPaletteBlocks = [];\n  this.session.currentPaletteMetadata = [];\n  paletteHeaderRow = null;\n  ref1 = this.session.paletteGroups;\n  fn1 = (function(_this) {\n    return function(paletteGroup, i) {\n      var clickHandler, data, expansion, k, len1, newBlock, newPaletteBlocks, paletteGroupHeader, ref2, updatePalette;\n      if (i % 2 === 0) {\n        paletteHeaderRow = document.createElement('div');\n        paletteHeaderRow.className = 'droplet-palette-header-row';\n        _this.paletteHeader.appendChild(paletteHeaderRow);\n        if (_this.session.paletteGroups.length === 1 && !paletteGroup.name) {\n          paletteHeaderRow.style.height = 0;\n        }\n      }\n      paletteGroupHeader = paletteGroup.header = document.createElement('div');\n      paletteGroupHeader.className = 'droplet-palette-group-header';\n      if (paletteGroup.id) {\n        paletteGroupHeader.id = 'droplet-palette-group-header-' + paletteGroup.id;\n      }\n      paletteGroupHeader.innerText = paletteGroupHeader.textContent = paletteGroupHeader.textContent = paletteGroup.name;\n      if (paletteGroup.color) {\n        paletteGroupHeader.className += ' ' + paletteGroup.color;\n      }\n      paletteHeaderRow.appendChild(paletteGroupHeader);\n      newPaletteBlocks = [];\n      ref2 = paletteGroup.blocks;\n      for (k = 0, len1 = ref2.length; k < len1; k++) {\n        data = ref2[k];\n        newBlock = parseBlock(_this.session.mode, data.block, data.context);\n        expansion = data.expansion || null;\n        newPaletteBlocks.push({\n          block: newBlock,\n          expansion: expansion,\n          context: data.context,\n          title: data.title,\n          id: data.id\n        });\n      }\n      paletteGroup.parsedBlocks = newPaletteBlocks;\n      updatePalette = function() {\n        return _this.changePaletteGroup(paletteGroup);\n      };\n      clickHandler = function() {\n        return updatePalette();\n      };\n      paletteGroupHeader.addEventListener('click', clickHandler);\n      paletteGroupHeader.addEventListener('touchstart', clickHandler);\n      if (i === 0) {\n        return updatePalette();\n      }\n    };\n  })(this);\n  for (i = j = 0, len = ref1.length; j < len; i = ++j) {\n    paletteGroup = ref1[i];\n    fn1(paletteGroup, i);\n  }\n  this.resizePalette();\n  return this.resizePaletteHighlight();\n};\n\nEditor.prototype.changePaletteGroup = function(group) {\n  var curGroup, i, j, len, paletteGroup, ref1, ref2;\n  ref1 = this.session.paletteGroups;\n  for (i = j = 0, len = ref1.length; j < len; i = ++j) {\n    curGroup = ref1[i];\n    if (group === curGroup || group === curGroup.id || group === curGroup.name) {\n      paletteGroup = curGroup;\n      break;\n    }\n  }\n  if (!paletteGroup) {\n    return;\n  }\n  this.session.currentPaletteGroup = paletteGroup.name;\n  this.session.currentPaletteBlocks = paletteGroup.parsedBlocks;\n  this.session.currentPaletteMetadata = paletteGroup.parsedBlocks;\n  if ((ref2 = this.session.currentPaletteGroupHeader) != null) {\n    ref2.className = this.session.currentPaletteGroupHeader.className.replace(/\\s[-\\w]*-selected\\b/, '');\n  }\n  this.session.currentPaletteGroupHeader = paletteGroup.header;\n  this.currentPaletteIndex = i;\n  this.session.currentPaletteGroupHeader.className += ' droplet-palette-group-header-selected';\n  this.rebuildPalette();\n  return this.fireEvent('selectpalette', [paletteGroup.name]);\n};\n\nhook('mousedown', 6, function(point, event, state) {\n  var entry, hitTestResult, j, len, palettePoint, ref1;\n  if (state.consumedHitTest) {\n    return;\n  }\n  if (!this.trackerPointIsInPalette(point)) {\n    return;\n  }\n  palettePoint = this.trackerPointToPalette(point);\n  if (this.session.viewports.palette.contains(palettePoint)) {\n    if (this.handleTextInputClickInPalette(palettePoint)) {\n      state.consumedHitTest = true;\n      return;\n    }\n    ref1 = this.session.currentPaletteBlocks;\n    for (j = 0, len = ref1.length; j < len; j++) {\n      entry = ref1[j];\n      hitTestResult = this.hitTest(palettePoint, entry.block, this.session.paletteView);\n      if (hitTestResult != null) {\n        this.clickedBlock = entry.block;\n        this.clickedPoint = point;\n        this.clickedBlockPaletteEntry = entry;\n        state.consumedHitTest = true;\n        this.fireEvent('pickblock', [entry.id]);\n        return;\n      }\n    }\n  }\n  return this.clickedBlockPaletteEntry = null;\n});\n\nhook('populate', 1, function() {\n  this.paletteHighlightCanvas = this.paletteHighlightCtx = document.createElementNS(SVG_STANDARD, 'svg');\n  this.paletteHighlightCanvas.setAttribute('class', 'droplet-palette-highlight-canvas');\n  this.paletteHighlightPath = null;\n  this.currentHighlightedPaletteBlock = null;\n  return this.paletteElement.appendChild(this.paletteHighlightCanvas);\n});\n\nEditor.prototype.resizePaletteHighlight = function() {\n  this.paletteHighlightCanvas.style.top = this.paletteHeader.clientHeight + 'px';\n  this.paletteHighlightCanvas.style.width = this.paletteScroller.clientWidth + \"px\";\n  return this.paletteHighlightCanvas.style.height = this.paletteScroller.clientHeight + \"px\";\n};\n\nhook('redraw_palette', 0, function() {\n  this.clearPaletteHighlightCanvas();\n  if (this.currentHighlightedPaletteBlock != null) {\n    return this.paletteHighlightPath.update();\n  }\n});\n\nhook('populate', 1, function() {\n  var event, j, len, ref1, results;\n  this.hiddenInput = document.createElement('textarea');\n  this.hiddenInput.className = 'droplet-hidden-input';\n  this.hiddenInput.addEventListener('focus', (function(_this) {\n    return function() {\n      var bounds;\n      if (_this.cursorAtSocket()) {\n        return bounds = _this.session.view.getViewNodeFor(_this.getCursor()).bounds[0];\n\n        /*\n        inputLeft = bounds.x + @mainCanvas.offsetLeft - @session.viewports.main.x\n        inputLeft = Math.min inputLeft, @dropletElement.clientWidth - 10\n        inputLeft = Math.max @mainCanvas.offsetLeft, inputLeft\n        @hiddenInput.style.left = inputLeft + 'px'\n        inputTop = bounds.y - @session.viewports.main.y\n        inputTop = Math.min inputTop, @dropletElement.clientHeight - 10\n        inputTop = Math.max 0, inputTop\n        @hiddenInput.style.top = inputTop + 'px'\n         */\n      }\n    };\n  })(this));\n  this.dropletElement.appendChild(this.hiddenInput);\n  this.textInputAnchor = null;\n  this.textInputSelecting = false;\n  this.oldFocusValue = null;\n  this.hiddenInput.addEventListener('keydown', (function(_this) {\n    return function(event) {\n      var ref1;\n      if (event.keyCode === 8 && _this.hiddenInput.value.length > 1 && _this.hiddenInput.value[0] === _this.hiddenInput.value[_this.hiddenInput.value.length - 1] && ((ref1 = _this.hiddenInput.value[0]) === '\\'' || ref1 === '\\\"') && _this.hiddenInput.selectionEnd === 1) {\n        return event.preventDefault();\n      }\n    };\n  })(this));\n  ref1 = ['input', 'keyup', 'keydown', 'select'];\n  results = [];\n  for (j = 0, len = ref1.length; j < len; j++) {\n    event = ref1[j];\n    results.push(this.hiddenInput.addEventListener(event, (function(_this) {\n      return function() {\n        _this.highlightFlashShow();\n        if (_this.cursorAtSocket()) {\n          _this.redrawTextInput();\n          if (_this.dropdownVisible) {\n            return _this.formatDropdown();\n          }\n        }\n      };\n    })(this)));\n  }\n  return results;\n});\n\nEditor.prototype.resizeAceElement = function() {\n  var left, ref1, ref2, width;\n  width = this.wrapperElement.clientWidth;\n  left = 0;\n  if (((ref1 = this.session) != null ? ref1.showPaletteInTextMode : void 0) && ((ref2 = this.session) != null ? ref2.paletteEnabled : void 0)) {\n    width -= this.paletteWrapper.clientWidth;\n    left = this.paletteWrapper.clientWidth;\n  }\n  this.aceElement.style.width = width + \"px\";\n  this.aceElement.style.left = left + \"px\";\n  return this.aceElement.style.height = this.wrapperElement.clientHeight + \"px\";\n};\n\nlast_ = function(array) {\n  return array[array.length - 1];\n};\n\nEditor.prototype.redrawTextInput = function() {\n  var dropletDocument, endRow, head, line, newp, oldp, sameLength, startRow, textFocusView, treeView;\n  if (this.session == null) {\n    return;\n  }\n  sameLength = this.getCursor().stringify().split('\\n').length === this.hiddenInput.value.split('\\n').length;\n  dropletDocument = this.getCursor().getDocument();\n  this.populateSocket(this.getCursor(), this.hiddenInput.value);\n  textFocusView = this.session.view.getViewNodeFor(this.getCursor());\n  startRow = this.getCursor().stringify().slice(0, this.hiddenInput.selectionStart).split('\\n').length - 1;\n  endRow = this.getCursor().stringify().slice(0, this.hiddenInput.selectionEnd).split('\\n').length - 1;\n  if (sameLength && startRow === endRow) {\n    line = endRow;\n    head = this.getCursor().start;\n    while (head !== dropletDocument.start) {\n      head = head.prev;\n      if (head.type === 'newline') {\n        line++;\n      }\n    }\n    treeView = this.session.view.getViewNodeFor(dropletDocument);\n    oldp = helper.deepCopy([treeView.glue[line - 1], treeView.glue[line], treeView.bounds[line].height]);\n    treeView.layout();\n    newp = helper.deepCopy([treeView.glue[line - 1], treeView.glue[line], treeView.bounds[line].height]);\n    return this.redrawMain();\n\n    /*\n    if helper.deepEquals newp, oldp\n      rect = new @draw.NoRectangle()\n    \n      rect.unite treeView.bounds[line - 1] if line > 0\n      rect.unite treeView.bounds[line]\n      rect.unite treeView.bounds[line + 1] if line + 1 < treeView.bounds.length\n    \n      rect.width = Math.max rect.width, @mainCanvas.clientWidth\n    \n      @redrawMain\n        boundingRectangle: rect\n    \n    else @redrawMain()\n     */\n  } else {\n    return this.redrawMain();\n  }\n};\n\nEditor.prototype.redrawTextHighlights = function(scrollIntoView) {\n  var el, endPosition, endRow, i, j, k, left, len, lines, points, rectangles, ref1, ref2, right, startPosition, startRow, textFocusView;\n  if (scrollIntoView == null) {\n    scrollIntoView = false;\n  }\n  this.clearHighlightCanvas();\n  if (this.session == null) {\n    return;\n  }\n  if (!this.cursorAtSocket()) {\n    return;\n  }\n  textFocusView = this.session.view.getViewNodeFor(this.getCursor());\n  startRow = this.getCursor().stringify().slice(0, this.hiddenInput.selectionStart).split('\\n').length - 1;\n  endRow = this.getCursor().stringify().slice(0, this.hiddenInput.selectionEnd).split('\\n').length - 1;\n  lines = this.getCursor().stringify().split('\\n');\n  startPosition = textFocusView.bounds[startRow].x + this.session.view.opts.textPadding + this.session.fontWidth * last_(this.getCursor().stringify().slice(0, this.hiddenInput.selectionStart).split('\\n')).length + (this.getCursor().hasDropdown() ? helper.DROPDOWN_ARROW_WIDTH : 0);\n  endPosition = textFocusView.bounds[endRow].x + this.session.view.opts.textPadding + this.session.fontWidth * last_(this.getCursor().stringify().slice(0, this.hiddenInput.selectionEnd).split('\\n')).length + (this.getCursor().hasDropdown() ? helper.DROPDOWN_ARROW_WIDTH : 0);\n  if (this.hiddenInput.selectionStart === this.hiddenInput.selectionEnd) {\n    this.qualifiedFocus(this.getCursor(), this.textCursorPath);\n    points = [new this.session.view.draw.Point(startPosition, textFocusView.bounds[startRow].y + this.session.view.opts.textPadding), new this.session.view.draw.Point(startPosition, textFocusView.bounds[startRow].y + this.session.view.opts.textPadding + this.session.view.opts.textHeight)];\n    this.textCursorPath.setPoints(points);\n    this.textCursorPath.style.strokeColor = '#000';\n    this.textCursorPath.update();\n    this.qualifiedFocus(this.getCursor(), this.textCursorPath);\n    this.textInputHighlighted = false;\n  } else {\n    this.textInputHighlighted = true;\n    rectangles = [];\n    if (startRow === endRow) {\n      rectangles.push(new this.session.view.draw.Rectangle(startPosition, textFocusView.bounds[startRow].y + this.session.view.opts.textPadding, endPosition - startPosition, this.session.view.opts.textHeight));\n    } else {\n      rectangles.push(new this.session.view.draw.Rectangle(startPosition, textFocusView.bounds[startRow].y + this.session.view.opts.textPadding, textFocusView.bounds[startRow].right() - this.session.view.opts.textPadding - startPosition, this.session.view.opts.textHeight));\n      for (i = j = ref1 = startRow + 1, ref2 = endRow; ref1 <= ref2 ? j < ref2 : j > ref2; i = ref1 <= ref2 ? ++j : --j) {\n        rectangles.push(new this.session.view.draw.Rectangle(textFocusView.bounds[i].x, textFocusView.bounds[i].y + this.session.view.opts.textPadding, textFocusView.bounds[i].width, this.session.view.opts.textHeight));\n      }\n      rectangles.push(new this.session.view.draw.Rectangle(textFocusView.bounds[endRow].x, textFocusView.bounds[endRow].y + this.session.view.opts.textPadding, endPosition - textFocusView.bounds[endRow].x, this.session.view.opts.textHeight));\n    }\n    left = [];\n    right = [];\n    for (i = k = 0, len = rectangles.length; k < len; i = ++k) {\n      el = rectangles[i];\n      left.push(new this.session.view.draw.Point(el.x, el.y));\n      left.push(new this.session.view.draw.Point(el.x, el.bottom()));\n      right.push(new this.session.view.draw.Point(el.right(), el.y));\n      right.push(new this.session.view.draw.Point(el.right(), el.bottom()));\n    }\n    this.textCursorPath.setPoints(left.concat(right.reverse()));\n    this.textCursorPath.style.strokeColor = 'none';\n    this.textCursorPath.update();\n    this.qualifiedFocus(this.getCursor(), this.textCursorPath);\n  }\n  if (scrollIntoView && endPosition > this.session.viewports.main.x + this.mainCanvas.clientWidth) {\n    return this.mainScroller.scrollLeft = endPosition - this.mainCanvas.clientWidth + this.session.view.opts.padding;\n  }\n};\n\nescapeString = function(str) {\n  return str[0] + str.slice(1, -1).replace(/(\\'|\\\"|\\n)/g, '\\\\$1') + str[str.length - 1];\n};\n\nhook('mousedown', 7, function() {\n  return this.hideDropdown();\n});\n\nEditor.prototype.reparse = function(list, recovery, updates, originalTrigger) {\n  var context, e, newList, originalText, originalUpdates, parent, ref1, ref2;\n  if (updates == null) {\n    updates = [];\n  }\n  if (originalTrigger == null) {\n    originalTrigger = list;\n  }\n  if (list.start.type === 'socketStart') {\n    if (list.start.next === list.end) {\n      return;\n    }\n    originalText = list.textContent();\n    originalUpdates = updates.map(function(location) {\n      return {\n        count: location.count,\n        type: location.type\n      };\n    });\n    if (this.session.mode.stringFixer != null) {\n      this.populateSocket(list, this.session.mode.stringFixer(list.textContent()));\n    }\n    if (!this.reparse(list.parent, recovery, updates, originalTrigger)) {\n      this.populateSocket(list, originalText);\n      originalUpdates.forEach(function(location, i) {\n        updates[i].count = location.count;\n        return updates[i].type = location.type;\n      });\n      this.reparse(list.parent, recovery, updates, originalTrigger);\n    }\n    return;\n  }\n  parent = list.start.parent;\n  if ((parent != null ? parent.type : void 0) === 'indent' && (((ref1 = list.start.container) != null ? ref1.parseContext : void 0) == null)) {\n    context = parent.parseContext;\n  } else {\n    context = ((ref2 = list.start.container) != null ? ref2 : list.start.parent).parseContext;\n  }\n  try {\n    newList = this.session.mode.parse(list.stringifyInPlace(), {\n      wrapAtRoot: (parent != null ? parent.type : void 0) !== 'socket',\n      context: context\n    });\n  } catch (error) {\n    e = error;\n    try {\n      newList = this.session.mode.parse(recovery(list.stringifyInPlace()), {\n        wrapAtRoot: (parent != null ? parent.type : void 0) !== 'socket',\n        context: context\n      });\n    } catch (error) {\n      e = error;\n      while ((parent != null) && parent.type === 'socket') {\n        parent = parent.parent;\n      }\n      if (parent != null) {\n        return this.reparse(parent, recovery, updates, originalTrigger);\n      } else {\n        this.session.view.getViewNodeFor(originalTrigger).mark({\n          color: '#F00'\n        });\n        return false;\n      }\n    }\n  }\n  if (newList.start.next === newList.end) {\n    return;\n  }\n  newList = new model.List(newList.start.next, newList.end.prev);\n  newList.traverseOneLevel((function(_this) {\n    return function(head) {\n      return _this.prepareNode(head, parent);\n    };\n  })(this));\n  this.replace(list, newList, updates);\n  this.redrawMain();\n  return true;\n};\n\nEditor.prototype.setTextSelectionRange = function(selectionStart, selectionEnd) {\n  var ref1;\n  if ((selectionStart != null) && (selectionEnd == null)) {\n    selectionEnd = selectionStart;\n  }\n  if (this.cursorAtSocket()) {\n    this.hiddenInput.focus();\n    if ((selectionStart != null) && (selectionEnd != null)) {\n      this.hiddenInput.setSelectionRange(selectionStart, selectionEnd);\n    } else if (this.hiddenInput.value[0] === this.hiddenInput.value[this.hiddenInput.value.length - 1] && ((ref1 = this.hiddenInput.value[0]) === '\\'' || ref1 === '\"')) {\n      this.hiddenInput.setSelectionRange(1, this.hiddenInput.value.length - 1);\n    } else {\n      this.hiddenInput.setSelectionRange(0, this.hiddenInput.value.length);\n    }\n    this.redrawTextInput();\n  }\n  this.redrawMain();\n  return this.redrawTextInput();\n};\n\nEditor.prototype.cursorAtSocket = function() {\n  return this.getCursor().type === 'socket';\n};\n\nEditor.prototype.populateSocket = function(socket, string) {\n  var first, i, j, last, len, line, lines;\n  if (socket.textContent() !== string) {\n    lines = string.split('\\n');\n    if (socket.start.next !== socket.end) {\n      this.spliceOut(new model.List(socket.start.next, socket.end.prev));\n    }\n    first = last = new model.TextToken(lines[0]);\n    for (i = j = 0, len = lines.length; j < len; i = ++j) {\n      line = lines[i];\n      if (!(i > 0)) {\n        continue;\n      }\n      last = helper.connect(last, new model.NewlineToken());\n      last = helper.connect(last, new model.TextToken(line));\n    }\n    return this.spliceIn(new model.List(first, last), socket.start);\n  }\n};\n\nEditor.prototype.populateBlock = function(block, string) {\n  var newBlock, position, ref1;\n  newBlock = this.session.mode.parse(string, {\n    wrapAtRoot: false\n  }).start.next.container;\n  if (newBlock) {\n    position = block.start.prev;\n    while ((position != null ? position.type : void 0) === 'newline' && !(((ref1 = position.prev) != null ? ref1.type : void 0) === 'indentStart' && position.prev.container.end === block.end.next)) {\n      position = position.prev;\n    }\n    this.spliceOut(block);\n    this.spliceIn(newBlock, position);\n    return true;\n  }\n  return false;\n};\n\nEditor.prototype.hitTestTextInput = function(point, block) {\n  var head;\n  head = block.start;\n  while (head != null) {\n    if (head.type === 'socketStart' && head.container.isDroppable() && this.session.view.getViewNodeFor(head.container).path.contains(point)) {\n      return head.container;\n    }\n    head = head.next;\n  }\n  return null;\n};\n\nEditor.prototype.getTextPosition = function(point) {\n  var column, lines, row, textFocusView;\n  textFocusView = this.session.view.getViewNodeFor(this.getCursor());\n  row = Math.floor((point.y - textFocusView.bounds[0].y) / (this.session.fontSize + 2 * this.session.view.opts.padding));\n  row = Math.max(row, 0);\n  row = Math.min(row, textFocusView.lineLength - 1);\n  column = Math.max(0, Math.round((point.x - textFocusView.bounds[row].x - this.session.view.opts.textPadding - (this.getCursor().hasDropdown() ? helper.DROPDOWN_ARROW_WIDTH : 0)) / this.session.fontWidth));\n  lines = this.getCursor().stringify().split('\\n').slice(0, +row + 1 || 9e9);\n  lines[lines.length - 1] = lines[lines.length - 1].slice(0, column);\n  return lines.join('\\n').length;\n};\n\nEditor.prototype.setTextInputAnchor = function(point) {\n  this.textInputAnchor = this.textInputHead = this.getTextPosition(point);\n  return this.hiddenInput.setSelectionRange(this.textInputAnchor, this.textInputHead);\n};\n\nEditor.prototype.selectDoubleClick = function(point) {\n  var after, before, position, ref1, ref2, ref3, ref4;\n  position = this.getTextPosition(point);\n  before = (ref1 = (ref2 = this.getCursor().stringify().slice(0, position).match(/\\w*$/)[0]) != null ? ref2.length : void 0) != null ? ref1 : 0;\n  after = (ref3 = (ref4 = this.getCursor().stringify().slice(position).match(/^\\w*/)[0]) != null ? ref4.length : void 0) != null ? ref3 : 0;\n  this.textInputAnchor = position - before;\n  this.textInputHead = position + after;\n  return this.hiddenInput.setSelectionRange(this.textInputAnchor, this.textInputHead);\n};\n\nEditor.prototype.setTextInputHead = function(point) {\n  this.textInputHead = this.getTextPosition(point);\n  return this.hiddenInput.setSelectionRange(Math.min(this.textInputAnchor, this.textInputHead), Math.max(this.textInputAnchor, this.textInputHead));\n};\n\nEditor.prototype.handleTextInputClick = function(mainPoint, dropletDocument) {\n  var hitTestResult;\n  hitTestResult = this.hitTestTextInput(mainPoint, dropletDocument);\n  if (hitTestResult != null) {\n    if (hitTestResult !== this.getCursor()) {\n      if (hitTestResult.editable()) {\n        this.undoCapture();\n        this.setCursor(hitTestResult);\n        this.redrawMain();\n        hitTestResult = this.hitTestTextInput(mainPoint, dropletDocument);\n      }\n      if ((hitTestResult != null) && hitTestResult.hasDropdown() && ((!hitTestResult.editable()) || mainPoint.x - this.session.view.getViewNodeFor(hitTestResult).bounds[0].x < helper.DROPDOWN_ARROW_WIDTH)) {\n        this.showDropdown(hitTestResult);\n      }\n      this.textInputSelecting = false;\n    } else {\n      if (this.getCursor().hasDropdown() && mainPoint.x - this.session.view.getViewNodeFor(hitTestResult).bounds[0].x < helper.DROPDOWN_ARROW_WIDTH) {\n        this.showDropdown();\n      }\n      this.setTextInputAnchor(mainPoint);\n      this.redrawTextInput();\n      this.textInputSelecting = true;\n    }\n    this.hiddenInput.focus();\n    return true;\n  } else {\n    return false;\n  }\n};\n\nEditor.prototype.hitTestTextInputInPalette = function(point, block) {\n  var head;\n  head = block.start;\n  while (head != null) {\n    if (head.type === 'socketStart' && head.container.isDroppable() && this.session.paletteView.getViewNodeFor(head.container).path.contains(point)) {\n      return head.container;\n    }\n    head = head.next;\n  }\n  return null;\n};\n\nEditor.prototype.handleTextInputClickInPalette = function(palettePoint) {\n  var entry, hitTestResult, j, len, ref1;\n  ref1 = this.session.currentPaletteBlocks;\n  for (j = 0, len = ref1.length; j < len; j++) {\n    entry = ref1[j];\n    hitTestResult = this.hitTestTextInputInPalette(palettePoint, entry.block);\n    if (hitTestResult != null) {\n      if (hitTestResult.hasDropdown()) {\n        this.showDropdown(hitTestResult, true);\n        return true;\n      }\n    }\n  }\n  return false;\n};\n\nhook('populate', 0, function() {\n  this.dropdownElement = document.createElement('div');\n  this.dropdownElement.className = 'droplet-dropdown';\n  this.wrapperElement.appendChild(this.dropdownElement);\n  this.dropdownElement.innerHTML = '';\n  this.dropdownElement.style.display = 'inline-block';\n  return this.dropdownVisible = false;\n});\n\nEditor.prototype.formatDropdown = function(socket, view) {\n  if (socket == null) {\n    socket = this.getCursor();\n  }\n  if (view == null) {\n    view = this.session.view;\n  }\n  this.dropdownElement.style.fontFamily = this.session.fontFamily;\n  this.dropdownElement.style.fontSize = this.session.fontSize;\n  return this.dropdownElement.style.minWidth = view.getViewNodeFor(socket).bounds[0].width;\n};\n\nEditor.prototype.getDropdownList = function(socket) {\n  var key, newresult, result, val;\n  result = socket.dropdown;\n  if (result.generate) {\n    result = result.generate;\n  }\n  if ('function' === typeof result) {\n    result = result.apply(socket);\n  } else {\n    result = socket.dropdown;\n  }\n  if (result.options) {\n    result = result.options;\n  }\n  newresult = [];\n  for (key in result) {\n    val = result[key];\n    newresult.push('string' === typeof val ? {\n      text: val,\n      display: val\n    } : val);\n  }\n  return newresult;\n};\n\nEditor.prototype.showDropdown = function(socket, inPalette) {\n  var dropdownItems, el, fn1, i, j, len, ref1;\n  if (socket == null) {\n    socket = this.getCursor();\n  }\n  if (inPalette == null) {\n    inPalette = false;\n  }\n  this.dropdownVisible = true;\n  dropdownItems = [];\n  this.dropdownElement.innerHTML = '';\n  this.dropdownElement.style.display = 'inline-block';\n  this.formatDropdown(socket, inPalette ? this.session.paletteView : this.session.view);\n  ref1 = this.getDropdownList(socket);\n  fn1 = (function(_this) {\n    return function(el) {\n      var div, setText;\n      div = document.createElement('div');\n      div.innerHTML = el.display;\n      div.className = 'droplet-dropdown-item';\n      dropdownItems.push(div);\n      div.style.paddingLeft = helper.DROPDOWN_ARROW_WIDTH;\n      setText = function(text) {\n        _this.undoCapture();\n        if (_this.dropdownElement.style.display === 'none') {\n          return;\n        }\n        if (inPalette) {\n          _this.populateSocket(socket, text);\n          _this.redrawPalette();\n        } else if (!socket.editable()) {\n          _this.populateSocket(socket, text);\n          _this.redrawMain();\n        } else {\n          if (!_this.cursorAtSocket()) {\n            return;\n          }\n          _this.populateSocket(_this.getCursor(), text);\n          _this.hiddenInput.value = text;\n          _this.redrawMain();\n        }\n        return _this.hideDropdown();\n      };\n      div.addEventListener('mouseup', function() {\n        if (el.click) {\n          return el.click(setText);\n        } else {\n          return setText(el.text);\n        }\n      });\n      return _this.dropdownElement.appendChild(div);\n    };\n  })(this);\n  for (i = j = 0, len = ref1.length; j < len; i = ++j) {\n    el = ref1[i];\n    fn1(el);\n  }\n  this.dropdownElement.style.top = '-9999px';\n  this.dropdownElement.style.left = '-9999px';\n  return setTimeout(((function(_this) {\n    return function() {\n      var dropdownTop, k, len1, location;\n      if (_this.dropdownElement.clientHeight < _this.dropdownElement.scrollHeight) {\n        for (k = 0, len1 = dropdownItems.length; k < len1; k++) {\n          el = dropdownItems[k];\n          el.style.paddingRight = DROPDOWN_SCROLLBAR_PADDING;\n        }\n      }\n      if (inPalette) {\n        location = _this.session.paletteView.getViewNodeFor(socket).bounds[0];\n        _this.dropdownElement.style.left = location.x - _this.session.viewports.palette.x + _this.paletteCanvas.clientLeft + 'px';\n        _this.dropdownElement.style.minWidth = location.width + 'px';\n        dropdownTop = location.y + _this.session.fontSize - _this.session.viewports.palette.y + _this.paletteCanvas.clientTop;\n        if (dropdownTop + _this.dropdownElement.clientHeight > _this.paletteElement.clientHeight) {\n          dropdownTop -= _this.session.fontSize + _this.dropdownElement.clientHeight;\n        }\n        return _this.dropdownElement.style.top = dropdownTop + 'px';\n      } else {\n        socket = _this.getCursor();\n        location = _this.session.view.getViewNodeFor(socket).bounds[0];\n        _this.dropdownElement.style.left = location.x - _this.session.viewports.main.x + _this.dropletElement.offsetLeft + _this.gutter.clientWidth + 'px';\n        _this.dropdownElement.style.minWidth = location.width + 'px';\n        dropdownTop = location.y + _this.session.fontSize - _this.session.viewports.main.y;\n        if (dropdownTop + _this.dropdownElement.clientHeight > _this.dropletElement.clientHeight) {\n          dropdownTop -= _this.session.fontSize + _this.dropdownElement.clientHeight;\n        }\n        return _this.dropdownElement.style.top = dropdownTop + 'px';\n      }\n    };\n  })(this)), 0);\n};\n\nEditor.prototype.hideDropdown = function() {\n  this.dropdownVisible = false;\n  this.dropdownElement.style.display = 'none';\n  return this.dropletElement.focus();\n};\n\nhook('dblclick', 0, function(point, event, state) {\n  var dropletDocument, hitTestResult, j, len, mainPoint, ref1;\n  if (state.consumedHitTest) {\n    return;\n  }\n  ref1 = this.getDocuments();\n  for (j = 0, len = ref1.length; j < len; j++) {\n    dropletDocument = ref1[j];\n    mainPoint = this.trackerPointToMain(point);\n    hitTestResult = this.hitTestTextInput(mainPoint, this.session.tree);\n    if (hitTestResult !== this.getCursor()) {\n      if ((hitTestResult != null) && hitTestResult.editable()) {\n        this.redrawMain();\n        hitTestResult = this.hitTestTextInput(mainPoint, this.session.tree);\n      }\n    }\n    if ((hitTestResult != null) && hitTestResult.editable()) {\n      this.setCursor(hitTestResult);\n      this.redrawMain();\n      setTimeout(((function(_this) {\n        return function() {\n          _this.selectDoubleClick(mainPoint);\n          _this.redrawTextInput();\n          return _this.textInputSelecting = false;\n        };\n      })(this)), 0);\n      state.consumedHitTest = true;\n      return;\n    }\n  }\n});\n\nhook('mousemove', 0, function(point, event, state) {\n  var mainPoint;\n  if (this.textInputSelecting) {\n    if (!this.cursorAtSocket()) {\n      this.textInputSelecting = false;\n      return;\n    }\n    mainPoint = this.trackerPointToMain(point);\n    this.setTextInputHead(mainPoint);\n    return this.redrawTextInput();\n  }\n});\n\nhook('mouseup', 0, function(point, event, state) {\n  var mainPoint;\n  if (this.textInputSelecting) {\n    mainPoint = this.trackerPointToMain(point);\n    this.setTextInputHead(mainPoint);\n    this.redrawTextInput();\n    return this.textInputSelecting = false;\n  }\n});\n\nhook('populate', 0, function() {\n  this.lassoSelectRect = document.createElementNS(SVG_STANDARD, 'rect');\n  this.lassoSelectRect.setAttribute('stroke', '#00f');\n  this.lassoSelectRect.setAttribute('fill', 'none');\n  this.lassoSelectAnchor = null;\n  this.lassoSelection = null;\n  return this.mainCanvas.appendChild(this.lassoSelectRect);\n});\n\nEditor.prototype.clearLassoSelection = function() {\n  this.lassoSelection = null;\n  return this.redrawHighlights();\n};\n\nhook('mousedown', 0, function(point, event, state) {\n  var mainPoint, palettePoint;\n  if (!state.clickedLassoSelection) {\n    this.clearLassoSelection();\n  }\n  if (state.consumedHitTest || state.suppressLassoSelect) {\n    return;\n  }\n  if (!this.trackerPointIsInMain(point)) {\n    return;\n  }\n  if (this.trackerPointIsInPalette(point)) {\n    return;\n  }\n  mainPoint = this.trackerPointToMain(point).from(this.session.viewports.main);\n  palettePoint = this.trackerPointToPalette(point).from(this.session.viewports.palette);\n  return this.lassoSelectAnchor = this.trackerPointToMain(point);\n});\n\nhook('mousemove', 0, function(point, event, state) {\n  var dropletDocument, findLassoSelect, j, lassoRectangle, len, mainPoint, ref1, results;\n  if (this.lassoSelectAnchor != null) {\n    mainPoint = this.trackerPointToMain(point);\n    lassoRectangle = new this.draw.Rectangle(Math.min(this.lassoSelectAnchor.x, mainPoint.x), Math.min(this.lassoSelectAnchor.y, mainPoint.y), Math.abs(this.lassoSelectAnchor.x - mainPoint.x), Math.abs(this.lassoSelectAnchor.y - mainPoint.y));\n    findLassoSelect = (function(_this) {\n      return function(dropletDocument) {\n        var first, last, ref1;\n        first = dropletDocument.start;\n        while (!((first == null) || first.type === 'blockStart' && _this.session.view.getViewNodeFor(first.container).path.intersects(lassoRectangle))) {\n          first = first.next;\n        }\n        last = dropletDocument.end;\n        while (!((last == null) || last.type === 'blockEnd' && _this.session.view.getViewNodeFor(last.container).path.intersects(lassoRectangle))) {\n          last = last.prev;\n        }\n        _this.clearHighlightCanvas();\n        _this.mainCanvas.appendChild(_this.lassoSelectRect);\n        _this.lassoSelectRect.style.display = 'block';\n        _this.lassoSelectRect.setAttribute('x', lassoRectangle.x);\n        _this.lassoSelectRect.setAttribute('y', lassoRectangle.y);\n        _this.lassoSelectRect.setAttribute('width', lassoRectangle.width);\n        _this.lassoSelectRect.setAttribute('height', lassoRectangle.height);\n        if (first && (last != null)) {\n          ref1 = validateLassoSelection(dropletDocument, first, last), first = ref1[0], last = ref1[1];\n          _this.lassoSelection = new model.List(first, last);\n          _this.redrawLassoHighlight();\n          return true;\n        } else {\n          _this.lassoSelection = null;\n          _this.redrawLassoHighlight();\n          return false;\n        }\n      };\n    })(this);\n    if (!((this.lassoSelectionDocument != null) && findLassoSelect(this.lassoSelectionDocument))) {\n      ref1 = this.getDocuments();\n      results = [];\n      for (j = 0, len = ref1.length; j < len; j++) {\n        dropletDocument = ref1[j];\n        if (findLassoSelect(dropletDocument)) {\n          this.lassoSelectionDocument = dropletDocument;\n          break;\n        } else {\n          results.push(void 0);\n        }\n      }\n      return results;\n    }\n  }\n});\n\nEditor.prototype.redrawLassoHighlight = function() {\n  var dropletDocument, dropletDocumentView, j, lassoView, len, ref1;\n  if (this.session == null) {\n    return;\n  }\n  ref1 = this.getDocuments();\n  for (j = 0, len = ref1.length; j < len; j++) {\n    dropletDocument = ref1[j];\n    dropletDocumentView = this.session.view.getViewNodeFor(dropletDocument);\n    dropletDocumentView.draw(this.session.viewports.main, {\n      selected: false,\n      noText: this.currentlyAnimating\n    });\n  }\n  if (this.lassoSelection != null) {\n    lassoView = this.session.view.getViewNodeFor(this.lassoSelection);\n    lassoView.absorbCache();\n    return lassoView.draw(this.session.viewports.main, {\n      selected: true\n    });\n  }\n};\n\nvalidateLassoSelection = function(tree, first, last) {\n  var head, tokensToInclude;\n  tokensToInclude = [];\n  head = first;\n  while (head !== last.next) {\n    if (head instanceof model.StartToken || head instanceof model.EndToken) {\n      tokensToInclude.push(head.container.start);\n      tokensToInclude.push(head.container.end);\n    }\n    head = head.next;\n  }\n  first = tree.start;\n  while (indexOf.call(tokensToInclude, first) < 0) {\n    first = first.next;\n  }\n  last = tree.end;\n  while (indexOf.call(tokensToInclude, last) < 0) {\n    last = last.prev;\n  }\n  while (first.type !== 'blockStart') {\n    first = first.prev;\n    if (first.type === 'blockEnd') {\n      first = first.container.start.prev;\n    }\n  }\n  while (last.type !== 'blockEnd') {\n    last = last.next;\n    if (last.type === 'blockStart') {\n      last = last.container.end.next;\n    }\n  }\n  return [first, last];\n};\n\nhook('mouseup', 0, function(point, event, state) {\n  if (this.lassoSelectAnchor != null) {\n    if (this.lassoSelection != null) {\n      this.setCursor(this.lassoSelection.end);\n    }\n    this.lassoSelectAnchor = null;\n    this.lassoSelectRect.style.display = 'none';\n    this.redrawHighlights();\n  }\n  return this.lassoSelectionDocument = null;\n});\n\nhook('mousedown', 3, function(point, event, state) {\n  if (state.consumedHitTest) {\n    return;\n  }\n  if ((this.lassoSelection != null) && (this.hitTest(this.trackerPointToMain(point), this.lassoSelection) != null)) {\n    this.clickedBlock = this.lassoSelection;\n    this.clickedBlockPaletteEntry = null;\n    this.clickedPoint = point;\n    state.consumedHitTest = true;\n    return state.clickedLassoSelection = true;\n  }\n});\n\nCrossDocumentLocation = (function() {\n  function CrossDocumentLocation(document1, location1) {\n    this.document = document1;\n    this.location = location1;\n  }\n\n  CrossDocumentLocation.prototype.is = function(other) {\n    return this.location.is(other.location) && this.document === other.document;\n  };\n\n  CrossDocumentLocation.prototype.clone = function() {\n    return new CrossDocumentLocation(this.document, this.location.clone());\n  };\n\n  return CrossDocumentLocation;\n\n})();\n\nEditor.prototype.validCursorPosition = function(destination) {\n  var ref1, ref2;\n  return ((ref1 = destination.type) === 'documentStart' || ref1 === 'indentStart') || destination.type === 'blockEnd' && ((ref2 = destination.parent.type) === 'document' || ref2 === 'indent') || destination.type === 'socketStart' && destination.container.editable();\n};\n\nEditor.prototype.setCursor = function(destination, validate, direction) {\n  var end, ref1, ref2, socket, start;\n  if (validate == null) {\n    validate = (function() {\n      return true;\n    });\n  }\n  if (direction == null) {\n    direction = 'after';\n  }\n  if ((destination != null) && destination instanceof CrossDocumentLocation) {\n    destination = this.fromCrossDocumentLocation(destination);\n  }\n  if (!((destination != null) && this.inDisplay(destination))) {\n    return;\n  }\n  if (destination instanceof model.Container) {\n    destination = destination.start;\n  }\n  while (!(this.validCursorPosition(destination) && validate(destination))) {\n    destination = (direction === 'after' ? destination.next : destination.prev);\n    if (destination == null) {\n      return;\n    }\n  }\n  destination = this.toCrossDocumentLocation(destination);\n  if (this.cursorAtSocket() && !this.session.cursor.is(destination)) {\n    socket = this.getCursor();\n    this.reparse(socket, null, (destination.document === this.session.cursor.document ? [destination.location] : []));\n    this.hiddenInput.blur();\n    this.dropletElement.focus();\n  }\n  this.session.cursor = destination;\n  this.correctCursor();\n  this.redrawMain();\n  this.highlightFlashShow();\n  if (this.cursorAtSocket()) {\n    if (((ref1 = this.getCursor()) != null ? ref1.id : void 0) in this.session.extraMarks) {\n      delete this.session.extraMarks[typeof focus !== \"undefined\" && focus !== null ? focus.id : void 0];\n    }\n    this.undoCapture();\n    this.hiddenInput.value = this.getCursor().textContent();\n    this.hiddenInput.focus();\n    ref2 = this.session.mode.getDefaultSelectionRange(this.hiddenInput.value), start = ref2.start, end = ref2.end;\n    return this.setTextSelectionRange(start, end);\n  }\n};\n\nEditor.prototype.determineCursorPosition = function() {\n  var bound, cursor, line;\n  this.session.view.getViewNodeFor(this.session.tree).layout(0, this.nubbyHeight);\n  cursor = this.getCursor();\n  if (cursor.type === 'documentStart') {\n    bound = this.session.view.getViewNodeFor(cursor.container).bounds[0];\n    return new this.draw.Point(bound.x, bound.y);\n  } else if (cursor.type === 'indentStart') {\n    line = cursor.next.type === 'newline' ? 1 : 0;\n    bound = this.session.view.getViewNodeFor(cursor.container).bounds[line];\n    return new this.draw.Point(bound.x, bound.y);\n  } else {\n    line = this.getCursor().getTextLocation().row - cursor.parent.getTextLocation().row;\n    bound = this.session.view.getViewNodeFor(cursor.parent).bounds[line];\n    return new this.draw.Point(bound.x, bound.bottom());\n  }\n};\n\nEditor.prototype.getCursor = function() {\n  var cursor;\n  cursor = this.fromCrossDocumentLocation(this.session.cursor);\n  if (cursor.type === 'socketStart') {\n    return cursor.container;\n  } else {\n    return cursor;\n  }\n};\n\nEditor.prototype.scrollCursorIntoPosition = function() {\n  var axis;\n  axis = this.determineCursorPosition().y;\n  if (axis < this.session.viewports.main.y) {\n    this.mainScroller.scrollTop = axis;\n  } else if (axis > this.session.viewports.main.bottom()) {\n    this.mainScroller.scrollTop = axis - this.session.viewports.main.height;\n  }\n  return this.mainScroller.scrollLeft = 0;\n};\n\nEditor.prototype.scrollCursorToEndOfDocument = function() {\n  var pos;\n  if (this.session.currentlyUsingBlocks) {\n    pos = this.session.tree.end;\n    while (pos && !this.validCursorPosition(pos)) {\n      pos = pos.prev;\n    }\n    this.setCursor(pos);\n    return this.scrollCursorIntoPosition();\n  } else {\n    return this.aceEditor.scrollToLine(this.aceEditor.session.getLength());\n  }\n};\n\nhook('keydown', 0, function(event, state) {\n  var next, prev, ref1, ref2, ref3, ref4, ref5, ref6, ref7, ref8;\n  if (event.which === UP_ARROW_KEY) {\n    this.clearLassoSelection();\n    prev = (ref1 = this.getCursor().prev) != null ? ref1 : (ref2 = this.getCursor().start) != null ? ref2.prev : void 0;\n    this.setCursor(prev, (function(token) {\n      return token.type !== 'socketStart';\n    }), 'before');\n    return this.scrollCursorIntoPosition();\n  } else if (event.which === DOWN_ARROW_KEY) {\n    this.clearLassoSelection();\n    next = (ref3 = this.getCursor().next) != null ? ref3 : (ref4 = this.getCursor().end) != null ? ref4.next : void 0;\n    this.setCursor(next, (function(token) {\n      return token.type !== 'socketStart';\n    }), 'after');\n    return this.scrollCursorIntoPosition();\n  } else if (event.which === RIGHT_ARROW_KEY && (!this.cursorAtSocket() || this.hiddenInput.selectionStart === this.hiddenInput.value.length)) {\n    this.clearLassoSelection();\n    next = (ref5 = this.getCursor().next) != null ? ref5 : (ref6 = this.getCursor().end) != null ? ref6.next : void 0;\n    this.setCursor(next, null, 'after');\n    this.scrollCursorIntoPosition();\n    return event.preventDefault();\n  } else if (event.which === LEFT_ARROW_KEY && (!this.cursorAtSocket() || this.hiddenInput.selectionEnd === 0)) {\n    this.clearLassoSelection();\n    prev = (ref7 = this.getCursor().prev) != null ? ref7 : (ref8 = this.getCursor().start) != null ? ref8.prev : void 0;\n    this.setCursor(prev, null, 'before');\n    this.scrollCursorIntoPosition();\n    return event.preventDefault();\n  }\n});\n\nhook('keydown', 0, function(event, state) {\n  var next, prev, ref1, ref2, ref3, ref4;\n  if (event.which !== TAB_KEY) {\n    return;\n  }\n  if (event.shiftKey) {\n    prev = (ref1 = this.getCursor().prev) != null ? ref1 : (ref2 = this.getCursor().start) != null ? ref2.prev : void 0;\n    this.setCursor(prev, (function(token) {\n      return token.type === 'socketStart';\n    }), 'before');\n  } else {\n    next = (ref3 = this.getCursor().next) != null ? ref3 : (ref4 = this.getCursor().end) != null ? ref4.next : void 0;\n    this.setCursor(next, (function(token) {\n      return token.type === 'socketStart';\n    }), 'after');\n  }\n  return event.preventDefault();\n});\n\nEditor.prototype.deleteAtCursor = function() {\n  var block;\n  if (this.getCursor().type === 'blockEnd') {\n    block = this.getCursor().container;\n  } else if (this.getCursor().type === 'indentStart') {\n    block = this.getCursor().parent;\n  } else {\n    return;\n  }\n  this.setCursor(block.start, null, 'before');\n  this.undoCapture();\n  this.spliceOut(block);\n  return this.redrawMain();\n};\n\nhook('keydown', 0, function(event, state) {\n  if ((this.session == null) || this.session.readOnly) {\n    return;\n  }\n  if (event.which !== BACKSPACE_KEY) {\n    return;\n  }\n  if (state.capturedBackspace) {\n    return;\n  }\n  if (this.lassoSelection != null) {\n    this.deleteLassoSelection();\n    event.preventDefault();\n    return false;\n  } else if (!this.cursorAtSocket() || (this.hiddenInput.value.length === 0 && this.getCursor().handwritten)) {\n    this.deleteAtCursor();\n    state.capturedBackspace = true;\n    event.preventDefault();\n    return false;\n  }\n  return true;\n});\n\nEditor.prototype.deleteLassoSelection = function() {\n  var cursorTarget;\n  if (this.lassoSelection == null) {\n    if (DEBUG_FLAG) {\n      throw new Error('Cannot delete nonexistent lasso segment');\n    }\n    return null;\n  }\n  cursorTarget = this.lassoSelection.start.prev;\n  this.spliceOut(this.lassoSelection);\n  this.lassoSelection = null;\n  this.setCursor(cursorTarget);\n  return this.redrawMain();\n};\n\nhook('keydown', 0, function(event, state) {\n  var head, newBlock, newSocket, newTextMarker, socket;\n  if ((this.session == null) || this.session.readOnly) {\n    return;\n  }\n  if (event.which === ENTER_KEY) {\n    if (!this.cursorAtSocket() && !event.shiftKey && !event.ctrlKey && !event.metaKey) {\n      newBlock = new model.Block();\n      newSocket = new model.Socket('', 2e308, true);\n      newSocket.setParent(newBlock);\n      helper.connect(newBlock.start, newSocket.start);\n      helper.connect(newSocket.end, newBlock.end);\n      head = this.getCursor();\n      while (head.type === 'newline') {\n        head = head.prev;\n      }\n      newSocket.parseContext = head.parent.parseContext;\n      this.spliceIn(newBlock, head);\n      this.redrawMain();\n      return this.newHandwrittenSocket = newSocket;\n    } else if (this.cursorAtSocket() && !event.shiftKey) {\n      socket = this.getCursor();\n      this.hiddenInput.blur();\n      this.dropletElement.focus();\n      this.setCursor(this.session.cursor, function(token) {\n        return token.type !== 'socketStart';\n      });\n      this.redrawMain();\n      if (indexOf.call(socket.classes, '__comment__') >= 0 && this.session.mode.startSingleLineComment) {\n        newBlock = new model.Block(0, 'blank', helper.ANY_DROP);\n        newBlock.classes = ['__comment__', 'block-only'];\n        newBlock.socketLevel = helper.BLOCK_ONLY;\n        newTextMarker = new model.TextToken(this.session.mode.startSingleLineComment);\n        newTextMarker.setParent(newBlock);\n        newSocket = new model.Socket('', 0, true);\n        newSocket.classes = ['__comment__'];\n        newSocket.setParent(newBlock);\n        helper.connect(newBlock.start, newTextMarker);\n        helper.connect(newTextMarker, newSocket.start);\n        helper.connect(newSocket.end, newBlock.end);\n        head = this.getCursor();\n        while (head.type === 'newline') {\n          head = head.prev;\n        }\n        this.spliceIn(newBlock, head);\n        this.redrawMain();\n        return this.newHandwrittenSocket = newSocket;\n      }\n    }\n  }\n});\n\nhook('keyup', 0, function(event, state) {\n  if ((this.session == null) || this.session.readOnly) {\n    return;\n  }\n  if (event.which === ENTER_KEY) {\n    if (this.newHandwrittenSocket != null) {\n      this.setCursor(this.newHandwrittenSocket);\n      return this.newHandwrittenSocket = null;\n    }\n  }\n});\n\ncontainsCursor = function(block) {\n  var head;\n  head = block.start;\n  while (head !== block.end) {\n    if (head.type === 'cursor') {\n      return true;\n    }\n    head = head.next;\n  }\n  return false;\n};\n\nEditor.prototype.copyAceEditor = function() {\n  this.gutter.style.width = this.aceEditor.renderer.$gutterLayer.gutterWidth + 'px';\n  this.resizeBlockMode();\n  return this.setValue_raw(this.getAceValue());\n};\n\ngetOffsetTop = function(element) {\n  var top;\n  top = element.offsetTop;\n  while ((element = element.offsetParent) != null) {\n    top += element.offsetTop;\n  }\n  return top;\n};\n\ngetOffsetLeft = function(element) {\n  var left;\n  left = element.offsetLeft;\n  while ((element = element.offsetParent) != null) {\n    left += element.offsetLeft;\n  }\n  return left;\n};\n\nEditor.prototype.computePlaintextTranslationVectors = function() {\n  var aceSession, corner, fontWidth, head, rownum, state, textElements, translationVectors, wrappedlines;\n  textElements = [];\n  translationVectors = [];\n  head = this.session.tree.start;\n  aceSession = this.aceEditor.session;\n  state = {\n    x: (this.aceEditor.container.getBoundingClientRect().left - this.aceElement.getBoundingClientRect().left + this.aceEditor.renderer.$gutterLayer.gutterWidth) - this.gutter.clientWidth + 5,\n    y: (this.aceEditor.container.getBoundingClientRect().top - this.aceElement.getBoundingClientRect().top) - aceSession.getScrollTop(),\n    indent: 0,\n    lineHeight: this.aceEditor.renderer.layerConfig.lineHeight,\n    leftEdge: (this.aceEditor.container.getBoundingClientRect().left - getOffsetLeft(this.aceElement) + this.aceEditor.renderer.$gutterLayer.gutterWidth) - this.gutter.clientWidth + 5\n  };\n  this.measureCtx.font = this.aceFontSize() + ' ' + this.session.fontFamily;\n  fontWidth = this.measureCtx.measureText(' ').width;\n  rownum = 0;\n  while (head !== this.session.tree.end) {\n    switch (head.type) {\n      case 'text':\n        corner = this.session.view.getViewNodeFor(head).bounds[0].upperLeftCorner();\n        corner.x -= this.session.viewports.main.x;\n        corner.y -= this.session.viewports.main.y;\n        translationVectors.push((new this.draw.Point(state.x, state.y)).from(corner));\n        textElements.push(this.session.view.getViewNodeFor(head));\n        state.x += fontWidth * head.value.length;\n        break;\n      case 'socketStart':\n        if (head.next === head.container.end || head.next.type === 'text' && head.next.value === '') {\n          state.x += fontWidth * head.container.emptyString.length;\n        }\n        break;\n      case 'newline':\n        wrappedlines = Math.max(1, aceSession.documentToScreenRow(rownum + 1, 0) - aceSession.documentToScreenRow(rownum, 0));\n        rownum += 1;\n        state.y += state.lineHeight * wrappedlines;\n        if (head.specialIndent != null) {\n          state.x = state.leftEdge + fontWidth * head.specialIndent.length;\n        } else {\n          state.x = state.leftEdge + state.indent * fontWidth;\n        }\n        break;\n      case 'indentStart':\n        state.indent += head.container.depth;\n        break;\n      case 'indentEnd':\n        state.indent -= head.container.depth;\n    }\n    head = head.next;\n  }\n  return {\n    textElements: textElements,\n    translationVectors: translationVectors\n  };\n};\n\nEditor.prototype.checkAndHighlightEmptySockets = function() {\n  var head, ok;\n  head = this.session.tree.start;\n  ok = true;\n  while (head !== this.session.tree.end) {\n    if ((head.type === 'socketStart' && head.next === head.container.end || head.type === 'socketStart' && head.next.type === 'text' && head.next.value === '') && head.container.emptyString !== '') {\n      this.markBlock(head.container, {\n        color: '#F00'\n      });\n      ok = false;\n    }\n    head = head.next;\n  }\n  return ok;\n};\n\nEditor.prototype.performMeltAnimation = function(fadeTime, translateTime, cb) {\n  var aceScrollTop, bottom, div, fn1, fn2, i, j, k, len, line, lineHeight, paletteDisappearingWithMelt, ref1, ref2, ref3, textElement, textElements, top, translatingElements, translationVectors, treeView;\n  if (fadeTime == null) {\n    fadeTime = 500;\n  }\n  if (translateTime == null) {\n    translateTime = 1000;\n  }\n  if (cb == null) {\n    cb = function() {};\n  }\n  if (this.session.currentlyUsingBlocks && !this.currentlyAnimating) {\n    if (!this.session.options.preserveEmpty && !this.checkAndHighlightEmptySockets()) {\n      this.redrawMain();\n      return;\n    }\n    this.hideDropdown();\n    this.fireEvent('statechange', [false]);\n    this.setAceValue(this.getValue());\n    top = this.findLineNumberAtCoordinate(this.session.viewports.main.y);\n    this.aceEditor.scrollToLine(top);\n    this.aceEditor.resize(true);\n    this.redrawMain({\n      noText: true\n    });\n    if (this.sideScroller.scrollWidth > this.sideScroller.clientWidth) {\n      this.sideScroller.style.overflowX = 'scroll';\n    } else {\n      this.sideScroller.style.overflowX = 'hidden';\n    }\n    this.mainScroller.style.overflowY = 'hidden';\n    this.dropletElement.style.width = this.wrapperElement.clientWidth + 'px';\n    this.session.currentlyUsingBlocks = false;\n    this.currentlyAnimating = this.currentlyAnimating_suppressRedraw = true;\n    ref1 = this.computePlaintextTranslationVectors(), textElements = ref1.textElements, translationVectors = ref1.translationVectors;\n    translatingElements = [];\n    fn1 = (function(_this) {\n      return function(div, textElement, translationVectors, i) {\n        return setTimeout((function() {\n          div.style.left = (textElement.bounds[0].x - _this.session.viewports.main.x + translationVectors[i].x) + 'px';\n          div.style.top = (textElement.bounds[0].y - _this.session.viewports.main.y + translationVectors[i].y) + 'px';\n          return div.style.fontSize = _this.aceFontSize();\n        }), fadeTime);\n      };\n    })(this);\n    for (i = j = 0, len = textElements.length; j < len; i = ++j) {\n      textElement = textElements[i];\n      if (!(0 < textElement.bounds[0].bottom() - this.session.viewports.main.y + translationVectors[i].y && textElement.bounds[0].y - this.session.viewports.main.y + translationVectors[i].y < this.session.viewports.main.height)) {\n        continue;\n      }\n      div = document.createElement('div');\n      div.style.whiteSpace = 'pre';\n      div.innerText = div.textContent = textElement.model.value;\n      div.style.font = this.session.fontSize + 'px ' + this.session.fontFamily;\n      div.style.left = (textElement.bounds[0].x - this.session.viewports.main.x) + \"px\";\n      div.style.top = (textElement.bounds[0].y - this.session.viewports.main.y - this.session.fontAscent) + \"px\";\n      div.className = 'droplet-transitioning-element';\n      div.style.transition = \"left \" + translateTime + \"ms, top \" + translateTime + \"ms, font-size \" + translateTime + \"ms\";\n      translatingElements.push(div);\n      this.transitionContainer.appendChild(div);\n      fn1(div, textElement, translationVectors, i);\n    }\n    top = Math.max(this.aceEditor.getFirstVisibleRow(), 0);\n    bottom = Math.min(this.aceEditor.getLastVisibleRow(), this.session.view.getViewNodeFor(this.session.tree).lineLength - 1);\n    aceScrollTop = this.aceEditor.session.getScrollTop();\n    treeView = this.session.view.getViewNodeFor(this.session.tree);\n    lineHeight = this.aceEditor.renderer.layerConfig.lineHeight;\n    fn2 = (function(_this) {\n      return function(div, line) {\n        return setTimeout((function() {\n          div.style.left = '0px';\n          div.style.top = (_this.aceEditor.session.documentToScreenRow(line, 0) * lineHeight - aceScrollTop) + 'px';\n          return div.style.fontSize = _this.aceFontSize();\n        }), fadeTime);\n      };\n    })(this);\n    for (line = k = ref2 = top, ref3 = bottom; ref2 <= ref3 ? k <= ref3 : k >= ref3; line = ref2 <= ref3 ? ++k : --k) {\n      div = document.createElement('div');\n      div.style.whiteSpace = 'pre';\n      div.innerText = div.textContent = line + 1;\n      div.style.left = 0;\n      div.style.top = (treeView.bounds[line].y + treeView.distanceToBase[line].above - this.session.view.opts.textHeight - this.session.fontAscent - this.session.viewports.main.y) + \"px\";\n      div.style.font = this.session.fontSize + 'px ' + this.session.fontFamily;\n      div.style.width = this.gutter.clientWidth + \"px\";\n      translatingElements.push(div);\n      div.className = 'droplet-transitioning-element droplet-transitioning-gutter droplet-gutter-line';\n      if (this.annotations[line] != null) {\n        div.className += ' droplet_' + getMostSevereAnnotationType(this.annotations[line]);\n      }\n      div.style.transition = \"left \" + translateTime + \"ms, top \" + translateTime + \"ms, font-size \" + translateTime + \"ms\";\n      this.dropletElement.appendChild(div);\n      fn2(div, line);\n    }\n    this.lineNumberWrapper.style.display = 'none';\n    this.mainCanvas.style.transition = this.highlightCanvas.style.transition = \"opacity \" + fadeTime + \"ms linear\";\n    this.mainCanvas.style.opacity = 0;\n    paletteDisappearingWithMelt = this.session.paletteEnabled && !this.session.showPaletteInTextMode;\n    if (paletteDisappearingWithMelt) {\n      this.paletteHeader.style.zIndex = 0;\n      setTimeout(((function(_this) {\n        return function() {\n          _this.dropletElement.style.transition = _this.paletteWrapper.style.transition = \"left \" + translateTime + \"ms\";\n          _this.dropletElement.style.left = '0px';\n          return _this.paletteWrapper.style.left = (-_this.paletteWrapper.clientWidth) + \"px\";\n        };\n      })(this)), fadeTime);\n    }\n    setTimeout(((function(_this) {\n      return function() {\n        var l, len1;\n        _this.dropletElement.style.transition = _this.paletteWrapper.style.transition = '';\n        _this.aceElement.style.top = '0px';\n        if (_this.session.showPaletteInTextMode && _this.session.paletteEnabled) {\n          _this.aceElement.style.left = _this.paletteWrapper.clientWidth + \"px\";\n        } else {\n          _this.aceElement.style.left = '0px';\n        }\n        _this.dropletElement.style.top = '-9999px';\n        _this.dropletElement.style.left = '-9999px';\n        _this.currentlyAnimating = false;\n        _this.showScrollbars();\n        for (l = 0, len1 = translatingElements.length; l < len1; l++) {\n          div = translatingElements[l];\n          div.parentNode.removeChild(div);\n        }\n        _this.fireEvent('toggledone', [_this.session.currentlyUsingBlocks]);\n        if (cb != null) {\n          return cb();\n        }\n      };\n    })(this)), fadeTime + translateTime);\n    return {\n      success: true\n    };\n  }\n};\n\nEditor.prototype.aceFontSize = function() {\n  return parseFloat(this.aceEditor.getFontSize()) + 'px';\n};\n\nEditor.prototype.showScrollbars = function(show) {\n  if (show == null) {\n    show = true;\n  }\n  this.mainScroller.style.overflowY = show ? 'auto' : 'hidden';\n  return this.sideScroller.style.overflowX = show ? 'auto' : 'hidden';\n};\n\nEditor.prototype.performFreezeAnimation = function(fadeTime, translateTime, cb) {\n  var afterTime, beforeTime, setValueResult;\n  if (fadeTime == null) {\n    fadeTime = 500;\n  }\n  if (translateTime == null) {\n    translateTime = 500;\n  }\n  if (cb == null) {\n    cb = function() {};\n  }\n  if (this.session == null) {\n    return;\n  }\n  if (!this.session.currentlyUsingBlocks && !this.currentlyAnimating) {\n    beforeTime = +(new Date());\n    setValueResult = this.copyAceEditor();\n    afterTime = +(new Date());\n    if (!setValueResult.success) {\n      if (setValueResult.error) {\n        this.fireEvent('parseerror', [setValueResult.error]);\n      }\n      return setValueResult;\n    }\n    if (this.aceEditor.getFirstVisibleRow() === 0) {\n      this.mainScroller.scrollTop = 0;\n    } else {\n      this.mainScroller.scrollTop = this.session.view.getViewNodeFor(this.session.tree).bounds[this.aceEditor.getFirstVisibleRow()].y;\n    }\n    this.session.currentlyUsingBlocks = true;\n    this.currentlyAnimating = true;\n    this.fireEvent('statechange', [true]);\n    setTimeout(((function(_this) {\n      return function() {\n        var aceScrollTop, bottom, div, fn1, fn2, i, j, k, len, line, lineHeight, paletteAppearingWithFreeze, ref1, ref2, ref3, textElement, textElements, top, translatingElements, translationVectors, treeView;\n        _this.showScrollbars(false);\n        _this.dropletElement.style.width = _this.wrapperElement.clientWidth + 'px';\n        _this.redrawMain({\n          noText: true\n        });\n        _this.currentlyAnimating_suppressRedraw = true;\n        _this.aceElement.style.top = \"-9999px\";\n        _this.aceElement.style.left = \"-9999px\";\n        paletteAppearingWithFreeze = _this.session.paletteEnabled && !_this.session.showPaletteInTextMode;\n        if (paletteAppearingWithFreeze) {\n          _this.paletteWrapper.style.top = '0px';\n          _this.paletteWrapper.style.left = (-_this.paletteWrapper.clientWidth) + \"px\";\n          _this.paletteHeader.style.zIndex = 0;\n        }\n        _this.dropletElement.style.top = \"0px\";\n        if (_this.session.paletteEnabled && !paletteAppearingWithFreeze) {\n          _this.dropletElement.style.left = _this.paletteWrapper.clientWidth + \"px\";\n        } else {\n          _this.dropletElement.style.left = \"0px\";\n        }\n        ref1 = _this.computePlaintextTranslationVectors(), textElements = ref1.textElements, translationVectors = ref1.translationVectors;\n        translatingElements = [];\n        fn1 = function(div, textElement) {\n          return setTimeout((function() {\n            div.style.left = (textElement.bounds[0].x - _this.session.viewports.main.x) + \"px\";\n            div.style.top = (textElement.bounds[0].y - _this.session.viewports.main.y - _this.session.fontAscent) + \"px\";\n            return div.style.fontSize = _this.session.fontSize + 'px';\n          }), 0);\n        };\n        for (i = j = 0, len = textElements.length; j < len; i = ++j) {\n          textElement = textElements[i];\n          if (!(0 < textElement.bounds[0].bottom() - _this.session.viewports.main.y + translationVectors[i].y && textElement.bounds[0].y - _this.session.viewports.main.y + translationVectors[i].y < _this.session.viewports.main.height)) {\n            continue;\n          }\n          div = document.createElement('div');\n          div.style.whiteSpace = 'pre';\n          div.innerText = div.textContent = textElement.model.value;\n          div.style.font = _this.aceFontSize() + ' ' + _this.session.fontFamily;\n          div.style.position = 'absolute';\n          div.style.left = (textElement.bounds[0].x - _this.session.viewports.main.x + translationVectors[i].x) + \"px\";\n          div.style.top = (textElement.bounds[0].y - _this.session.viewports.main.y + translationVectors[i].y) + \"px\";\n          div.className = 'droplet-transitioning-element';\n          div.style.transition = \"left \" + translateTime + \"ms, top \" + translateTime + \"ms, font-size \" + translateTime + \"ms\";\n          translatingElements.push(div);\n          _this.transitionContainer.appendChild(div);\n          fn1(div, textElement);\n        }\n        top = Math.max(_this.aceEditor.getFirstVisibleRow(), 0);\n        bottom = Math.min(_this.aceEditor.getLastVisibleRow(), _this.session.view.getViewNodeFor(_this.session.tree).lineLength - 1);\n        treeView = _this.session.view.getViewNodeFor(_this.session.tree);\n        lineHeight = _this.aceEditor.renderer.layerConfig.lineHeight;\n        aceScrollTop = _this.aceEditor.session.getScrollTop();\n        fn2 = function(div, line) {\n          return setTimeout((function() {\n            div.style.left = 0;\n            div.style.top = (treeView.bounds[line].y + treeView.distanceToBase[line].above - _this.session.view.opts.textHeight - _this.session.fontAscent - _this.session.viewports.main.y) + \"px\";\n            return div.style.fontSize = _this.session.fontSize + 'px';\n          }), 0);\n        };\n        for (line = k = ref2 = top, ref3 = bottom; ref2 <= ref3 ? k <= ref3 : k >= ref3; line = ref2 <= ref3 ? ++k : --k) {\n          div = document.createElement('div');\n          div.style.whiteSpace = 'pre';\n          div.innerText = div.textContent = line + 1;\n          div.style.font = _this.aceFontSize() + ' ' + _this.session.fontFamily;\n          div.style.width = _this.aceEditor.renderer.$gutter.clientWidth + \"px\";\n          div.style.left = 0;\n          div.style.top = (_this.aceEditor.session.documentToScreenRow(line, 0) * lineHeight - aceScrollTop) + \"px\";\n          div.className = 'droplet-transitioning-element droplet-transitioning-gutter droplet-gutter-line';\n          if (_this.annotations[line] != null) {\n            div.className += ' droplet_' + getMostSevereAnnotationType(_this.annotations[line]);\n          }\n          div.style.transition = \"left \" + translateTime + \"ms, top \" + translateTime + \"ms, font-size \" + translateTime + \"ms\";\n          translatingElements.push(div);\n          _this.dropletElement.appendChild(div);\n          fn2(div, line);\n        }\n        _this.mainCanvas.style.opacity = 0;\n        setTimeout((function() {\n          _this.mainCanvas.style.transition = \"opacity \" + fadeTime + \"ms linear\";\n          return _this.mainCanvas.style.opacity = 1;\n        }), translateTime);\n        _this.dropletElement.style.transition = \"left \" + fadeTime + \"ms\";\n        if (paletteAppearingWithFreeze) {\n          _this.paletteWrapper.style.transition = _this.dropletElement.style.transition;\n          _this.dropletElement.style.left = _this.paletteWrapper.clientWidth + \"px\";\n          _this.paletteWrapper.style.left = '0px';\n        }\n        return setTimeout((function() {\n          var l, len1;\n          _this.dropletElement.style.transition = _this.paletteWrapper.style.transition = '';\n          _this.showScrollbars();\n          _this.currentlyAnimating = false;\n          _this.lineNumberWrapper.style.display = 'block';\n          _this.redrawMain();\n          _this.paletteHeader.style.zIndex = 257;\n          for (l = 0, len1 = translatingElements.length; l < len1; l++) {\n            div = translatingElements[l];\n            div.parentNode.removeChild(div);\n          }\n          _this.resizeBlockMode();\n          _this.fireEvent('toggledone', [_this.session.currentlyUsingBlocks]);\n          if (cb != null) {\n            return cb();\n          }\n        }), translateTime + fadeTime);\n      };\n    })(this)), 0);\n    return {\n      success: true\n    };\n  }\n};\n\nEditor.prototype.enablePalette = function(enabled) {\n  var activeElement;\n  if (!this.currentlyAnimating && this.session.paletteEnabled !== enabled) {\n    this.session.paletteEnabled = enabled;\n    this.currentlyAnimating = true;\n    if (this.session.currentlyUsingBlocks) {\n      activeElement = this.dropletElement;\n    } else {\n      activeElement = this.aceElement;\n    }\n    if (!this.session.paletteEnabled) {\n      activeElement.style.transition = this.paletteWrapper.style.transition = \"left 500ms\";\n      activeElement.style.left = '0px';\n      this.paletteWrapper.style.left = (-this.paletteWrapper.clientWidth) + \"px\";\n      this.paletteHeader.style.zIndex = 0;\n      this.resize();\n      return setTimeout(((function(_this) {\n        return function() {\n          activeElement.style.transition = _this.paletteWrapper.style.transition = '';\n          _this.currentlyAnimating = false;\n          _this.redrawMain();\n          return _this.fireEvent('palettetoggledone', [_this.session.paletteEnabled]);\n        };\n      })(this)), 500);\n    } else {\n      this.paletteWrapper.style.top = '0px';\n      this.paletteWrapper.style.left = (-this.paletteWrapper.clientWidth) + \"px\";\n      this.paletteHeader.style.zIndex = 257;\n      return setTimeout(((function(_this) {\n        return function() {\n          activeElement.style.transition = _this.paletteWrapper.style.transition = \"left 500ms\";\n          activeElement.style.left = _this.paletteWrapper.clientWidth + \"px\";\n          _this.paletteWrapper.style.left = '0px';\n          return setTimeout((function() {\n            activeElement.style.transition = _this.paletteWrapper.style.transition = '';\n            _this.resize();\n            _this.currentlyAnimating = false;\n            _this.redrawMain();\n            return _this.fireEvent('palettetoggledone', [_this.session.paletteEnabled]);\n          }), 500);\n        };\n      })(this)), 0);\n    }\n  }\n};\n\nEditor.prototype.toggleBlocks = function(cb) {\n  if (this.session.currentlyUsingBlocks) {\n    return this.performMeltAnimation(500, 1000, cb);\n  } else {\n    return this.performFreezeAnimation(500, 500, cb);\n  }\n};\n\nhook('populate', 2, function() {\n  this.mainScroller = document.createElement('div');\n  this.mainScroller.className = 'droplet-main-scroller';\n  this.mainScroller.style.overflowX = 'hidden';\n  this.mainScrollerIntermediary = document.createElement('div');\n  this.mainScrollerIntermediary.className = 'droplet-main-scroller-intermediary';\n  this.mainScrollerStuffing = document.createElement('div');\n  this.mainScrollerStuffing.className = 'droplet-main-scroller-stuffing';\n  this.mainScroller.appendChild(this.sideScroller);\n  this.sideScroller.appendChild(this.mainCanvas);\n  this.dropletElement.appendChild(this.mainScroller);\n  this.wrapperElement.addEventListener('scroll', (function(_this) {\n    return function() {\n      return _this.wrapperElement.scrollTop = _this.wrapperElement.scrollLeft = 0;\n    };\n  })(this));\n  this.mainScroller.addEventListener('scroll', (function(_this) {\n    return function() {\n      _this.session.viewports.main.y = _this.mainScroller.scrollTop;\n      return _this.redrawMain();\n    };\n  })(this));\n  this.sideScroller.addEventListener('scroll', (function(_this) {\n    return function() {\n      _this.session.viewports.main.x = _this.sideScroller.scrollLeft;\n      return _this.resizeNubby();\n    };\n  })(this));\n  this.paletteScroller = document.createElement('div');\n  this.paletteScroller.className = 'droplet-palette-scroller';\n  this.paletteScroller.appendChild(this.paletteCanvas);\n  this.paletteScrollerStuffing = document.createElement('div');\n  this.paletteScrollerStuffing.className = 'droplet-palette-scroller-stuffing';\n  this.paletteScroller.appendChild(this.paletteScrollerStuffing);\n  this.paletteElement.appendChild(this.paletteScroller);\n  return this.paletteScroller.addEventListener('scroll', (function(_this) {\n    return function() {\n      _this.session.viewports.palette.y = _this.paletteScroller.scrollTop;\n      return _this.session.viewports.palette.x = _this.paletteScroller.scrollLeft;\n    };\n  })(this));\n});\n\nEditor.prototype.resizeMainScroller = function() {\n  this.mainScroller.style.width = this.dropletElement.clientWidth + \"px\";\n  this.mainScroller.style.height = this.dropletElement.clientHeight + \"px\";\n  return this.sideScroller.style.width = this.dropletElement.clientWidth + \"px\";\n};\n\nhook('resize_palette', 0, function() {\n  this.paletteScroller.style.top = (this.paletteHeader.clientHeight + PALETTE_HEADER_BOTTOM_BORDER_WIDTH) + \"px\";\n  this.session.viewports.palette.height = this.paletteScroller.clientHeight;\n  return this.session.viewports.palette.width = this.paletteScroller.clientWidth;\n});\n\nEditor.prototype.computeMainCanvasHeight = function() {\n  var bounds, height, ref1;\n  bounds = this.session.view.getViewNodeFor(this.session.tree).getBounds();\n  return height = Math.max(bounds.bottom() + ((ref1 = this.options.extraBottomHeight) != null ? ref1 : this.session.fontSize), this.dropletElement.clientHeight);\n};\n\nhook('redraw_main', 1, function() {\n  var bounds, height, j, len, record, ref1;\n  bounds = this.session.view.getViewNodeFor(this.session.tree).getBounds();\n  ref1 = this.session.floatingBlocks;\n  for (j = 0, len = ref1.length; j < len; j++) {\n    record = ref1[j];\n    bounds.unite(this.session.view.getViewNodeFor(record.block).getBounds());\n  }\n  height = this.computeMainCanvasHeight();\n  if (height !== this.lastHeight) {\n    this.lastHeight = height;\n    this.mainCanvas.setAttribute('height', height);\n    this.mainCanvas.style.height = height + \"px\";\n    return this.sideScroller.style.height = height + \"px\";\n  }\n});\n\nhook('redraw_palette', 0, function() {\n  var bounds, entry, j, len, ref1;\n  bounds = new this.draw.NoRectangle();\n  ref1 = this.session.currentPaletteBlocks;\n  for (j = 0, len = ref1.length; j < len; j++) {\n    entry = ref1[j];\n    bounds.unite(this.session.paletteView.getViewNodeFor(entry.block).getBounds());\n  }\n  return this.paletteScrollerStuffing.style.height = (bounds.bottom()) + \"px\";\n});\n\nhook('populate', 0, function() {\n  var metrics;\n  this.session.fontSize = 15;\n  this.session.fontFamily = 'Courier New';\n  this.measureCtx.font = '15px Courier New';\n  this.session.fontWidth = this.measureCtx.measureText(' ').width;\n  metrics = helper.fontMetrics(this.session.fontFamily, this.session.fontSize);\n  this.session.fontAscent = metrics.prettytop;\n  return this.session.fontDescent = metrics.descent;\n});\n\nEditor.prototype.setFontSize_raw = function(fontSize) {\n  var metrics;\n  if (this.session.fontSize !== fontSize) {\n    this.measureCtx.font = fontSize + ' px ' + this.session.fontFamily;\n    this.session.fontWidth = this.measureCtx.measureText(' ').width;\n    this.session.fontSize = fontSize;\n    this.paletteHeader.style.fontSize = fontSize + \"px\";\n    this.gutter.style.fontSize = fontSize + \"px\";\n    this.tooltipElement.style.fontSize = fontSize + \"px\";\n    this.session.view.opts.textHeight = this.session.paletteView.opts.textHeight = this.session.dragView.opts.textHeight = helper.getFontHeight(this.session.fontFamily, this.session.fontSize);\n    metrics = helper.fontMetrics(this.session.fontFamily, this.session.fontSize);\n    this.session.fontAscent = metrics.prettytop;\n    this.session.fontDescent = metrics.descent;\n    this.session.view.clearCache();\n    this.session.paletteView.clearCache();\n    this.session.dragView.clearCache();\n    this.session.view.draw.setGlobalFontSize(this.session.fontSize);\n    this.session.paletteView.draw.setGlobalFontSize(this.session.fontSize);\n    this.session.dragView.draw.setGlobalFontSize(this.session.fontSize);\n    this.gutter.style.width = this.aceEditor.renderer.$gutterLayer.gutterWidth + 'px';\n    this.redrawMain();\n    return this.rebuildPalette();\n  }\n};\n\nEditor.prototype.setFontFamily = function(fontFamily) {\n  this.measureCtx.font = this.session.fontSize + 'px ' + fontFamily;\n  this.draw.setGlobalFontFamily(fontFamily);\n  this.session.fontFamily = fontFamily;\n  this.session.view.opts.textHeight = helper.getFontHeight(this.session.fontFamily, this.session.fontSize);\n  this.session.fontAscent = helper.fontMetrics(this.session.fontFamily, this.session.fontSize).prettytop;\n  this.session.view.clearCache();\n  this.session.dragView.clearCache();\n  this.gutter.style.fontFamily = fontFamily;\n  this.tooltipElement.style.fontFamily = fontFamily;\n  this.redrawMain();\n  return this.rebuildPalette();\n};\n\nEditor.prototype.setFontSize = function(fontSize) {\n  this.setFontSize_raw(fontSize);\n  return this.resizeBlockMode();\n};\n\nEditor.prototype.getHighlightPath = function(model, style, view) {\n  var path;\n  if (view == null) {\n    view = this.session.view;\n  }\n  path = view.getViewNodeFor(model).path.clone();\n  path.style.fillColor = null;\n  path.style.strokeColor = style.color;\n  path.style.lineWidth = 3;\n  path.noclip = true;\n  path.bevel = false;\n  return path;\n};\n\nEditor.prototype.markLine = function(line, style) {\n  var block;\n  if (this.session == null) {\n    return;\n  }\n  block = this.session.tree.getBlockOnLine(line);\n  return this.session.view.getViewNodeFor(block).mark(style);\n};\n\nEditor.prototype.markBlock = function(block, style) {\n  if (this.session == null) {\n    return;\n  }\n  return this.session.view.getViewNodeFor(block).mark(style);\n};\n\nEditor.prototype.mark = function(location, style) {\n  var block, ref1;\n  if (this.session == null) {\n    return;\n  }\n  block = this.session.tree.getFromTextLocation(location);\n  block = (ref1 = block.container) != null ? ref1 : block;\n  this.session.view.getViewNodeFor(block).mark(style);\n  return this.redrawHighlights();\n};\n\nEditor.prototype.clearLineMarks = function() {\n  this.session.view.clearMarks();\n  return this.redrawHighlights();\n};\n\nhook('populate', 0, function() {\n  return this.lastHoveredLine = null;\n});\n\nhook('mousemove', 0, function(point, event, state) {\n  var hoveredLine, mainPoint, treeView;\n  if ((this.draggingBlock == null) && (this.clickedBlock == null) && this.hasEvent('linehover')) {\n    if (!this.trackerPointIsInMainScroller(point)) {\n      return;\n    }\n    mainPoint = this.trackerPointToMain(point);\n    treeView = this.session.view.getViewNodeFor(this.session.tree);\n    if ((this.lastHoveredLine != null) && (treeView.bounds[this.lastHoveredLine] != null) && treeView.bounds[this.lastHoveredLine].contains(mainPoint)) {\n      return;\n    }\n    hoveredLine = this.findLineNumberAtCoordinate(mainPoint.y);\n    if (!treeView.bounds[hoveredLine].contains(mainPoint)) {\n      hoveredLine = null;\n    }\n    if (hoveredLine !== this.lastHoveredLine) {\n      return this.fireEvent('linehover', [\n        {\n          line: this.lastHoveredLine = hoveredLine\n        }\n      ]);\n    }\n  }\n});\n\nhook('populate', 0, function() {\n  return this.trimWhitespace = false;\n});\n\nEditor.prototype.setTrimWhitespace = function(trimWhitespace) {\n  return this.trimWhitespace = trimWhitespace;\n};\n\nEditor.prototype.setValue_raw = function(value) {\n  var e, newParse, removal;\n  try {\n    if (this.trimWhitespace) {\n      value = value.trim();\n    }\n    newParse = this.session.mode.parse(value, {\n      wrapAtRoot: true,\n      preserveEmpty: this.session.options.preserveEmpty\n    });\n    if (this.session.tree.start.next !== this.session.tree.end) {\n      removal = new model.List(this.session.tree.start.next, this.session.tree.end.prev);\n      this.spliceOut(removal);\n    }\n    if (newParse.start.next !== newParse.end) {\n      this.spliceIn(new model.List(newParse.start.next, newParse.end.prev), this.session.tree.start);\n    }\n    this.removeBlankLines();\n    this.redrawMain();\n    return {\n      success: true\n    };\n  } catch (error) {\n    e = error;\n    return {\n      success: false,\n      error: e\n    };\n  }\n};\n\nEditor.prototype.setValue = function(value) {\n  var oldScrollTop, result;\n  if (this.session == null) {\n    return this.aceEditor.setValue(value);\n  }\n  oldScrollTop = this.aceEditor.session.getScrollTop();\n  this.setAceValue(value);\n  this.resizeTextMode();\n  this.aceEditor.session.setScrollTop(oldScrollTop);\n  if (this.session.currentlyUsingBlocks) {\n    result = this.setValue_raw(value);\n    if (result.success === false) {\n      this.setEditorState(false);\n      this.aceEditor.setValue(value);\n      if (result.error) {\n        return this.fireEvent('parseerror', [result.error]);\n      }\n    }\n  }\n};\n\nEditor.prototype.addEmptyLine = function(str) {\n  if (str.length === 0 || str[str.length - 1] === '\\n') {\n    return str;\n  } else {\n    return str + '\\n';\n  }\n};\n\nEditor.prototype.getValue = function() {\n  var ref1;\n  if ((ref1 = this.session) != null ? ref1.currentlyUsingBlocks : void 0) {\n    return this.addEmptyLine(this.session.tree.stringify({\n      preserveEmpty: this.session.options.preserveEmpty\n    }));\n  } else {\n    return this.getAceValue();\n  }\n};\n\nEditor.prototype.getAceValue = function() {\n  var value;\n  value = this.aceEditor.getValue();\n  return this.lastAceSeenValue = value;\n};\n\nEditor.prototype.setAceValue = function(value) {\n  if (value !== this.lastAceSeenValue) {\n    this.aceEditor.setValue(value, 1);\n    return this.lastAceSeenValue = value;\n  }\n};\n\nEditor.prototype.on = function(event, handler) {\n  return this.bindings[event] = handler;\n};\n\nEditor.prototype.once = function(event, handler) {\n  return this.bindings[event] = function() {\n    handler.apply(this, arguments);\n    return this.bindings[event] = null;\n  };\n};\n\nEditor.prototype.fireEvent = function(event, args) {\n  if (event in this.bindings) {\n    return this.bindings[event].apply(this, args);\n  }\n};\n\nEditor.prototype.hasEvent = function(event) {\n  return event in this.bindings && (this.bindings[event] != null);\n};\n\nEditor.prototype.setEditorState = function(useBlocks) {\n  var oldScrollTop, paletteVisibleInNewState, ref1, ref2, ref3;\n  this.mainCanvas.style.transition = this.paletteWrapper.style.transition = this.highlightCanvas.style.transition = '';\n  if (useBlocks) {\n    if (this.session == null) {\n      throw new ArgumentError('cannot switch to blocks if a session has not been set up.');\n    }\n    if (!this.session.currentlyUsingBlocks) {\n      this.setValue_raw(this.getAceValue());\n    }\n    this.dropletElement.style.top = '0px';\n    if (this.session.paletteEnabled) {\n      this.paletteWrapper.style.top = this.paletteWrapper.style.left = '0px';\n      this.dropletElement.style.left = this.paletteWrapper.clientWidth + \"px\";\n    } else {\n      this.paletteWrapper.style.top = '0px';\n      this.paletteWrapper.style.left = (-this.paletteWrapper.clientWidth) + \"px\";\n      this.dropletElement.style.left = '0px';\n    }\n    this.aceElement.style.top = this.aceElement.style.left = '-9999px';\n    this.session.currentlyUsingBlocks = true;\n    this.lineNumberWrapper.style.display = 'block';\n    this.mainCanvas.style.opacity = this.highlightCanvas.style.opacity = 1;\n    this.resizeBlockMode();\n    return this.redrawMain();\n  } else {\n    if ((this.session != null) && !this.session.options.preserveEmpty && !this.checkAndHighlightEmptySockets()) {\n      this.redrawMain();\n      return;\n    }\n    this.hideDropdown();\n    paletteVisibleInNewState = ((ref1 = this.session) != null ? ref1.paletteEnabled : void 0) && this.session.showPaletteInTextMode;\n    oldScrollTop = this.aceEditor.session.getScrollTop();\n    if ((ref2 = this.session) != null ? ref2.currentlyUsingBlocks : void 0) {\n      this.setAceValue(this.getValue());\n    }\n    this.aceEditor.resize(true);\n    this.aceEditor.session.setScrollTop(oldScrollTop);\n    this.dropletElement.style.top = this.dropletElement.style.left = '-9999px';\n    if (paletteVisibleInNewState) {\n      this.paletteWrapper.style.top = this.paletteWrapper.style.left = '0px';\n    } else {\n      this.paletteWrapper.style.top = '0px';\n      this.paletteWrapper.style.left = (-this.paletteWrapper.clientWidth) + \"px\";\n    }\n    this.aceElement.style.top = '0px';\n    if (paletteVisibleInNewState) {\n      this.aceElement.style.left = this.paletteWrapper.clientWidth + \"px\";\n    } else {\n      this.aceElement.style.left = '0px';\n    }\n    if ((ref3 = this.session) != null) {\n      ref3.currentlyUsingBlocks = false;\n    }\n    this.lineNumberWrapper.style.display = 'none';\n    this.mainCanvas.style.opacity = this.highlightCanvas.style.opacity = 0;\n    return this.resizeBlockMode();\n  }\n};\n\nhook('populate', 0, function() {\n  this.dragCover = document.createElement('div');\n  this.dragCover.className = 'droplet-drag-cover';\n  this.dragCover.style.display = 'none';\n  return document.body.appendChild(this.dragCover);\n});\n\nhook('mousedown', -1, function() {\n  if (this.clickedBlock != null) {\n    return this.dragCover.style.display = 'block';\n  }\n});\n\nhook('mouseup', 0, function() {\n  this.dragCanvas.style.transform = \"translate(-9999px, -9999px)\";\n  return this.dragCover.style.display = 'none';\n});\n\nhook('mousedown', 10, function() {\n  if (this.draggingBlock != null) {\n    return this.endDrag();\n  }\n});\n\nEditor.prototype.endDrag = function() {\n  var ref1;\n  if (this.cursorAtSocket()) {\n    this.setCursor(this.session.cursor, function(x) {\n      return x.type !== 'socketStart';\n    });\n  }\n  this.clearDrag();\n  this.draggingBlock = null;\n  this.draggingOffset = null;\n  if ((ref1 = this.lastHighlightPath) != null) {\n    if (typeof ref1.deactivate === \"function\") {\n      ref1.deactivate();\n    }\n  }\n  this.lastHighlight = this.lastHighlightPath = null;\n  this.redrawMain();\n};\n\nhook('rebuild_palette', 0, function() {\n  return this.fireEvent('changepalette', []);\n});\n\ntouchEvents = {\n  'touchstart': 'mousedown',\n  'touchmove': 'mousemove',\n  'touchend': 'mouseup'\n};\n\nTOUCH_SELECTION_TIMEOUT = 1000;\n\nEditor.prototype.touchEventToPoint = function(event, index) {\n  var absolutePoint;\n  absolutePoint = new this.draw.Point(event.changedTouches[index].clientX, event.changedTouches[index].clientY);\n  return absolutePoint;\n};\n\nEditor.prototype.queueLassoMousedown = function(trackPoint, event) {\n  return this.lassoSelectStartTimeout = setTimeout(((function(_this) {\n    return function() {\n      var handler, j, len, ref1, results, state;\n      state = {};\n      ref1 = editorBindings.mousedown;\n      results = [];\n      for (j = 0, len = ref1.length; j < len; j++) {\n        handler = ref1[j];\n        results.push(handler.call(_this, trackPoint, event, state));\n      }\n      return results;\n    };\n  })(this)), TOUCH_SELECTION_TIMEOUT);\n};\n\nhook('populate', 0, function() {\n  this.touchScrollAnchor = new this.draw.Point(0, 0);\n  this.lassoSelectStartTimeout = null;\n  this.wrapperElement.addEventListener('touchstart', (function(_this) {\n    return function(event) {\n      var handler, j, len, ref1, state, trackPoint;\n      clearTimeout(_this.lassoSelectStartTimeout);\n      trackPoint = _this.touchEventToPoint(event, 0);\n      state = {\n        suppressLassoSelect: true\n      };\n      ref1 = editorBindings.mousedown;\n      for (j = 0, len = ref1.length; j < len; j++) {\n        handler = ref1[j];\n        handler.call(_this, trackPoint, event, state);\n      }\n      if (state.consumedHitTest) {\n        return event.preventDefault();\n      } else {\n        return _this.queueLassoMousedown(trackPoint, event);\n      }\n    };\n  })(this));\n  this.wrapperElement.addEventListener('touchmove', (function(_this) {\n    return function(event) {\n      var handler, j, len, ref1, state, trackPoint;\n      clearTimeout(_this.lassoSelectStartTimeout);\n      trackPoint = _this.touchEventToPoint(event, 0);\n      if (!((_this.clickedBlock != null) || (_this.draggingBlock != null))) {\n        _this.queueLassoMousedown(trackPoint, event);\n      }\n      state = {};\n      ref1 = editorBindings.mousemove;\n      for (j = 0, len = ref1.length; j < len; j++) {\n        handler = ref1[j];\n        handler.call(_this, trackPoint, event, state);\n      }\n      if ((_this.clickedBlock != null) || (_this.draggingBlock != null) || (_this.lassoSelectAnchor != null) || _this.textInputSelecting) {\n        return event.preventDefault();\n      }\n    };\n  })(this));\n  return this.wrapperElement.addEventListener('touchend', (function(_this) {\n    return function(event) {\n      var handler, j, len, ref1, state, trackPoint;\n      clearTimeout(_this.lassoSelectStartTimeout);\n      trackPoint = _this.touchEventToPoint(event, 0);\n      state = {};\n      ref1 = editorBindings.mouseup;\n      for (j = 0, len = ref1.length; j < len; j++) {\n        handler = ref1[j];\n        handler.call(_this, trackPoint, event, state);\n      }\n      return event.preventDefault();\n    };\n  })(this));\n});\n\nhook('populate', 0, function() {\n  var cursorElement;\n  this.cursorCtx = document.createElementNS(SVG_STANDARD, 'g');\n  this.textCursorPath = new this.session.view.draw.Path([], false, {\n    'strokeColor': '#000',\n    'lineWidth': '2',\n    'fillColor': 'rgba(0, 0, 256, 0.3)',\n    'cssClass': 'droplet-cursor-path'\n  });\n  this.textCursorPath.setParent(this.mainCanvas);\n  cursorElement = document.createElementNS(SVG_STANDARD, 'path');\n  cursorElement.setAttribute('fill', 'none');\n  cursorElement.setAttribute('stroke', '#000');\n  cursorElement.setAttribute('stroke-width', '3');\n  cursorElement.setAttribute('stroke-linecap', 'round');\n  cursorElement.setAttribute('d', (\"M\" + (this.session.view.opts.tabOffset + CURSOR_WIDTH_DECREASE / 2) + \" 0 \") + (\"Q\" + (this.session.view.opts.tabOffset + this.session.view.opts.tabWidth / 2) + \" \" + this.session.view.opts.tabHeight) + (\" \" + (this.session.view.opts.tabOffset + this.session.view.opts.tabWidth - CURSOR_WIDTH_DECREASE / 2) + \" 0\"));\n  this.cursorPath = new this.session.view.draw.ElementWrapper(cursorElement);\n  this.cursorPath.setParent(this.mainCanvas);\n  return this.mainCanvas.appendChild(this.cursorCtx);\n});\n\nEditor.prototype.strokeCursor = function(point) {\n  if (point == null) {\n    return;\n  }\n  this.cursorPath.element.setAttribute('transform', \"translate(\" + point.x + \", \" + point.y + \")\");\n  return this.qualifiedFocus(this.getCursor(), this.cursorPath);\n};\n\nEditor.prototype.highlightFlashShow = function() {\n  if (this.session == null) {\n    return;\n  }\n  if (this.flashTimeout != null) {\n    clearTimeout(this.flashTimeout);\n  }\n  if (this.cursorAtSocket()) {\n    this.textCursorPath.activate();\n  } else {\n    this.cursorPath.activate();\n  }\n  this.highlightsCurrentlyShown = true;\n  return this.flashTimeout = setTimeout(((function(_this) {\n    return function() {\n      return _this.flash();\n    };\n  })(this)), 500);\n};\n\nEditor.prototype.highlightFlashHide = function() {\n  if (this.session == null) {\n    return;\n  }\n  if (this.flashTimeout != null) {\n    clearTimeout(this.flashTimeout);\n  }\n  if (this.cursorAtSocket()) {\n    this.textCursorPath.deactivate();\n  } else {\n    this.cursorPath.deactivate();\n  }\n  this.highlightsCurrentlyShown = false;\n  return this.flashTimeout = setTimeout(((function(_this) {\n    return function() {\n      return _this.flash();\n    };\n  })(this)), 500);\n};\n\nEditor.prototype.editorHasFocus = function() {\n  var ref1;\n  return ((ref1 = document.activeElement) === this.dropletElement || ref1 === this.hiddenInput || ref1 === this.copyPasteInput) && document.hasFocus();\n};\n\nEditor.prototype.flash = function() {\n  if (this.session == null) {\n    return;\n  }\n  if ((this.lassoSelection != null) || (this.draggingBlock != null) || (this.cursorAtSocket() && this.textInputHighlighted) || !this.highlightsCurrentlyShown || !this.editorHasFocus()) {\n    return this.highlightFlashShow();\n  } else {\n    return this.highlightFlashHide();\n  }\n};\n\nhook('populate', 0, function() {\n  var blurCursors, focusCursors;\n  this.highlightsCurrentlyShown = false;\n  blurCursors = (function(_this) {\n    return function() {\n      _this.highlightFlashShow();\n      return _this.cursorCtx.style.opacity = CURSOR_UNFOCUSED_OPACITY;\n    };\n  })(this);\n  this.dropletElement.addEventListener('blur', blurCursors);\n  this.hiddenInput.addEventListener('blur', blurCursors);\n  this.copyPasteInput.addEventListener('blur', blurCursors);\n  focusCursors = (function(_this) {\n    return function() {\n      _this.highlightFlashShow();\n      _this.cursorCtx.style.transition = '';\n      return _this.cursorCtx.style.opacity = 1;\n    };\n  })(this);\n  this.dropletElement.addEventListener('focus', focusCursors);\n  this.hiddenInput.addEventListener('focus', focusCursors);\n  this.copyPasteInput.addEventListener('focus', focusCursors);\n  return this.flashTimeout = setTimeout(((function(_this) {\n    return function() {\n      return _this.flash();\n    };\n  })(this)), 0);\n});\n\nEditor.prototype.viewOrChildrenContains = function(model, point, view) {\n  var childObj, j, len, modelView, ref1;\n  if (view == null) {\n    view = this.session.view;\n  }\n  modelView = view.getViewNodeFor(model);\n  if (modelView.path.contains(point)) {\n    return true;\n  }\n  ref1 = modelView.children;\n  for (j = 0, len = ref1.length; j < len; j++) {\n    childObj = ref1[j];\n    if (this.session.viewOrChildrenContains(childObj.child, point, view)) {\n      return true;\n    }\n  }\n  return false;\n};\n\nhook('populate', 0, function() {\n  this.gutter = document.createElement('div');\n  this.gutter.className = 'droplet-gutter';\n  this.lineNumberWrapper = document.createElement('div');\n  this.gutter.appendChild(this.lineNumberWrapper);\n  this.gutterVersion = -1;\n  this.lastGutterWidth = null;\n  this.lineNumberTags = {};\n  this.mainScroller.appendChild(this.gutter);\n  this.annotations = {};\n  this.breakpoints = {};\n  this.tooltipElement = document.createElement('div');\n  this.tooltipElement.className = 'droplet-tooltip';\n  this.dropletElement.appendChild(this.tooltipElement);\n  return this.aceEditor.on('guttermousedown', (function(_this) {\n    return function(e) {\n      var row, target;\n      target = e.domEvent.target;\n      if (target.className.indexOf('ace_gutter-cell') === -1) {\n        return;\n      }\n      row = e.getDocumentPosition().row;\n      e.stop();\n      return _this.fireEvent('guttermousedown', [\n        {\n          line: row,\n          event: e.domEvent\n        }\n      ]);\n    };\n  })(this));\n});\n\nhook('mousedown', 11, function(point, event, state) {\n  var clickedLine, mainPoint, treeView;\n  if (!this.trackerPointIsInGutter(point)) {\n    return;\n  }\n  mainPoint = this.trackerPointToMain(point);\n  treeView = this.session.view.getViewNodeFor(this.session.tree);\n  clickedLine = this.findLineNumberAtCoordinate(mainPoint.y);\n  this.fireEvent('guttermousedown', [\n    {\n      line: clickedLine,\n      event: event\n    }\n  ]);\n  return true;\n});\n\nEditor.prototype.setBreakpoint = function(row) {\n  this.aceEditor.session.setBreakpoint(row);\n  this.breakpoints[row] = true;\n  return this.redrawGutter(false);\n};\n\nEditor.prototype.clearBreakpoint = function(row) {\n  this.aceEditor.session.clearBreakpoint(row);\n  this.breakpoints[row] = false;\n  return this.redrawGutter(false);\n};\n\nEditor.prototype.clearBreakpoints = function(row) {\n  this.aceEditor.session.clearBreakpoints();\n  this.breakpoints = {};\n  return this.redrawGutter(false);\n};\n\nEditor.prototype.getBreakpoints = function(row) {\n  return this.aceEditor.session.getBreakpoints();\n};\n\nEditor.prototype.setAnnotations = function(annotations) {\n  var base, el, i, j, len, name;\n  this.aceEditor.session.setAnnotations(annotations);\n  this.annotations = {};\n  for (i = j = 0, len = annotations.length; j < len; i = ++j) {\n    el = annotations[i];\n    if ((base = this.annotations)[name = el.row] == null) {\n      base[name] = [];\n    }\n    this.annotations[el.row].push(el);\n  }\n  return this.redrawGutter(false);\n};\n\nEditor.prototype.resizeGutter = function() {\n  var gutterHeight;\n  if (this.lastGutterWidth !== this.aceEditor.renderer.$gutterLayer.gutterWidth) {\n    this.lastGutterWidth = this.aceEditor.renderer.$gutterLayer.gutterWidth;\n    this.gutter.style.width = this.lastGutterWidth + 'px';\n    return this.resize();\n  }\n  gutterHeight = Math.max(this.dropletElement.clientHeight, this.computeMainCanvasHeight());\n  if (this.lastGutterHeight !== gutterHeight) {\n    this.lastGutterHeight = gutterHeight;\n    return this.gutter.style.height = this.lastGutterHeight + 'px';\n  }\n};\n\nEditor.prototype.addLineNumberForLine = function(line) {\n  var lineDiv, title, treeView;\n  treeView = this.session.view.getViewNodeFor(this.session.tree);\n  if (line in this.lineNumberTags) {\n    lineDiv = this.lineNumberTags[line].tag;\n  } else {\n    lineDiv = document.createElement('div');\n    lineDiv.innerText = lineDiv.textContent = line + 1;\n    this.lineNumberTags[line] = {\n      tag: lineDiv,\n      lastPosition: null\n    };\n  }\n  lineDiv.className = 'droplet-gutter-line';\n  if (this.annotations[line] != null) {\n    lineDiv.className += ' droplet_' + getMostSevereAnnotationType(this.annotations[line]);\n    title = this.annotations[line].map(function(x) {\n      return x.text;\n    }).join('\\n');\n    lineDiv.addEventListener('mouseover', (function(_this) {\n      return function() {\n        _this.tooltipElement.innerText = _this.tooltipElement.textContent = title;\n        return _this.tooltipElement.style.display = 'block';\n      };\n    })(this));\n    lineDiv.addEventListener('mousemove', (function(_this) {\n      return function(event) {\n        _this.tooltipElement.style.left = event.pageX + 'px';\n        return _this.tooltipElement.style.top = event.pageY + 'px';\n      };\n    })(this));\n    lineDiv.addEventListener('mouseout', (function(_this) {\n      return function() {\n        return _this.tooltipElement.style.display = 'none';\n      };\n    })(this));\n  }\n  if (this.breakpoints[line]) {\n    lineDiv.className += ' droplet_breakpoint';\n  }\n  lineDiv.style.top = treeView.bounds[line].y + \"px\";\n  lineDiv.style.paddingTop = (treeView.distanceToBase[line].above - this.session.view.opts.textHeight - this.session.fontAscent) + \"px\";\n  lineDiv.style.paddingBottom = \"\" + (treeView.distanceToBase[line].below - this.session.fontDescent);\n  lineDiv.style.height = treeView.bounds[line].height + 'px';\n  lineDiv.style.fontSize = this.session.fontSize + 'px';\n  this.lineNumberWrapper.appendChild(lineDiv);\n  return this.lineNumberTags[line].lastPosition = treeView.bounds[line].y;\n};\n\nTYPE_SEVERITY = {\n  'error': 2,\n  'warning': 1,\n  'info': 0\n};\n\nTYPE_FROM_SEVERITY = ['info', 'warning', 'error'];\n\ngetMostSevereAnnotationType = function(arr) {\n  return TYPE_FROM_SEVERITY[Math.max.apply(this, arr.map(function(x) {\n    return TYPE_SEVERITY[x.type];\n  }))];\n};\n\nEditor.prototype.findLineNumberAtCoordinate = function(coord) {\n  var end, pivot, start, treeView;\n  treeView = this.session.view.getViewNodeFor(this.session.tree);\n  start = 0;\n  end = treeView.bounds.length;\n  pivot = Math.floor((start + end) / 2);\n  while (treeView.bounds[pivot].y !== coord && start < end) {\n    if (start === pivot || end === pivot) {\n      return pivot;\n    }\n    if (treeView.bounds[pivot].y > coord) {\n      end = pivot;\n    } else {\n      start = pivot;\n    }\n    if (end < 0) {\n      return 0;\n    }\n    if (start >= treeView.bounds.length) {\n      return treeView.bounds.length - 1;\n    }\n    pivot = Math.floor((start + end) / 2);\n  }\n  return pivot;\n};\n\nhook('redraw_main', 0, function(changedBox) {\n  return this.redrawGutter(changedBox);\n});\n\nEditor.prototype.redrawGutter = function(changedBox) {\n  var bottom, j, line, ref1, ref2, ref3, tag, top, treeView;\n  if (changedBox == null) {\n    changedBox = true;\n  }\n  if (this.session == null) {\n    return;\n  }\n  treeView = this.session.view.getViewNodeFor(this.session.tree);\n  top = this.findLineNumberAtCoordinate(this.session.viewports.main.y);\n  bottom = this.findLineNumberAtCoordinate(this.session.viewports.main.bottom());\n  for (line = j = ref1 = top, ref2 = bottom; ref1 <= ref2 ? j <= ref2 : j >= ref2; line = ref1 <= ref2 ? ++j : --j) {\n    this.addLineNumberForLine(line);\n  }\n  ref3 = this.lineNumberTags;\n  for (line in ref3) {\n    tag = ref3[line];\n    if (line < top || line > bottom) {\n      this.lineNumberTags[line].tag.parentNode.removeChild(this.lineNumberTags[line].tag);\n      delete this.lineNumberTags[line];\n    }\n  }\n  if (changedBox) {\n    return this.resizeGutter();\n  }\n};\n\nEditor.prototype.setPaletteWidth = function(width) {\n  this.paletteWrapper.style.width = width + 'px';\n  return this.resizeBlockMode();\n};\n\nhook('populate', 1, function() {\n  var pressedVKey, pressedXKey;\n  this.copyPasteInput = document.createElement('textarea');\n  this.copyPasteInput.style.position = 'absolute';\n  this.copyPasteInput.style.left = this.copyPasteInput.style.top = '-9999px';\n  this.dropletElement.appendChild(this.copyPasteInput);\n  pressedVKey = false;\n  pressedXKey = false;\n  this.copyPasteInput.addEventListener('keydown', function(event) {\n    pressedVKey = pressedXKey = false;\n    if (event.keyCode === 86) {\n      return pressedVKey = true;\n    } else if (event.keyCode === 88) {\n      return pressedXKey = true;\n    }\n  });\n  return this.copyPasteInput.addEventListener('input', (function(_this) {\n    return function() {\n      var blocks, e, lines, minIndent, str;\n      if ((_this.session == null) || _this.session.readOnly) {\n        return;\n      }\n      if (pressedVKey && !_this.cursorAtSocket()) {\n        str = _this.copyPasteInput.value;\n        lines = str.split('\\n');\n        minIndent = lines.map(function(line) {\n          return line.length - line.trimLeft().length;\n        }).reduce(function(a, b) {\n          return Math.min(a, b);\n        });\n        str = lines.map(function(line) {\n          return line.slice(minIndent);\n        }).join('\\n');\n        str = str.replace(/^\\n*|\\n*$/g, '');\n        try {\n          blocks = _this.session.mode.parse(str, {\n            context: _this.getCursor().parent.parseContext\n          });\n          blocks = new model.List(blocks.start.next, blocks.end.prev);\n        } catch (error) {\n          e = error;\n          blocks = null;\n        }\n        if (blocks == null) {\n          return;\n        }\n        _this.undoCapture();\n        _this.spliceIn(blocks, _this.getCursor());\n        _this.setCursor(blocks.end);\n        _this.redrawMain();\n        return _this.copyPasteInput.setSelectionRange(0, _this.copyPasteInput.value.length);\n      } else if (pressedXKey && (_this.lassoSelection != null)) {\n        _this.spliceOut(_this.lassoSelection);\n        _this.lassoSelection = null;\n        return _this.redrawMain();\n      }\n    };\n  })(this));\n});\n\nhook('keydown', 0, function(event, state) {\n  var ref1, x, y;\n  if (ref1 = event.which, indexOf.call(command_modifiers, ref1) >= 0) {\n    if (!this.cursorAtSocket()) {\n      x = document.body.scrollLeft;\n      y = document.body.scrollTop;\n      this.copyPasteInput.focus();\n      window.scrollTo(x, y);\n      if (this.lassoSelection != null) {\n        this.copyPasteInput.value = this.lassoSelection.stringifyInPlace();\n      }\n      return this.copyPasteInput.setSelectionRange(0, this.copyPasteInput.value.length);\n    }\n  }\n});\n\nhook('keyup', 0, function(point, event, state) {\n  var ref1;\n  if (ref1 = event.which, indexOf.call(command_modifiers, ref1) >= 0) {\n    if (this.cursorAtSocket()) {\n      return this.hiddenInput.focus();\n    } else {\n      return this.dropletElement.focus();\n    }\n  }\n});\n\nEditor.prototype.overflowsX = function() {\n  return this.documentDimensions().width > this.session.viewportDimensions().width;\n};\n\nEditor.prototype.overflowsY = function() {\n  return this.documentDimensions().height > this.session.viewportDimensions().height;\n};\n\nEditor.prototype.documentDimensions = function() {\n  var bounds;\n  bounds = this.session.view.getViewNodeFor(this.session.tree).totalBounds;\n  return {\n    width: bounds.width,\n    height: bounds.height\n  };\n};\n\nEditor.prototype.viewportDimensions = function() {\n  return this.session.viewports.main;\n};\n\nEditor.prototype.getLineMetrics = function(row) {\n  var bounds, viewNode;\n  viewNode = this.session.view.getViewNodeFor(this.session.tree);\n  bounds = (new this.session.view.draw.Rectangle()).copy(viewNode.bounds[row]);\n  bounds.x += this.mainCanvas.offsetLeft + this.mainCanvas.offsetParent.offsetLeft;\n  return {\n    bounds: bounds,\n    distanceToBase: {\n      above: viewNode.distanceToBase[row].above,\n      below: viewNode.distanceToBase[row].below\n    }\n  };\n};\n\nEditor.prototype.dumpNodeForDebug = function(hitTestResult, line) {\n  console.log('Model node:');\n  console.log(hitTestResult.serialize());\n  console.log('View node:');\n  return console.log(this.session.view.getViewNodeFor(hitTestResult).serialize(line));\n};\n\nfor (key in unsortedEditorBindings) {\n  unsortedEditorBindings[key].sort(function(a, b) {\n    if (a.priority > b.priority) {\n      return -1;\n    } else {\n      return 1;\n    }\n  });\n  editorBindings[key] = [];\n  ref1 = unsortedEditorBindings[key];\n  for (j = 0, len = ref1.length; j < len; j++) {\n    binding = ref1[j];\n    editorBindings[key].push(binding.fn);\n  }\n}\n\n\n},{\"../vendor/quadtree.js\":36,\"./draw.coffee\":27,\"./helper.coffee\":28,\"./model.coffee\":31,\"./modes.coffee\":32,\"./view.coffee\":34}],27:[function(require,module,exports){\nvar BEVEL_SIZE, Draw, EPSILON, Point, Rectangle, SVG_STANDARD, Size, ZERO, _area, _bisector, _collinear, _intersects, avgColor, helper, max, memoizedAvgColor, min, toHex, toRGB, twoDigitHex, zeroPad,\n  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty,\n  modulo = function(a, b) { return (+a % (b = +b) + b) % b; };\n\nBEVEL_SIZE = 1.5;\n\nEPSILON = 0.00001;\n\nhelper = require('./helper.coffee');\n\nSVG_STANDARD = helper.SVG_STANDARD;\n\n_area = function(a, b, c) {\n  return (b.x - a.x) * (c.y - a.y) - (c.x - a.x) * (b.y - a.y);\n};\n\n_intersects = function(a, b, c, d) {\n  return ((_area(a, b, c) > 0) !== (_area(a, b, d) > 0)) && ((_area(c, d, a) > 0) !== (_area(c, d, b) > 0));\n};\n\n_bisector = function(a, b, c, magnitude) {\n  var diagonal, sample, sampleB, scalar;\n  if (magnitude == null) {\n    magnitude = 1;\n  }\n  if (a.equals(b) || b.equals(c)) {\n    return null;\n  }\n  sample = a.from(b).normalize();\n  diagonal = sample.plus(sampleB = c.from(b).normalize());\n  if (diagonal.almostEquals(ZERO)) {\n    return null;\n  } else if (sample.almostEquals(sampleB)) {\n    return null;\n  }\n  diagonal = diagonal.normalize();\n  scalar = magnitude / Math.sqrt(1 - Math.pow(diagonal.dot(sample), 2));\n  diagonal.x *= scalar;\n  diagonal.y *= scalar;\n  if (_area(a, b, c) < 0) {\n    diagonal.x *= -1;\n    diagonal.y *= -1;\n  }\n  return diagonal;\n};\n\nmax = function(a, b) {\n  return (a > b ? a : b);\n};\n\nmin = function(a, b) {\n  return (b > a ? a : b);\n};\n\ntoRGB = function(hex) {\n  var b, c, g, r;\n  if (hex.length === 4) {\n    hex = ((function() {\n      var l, len1, results;\n      results = [];\n      for (l = 0, len1 = hex.length; l < len1; l++) {\n        c = hex[l];\n        results.push(c + c);\n      }\n      return results;\n    })()).join('').slice(1);\n  }\n  r = parseInt(hex.slice(1, 3), 16);\n  g = parseInt(hex.slice(3, 5), 16);\n  b = parseInt(hex.slice(5, 7), 16);\n  return [r, g, b];\n};\n\nzeroPad = function(str, len) {\n  if (str.length < len) {\n    return ((function() {\n      var l, ref, ref1, results;\n      results = [];\n      for (l = ref = str.length, ref1 = len; ref <= ref1 ? l < ref1 : l > ref1; ref <= ref1 ? l++ : l--) {\n        results.push('0');\n      }\n      return results;\n    })()).join('') + str;\n  } else {\n    return str;\n  }\n};\n\ntwoDigitHex = function(n) {\n  return zeroPad(Math.round(n).toString(16), 2);\n};\n\ntoHex = function(rgb) {\n  var k;\n  return '#' + ((function() {\n    var l, len1, results;\n    results = [];\n    for (l = 0, len1 = rgb.length; l < len1; l++) {\n      k = rgb[l];\n      results.push(twoDigitHex(k));\n    }\n    return results;\n  })()).join('');\n};\n\nmemoizedAvgColor = {};\n\navgColor = function(a, factor, b) {\n  var c, i, k, newRGB;\n  c = a + ',' + factor + ',' + b;\n  if (c in memoizedAvgColor) {\n    return memoizedAvgColor[c];\n  }\n  a = toRGB(a);\n  b = toRGB(b);\n  newRGB = (function() {\n    var l, len1, results;\n    results = [];\n    for (i = l = 0, len1 = a.length; l < len1; i = ++l) {\n      k = a[i];\n      results.push(a[i] * factor + b[i] * (1 - factor));\n    }\n    return results;\n  })();\n  return memoizedAvgColor[c] = toHex(newRGB);\n};\n\nexports.Draw = Draw = (function() {\n  function Draw(ctx) {\n    var ElementWrapper, Group, NoRectangle, Path, Text, canvas, self;\n    this.ctx = ctx;\n    canvas = document.createElement('canvas');\n    this.measureCtx = canvas.getContext('2d');\n    this.fontSize = 15;\n    this.fontFamily = 'Courier New, monospace';\n    this.fontAscent = -2;\n    this.fontBaseline = 10;\n    this.measureCtx.font = this.fontSize + \"px \" + this.fontFamily;\n    this.ctx.style.fontFamily = this.fontFamily;\n    this.ctx.style.fontSize = this.fontSize;\n    self = this;\n    this.Point = Point;\n    this.Size = Size;\n    this.Rectangle = Rectangle;\n    this.NoRectangle = NoRectangle = (function(superClass) {\n      extend(NoRectangle, superClass);\n\n      function NoRectangle() {\n        NoRectangle.__super__.constructor.call(this, null, null, 0, 0);\n      }\n\n      return NoRectangle;\n\n    })(Rectangle);\n    this.ElementWrapper = ElementWrapper = (function() {\n      function ElementWrapper(element1) {\n        var ref, ref1;\n        this.element = element1;\n        if (this.element != null) {\n          this.element.style.display = 'none';\n        }\n        this.active = false;\n        this.parent = (ref = (ref1 = this.element) != null ? ref1.parentNode : void 0) != null ? ref : self.ctx;\n      }\n\n      ElementWrapper.prototype.manifest = function() {\n        if (this.element == null) {\n          this.element = this.makeElement();\n          this.getParentElement().appendChild(this.element);\n          if (!this.active) {\n            return this.element.style.display = 'none';\n          }\n        } else if (this.element.parentNode == null) {\n          return this.getParentElement().appendChild(this.element);\n        }\n      };\n\n      ElementWrapper.prototype.deactivate = function() {\n        var ref, ref1;\n        if (this.active) {\n          this.active = false;\n          return (ref = this.element) != null ? (ref1 = ref.style) != null ? ref1.display = 'none' : void 0 : void 0;\n        }\n      };\n\n      ElementWrapper.prototype.activate = function() {\n        var ref, ref1;\n        this.manifest();\n        if (!this.active) {\n          this.active = true;\n          return (ref = this.element) != null ? (ref1 = ref.style) != null ? ref1.display = '' : void 0 : void 0;\n        }\n      };\n\n      ElementWrapper.prototype.focus = function() {\n        this.activate();\n        return this.getParentElement().appendChild(this.element);\n      };\n\n      ElementWrapper.prototype.getParentElement = function() {\n        if (this.parent instanceof ElementWrapper) {\n          this.parent.manifest();\n          return this.parent.element;\n        } else {\n          return this.parent;\n        }\n      };\n\n      ElementWrapper.prototype.setParent = function(parent) {\n        this.parent = parent;\n        if (this.element != null) {\n          parent = this.getParentElement();\n          if (parent !== this.element.parentNode) {\n            return parent.appendChild(this.element);\n          }\n        }\n      };\n\n      ElementWrapper.prototype.destroy = function() {\n        if (this.element != null) {\n          if (this.element.parentNode != null) {\n            return this.element.parentNode.removeChild(this.element);\n          }\n        }\n      };\n\n      return ElementWrapper;\n\n    })();\n    this.Group = Group = (function(superClass) {\n      extend(Group, superClass);\n\n      function Group() {\n        Group.__super__.constructor.call(this);\n      }\n\n      Group.prototype.makeElement = function() {\n        return document.createElementNS(SVG_STANDARD, 'g');\n      };\n\n      return Group;\n\n    })(ElementWrapper);\n    this.Path = Path = (function(superClass) {\n      extend(Path, superClass);\n\n      function Path(_points, bevel, style1) {\n        this._points = _points != null ? _points : [];\n        this.bevel = bevel != null ? bevel : false;\n        this.style = style1;\n        this._cachedTranslation = new Point(0, 0);\n        this._cacheFlag = true;\n        this._bounds = new NoRectangle();\n        this._clearCache();\n        this.style = helper.extend({\n          'strokeColor': 'none',\n          'lineWidth': 1,\n          'fillColor': 'none',\n          'dotted': ''\n        }, this.style);\n        Path.__super__.constructor.call(this);\n      }\n\n      Path.prototype._clearCache = function() {\n        var i, insetCoord, insidePoints, l, len1, len2, len3, m, maxX, maxY, minX, minY, o, outsidePoints, point, ref, ref1, ref2, subpaths;\n        if (this._cacheFlag) {\n          if (this._points.length === 0) {\n            this._bounds = new NoRectangle();\n            return this._lightBevelPath = this._darkBevelPath = '';\n          } else {\n            minX = minY = 2e308;\n            maxX = maxY = 0;\n            ref = this._points;\n            for (l = 0, len1 = ref.length; l < len1; l++) {\n              point = ref[l];\n              minX = min(minX, point.x);\n              maxX = max(maxX, point.x);\n              minY = min(minY, point.y);\n              maxY = max(maxY, point.y);\n            }\n            this._bounds.x = minX;\n            this._bounds.y = minY;\n            this._bounds.width = maxX - minX;\n            this._bounds.height = maxY - minY;\n            subpaths = [];\n            outsidePoints = [];\n            insidePoints = [];\n            ref1 = this._points.slice(1);\n            for (i = m = 0, len2 = ref1.length; m < len2; i = ++m) {\n              point = ref1[i];\n              if ((point.x > this._points[i].x && point.y <= this._points[i].y) || (point.y < this._points[i].y && point.x >= this._points[i].x)) {\n                if (outsidePoints.length === 0) {\n                  insetCoord = this.getInsetCoordinate(i, BEVEL_SIZE);\n                  if (insetCoord != null) {\n                    outsidePoints.push(this._points[i]);\n                    insidePoints.push(insetCoord);\n                  }\n                }\n                insetCoord = this.getInsetCoordinate(i + 1, BEVEL_SIZE);\n                if (insetCoord != null) {\n                  outsidePoints.push(point);\n                  insidePoints.push(insetCoord);\n                }\n              } else if (!(point.equals(this._points[i]) || outsidePoints.length === 0)) {\n                subpaths.push('M' + outsidePoints.concat(insidePoints.reverse()).map(function(point) {\n                  return point.x + \" \" + point.y;\n                }).join(\" L\") + ' Z');\n                outsidePoints.length = insidePoints.length = 0;\n              }\n            }\n            if (this._points[0].x > this._points[this._points.length - 1].x || this._points[0].y < this._points[this._points.length - 1].y) {\n              if (outsidePoints.length === 0) {\n                insetCoord = this.getInsetCoordinate(this._points.length - 1, BEVEL_SIZE);\n                if (insetCoord != null) {\n                  outsidePoints.push(this._points[this._points.length - 1]);\n                  insidePoints.push(insetCoord);\n                }\n              }\n              insetCoord = this.getInsetCoordinate(0, BEVEL_SIZE);\n              if (insetCoord != null) {\n                outsidePoints.push(this._points[0]);\n                insidePoints.push(insetCoord);\n              }\n            }\n            if (outsidePoints.length > 0) {\n              subpaths.push('M' + outsidePoints.concat(insidePoints.reverse()).map(function(point) {\n                return point.x + \" \" + point.y;\n              }).join(\" L\") + ' Z');\n            }\n            this._lightBevelPath = subpaths.join(' ');\n            subpaths = [];\n            outsidePoints = [];\n            insidePoints = [];\n            ref2 = this._points.slice(1);\n            for (i = o = 0, len3 = ref2.length; o < len3; i = ++o) {\n              point = ref2[i];\n              if ((point.x < this._points[i].x && point.y >= this._points[i].y) || (point.y > this._points[i].y && point.x <= this._points[i].x)) {\n                if (outsidePoints.length === 0) {\n                  insetCoord = this.getInsetCoordinate(i, BEVEL_SIZE);\n                  if (insetCoord != null) {\n                    outsidePoints.push(this._points[i]);\n                    insidePoints.push(insetCoord);\n                  }\n                }\n                insetCoord = this.getInsetCoordinate(i + 1, BEVEL_SIZE);\n                if (insetCoord != null) {\n                  outsidePoints.push(point);\n                  insidePoints.push(insetCoord);\n                }\n              } else if (!(point.equals(this._points[i]) || outsidePoints.length === 0)) {\n                subpaths.push('M' + outsidePoints.concat(insidePoints.reverse()).map(function(point) {\n                  return point.x + \" \" + point.y;\n                }).join(\" L\") + ' Z');\n                outsidePoints.length = insidePoints.length = 0;\n              }\n            }\n            if (this._points[0].x < this._points[this._points.length - 1].x || this._points[0].y > this._points[this._points.length - 1].y) {\n              if (outsidePoints.length === 0) {\n                insetCoord = this.getInsetCoordinate(this._points.length - 1, BEVEL_SIZE);\n                if (insetCoord != null) {\n                  outsidePoints.push(this._points[this._points.length - 1]);\n                  insidePoints.push(insetCoord);\n                }\n              }\n              insetCoord = this.getInsetCoordinate(0, BEVEL_SIZE);\n              if (insetCoord != null) {\n                outsidePoints.push(this._points[0]);\n                insidePoints.push(insetCoord);\n              }\n            }\n            if (outsidePoints.length > 0) {\n              subpaths.push('M' + outsidePoints.concat(insidePoints.reverse()).map(function(point) {\n                return point.x + \" \" + point.y;\n              }).join(\" L\") + ' Z');\n            }\n            this._darkBevelPath = subpaths.join(' ');\n            return this._cacheFlag = false;\n          }\n        }\n      };\n\n      Path.prototype._setPoints_raw = function(points) {\n        this._points = points;\n        this._cacheFlag = true;\n        return this._updateFlag = true;\n      };\n\n      Path.prototype.setMarkStyle = function(style) {\n        if ((style != null) && style.color !== (this.markColor != null)) {\n          this.markColor = style.color;\n          return this._markFlag = true;\n        } else if (this.markColor != null) {\n          this.markColor = null;\n          return this._markFlag = true;\n        }\n      };\n\n      Path.prototype.setPoints = function(points) {\n        var el, i, l, len1;\n        if (points.length !== this._points.length) {\n          this._setPoints_raw(points);\n          return;\n        }\n        for (i = l = 0, len1 = points.length; l < len1; i = ++l) {\n          el = points[i];\n          if (!this._points[i].equals(el)) {\n            this._setPoints_raw(points);\n            return;\n          }\n        }\n      };\n\n      Path.prototype.push = function(point) {\n        this._points.push(point);\n        this._cacheFlag = true;\n        return this._updateFlag = true;\n      };\n\n      Path.prototype.unshift = function(point) {\n        this._points.unshift(point);\n        this._cacheFlag = true;\n        return this._updateFlag = true;\n      };\n\n      Path.prototype.reverse = function() {\n        this._points.reverse();\n        return this;\n      };\n\n      Path.prototype.contains = function(point) {\n        var count, dest, end, l, last, len1, ref;\n        this._clearCache();\n        if (this._points.length === 0) {\n          return false;\n        }\n        if (!this._bounds.contains(point)) {\n          return false;\n        }\n        dest = new Point(this._bounds.x - 10, point.y);\n        count = 0;\n        last = this._points[this._points.length - 1];\n        ref = this._points;\n        for (l = 0, len1 = ref.length; l < len1; l++) {\n          end = ref[l];\n          if (_intersects(last, end, point, dest)) {\n            count += 1;\n          }\n          last = end;\n        }\n        return count % 2 === 1;\n      };\n\n      Path.prototype.equals = function(other) {\n        var el, i, l, len1, ref;\n        if (!(other instanceof Path)) {\n          return false;\n        }\n        if (other._points.length !== this._points.length) {\n          return false;\n        }\n        ref = other._points;\n        for (i = l = 0, len1 = ref.length; l < len1; i = ++l) {\n          el = ref[i];\n          if (!this._points[i].equals(el)) {\n            return false;\n          }\n        }\n        return true;\n      };\n\n      Path.prototype.intersects = function(rectangle) {\n        var end, l, last, lastSide, len1, len2, m, rectSides, ref, side;\n        this._clearCache();\n        if (this._points.length === 0) {\n          return false;\n        }\n        if (!rectangle.overlap(this._bounds)) {\n          return false;\n        } else {\n          last = this._points[this._points.length - 1];\n          rectSides = [new Point(rectangle.x, rectangle.y), new Point(rectangle.right(), rectangle.y), new Point(rectangle.right(), rectangle.bottom()), new Point(rectangle.x, rectangle.bottom())];\n          ref = this._points;\n          for (l = 0, len1 = ref.length; l < len1; l++) {\n            end = ref[l];\n            lastSide = rectSides[rectSides.length - 1];\n            for (m = 0, len2 = rectSides.length; m < len2; m++) {\n              side = rectSides[m];\n              if (_intersects(last, end, lastSide, side)) {\n                return true;\n              }\n              lastSide = side;\n            }\n            last = end;\n          }\n          if (this.contains(rectSides[0])) {\n            return true;\n          }\n          if (rectangle.contains(this._points[0])) {\n            return true;\n          }\n          return false;\n        }\n      };\n\n      Path.prototype.bounds = function() {\n        this._clearCache();\n        return this._bounds;\n      };\n\n      Path.prototype.translate = function(vector) {\n        this._cachedTranslation.translate(vector);\n        return this._cacheFlag = true;\n      };\n\n      Path.prototype.getCommandString = function() {\n        var l, len1, pathCommands, point, ref;\n        if (this._points.length === 0) {\n          return '';\n        }\n        pathCommands = [];\n        pathCommands.push(\"M\" + (Math.round(this._points[0].x)) + \" \" + (Math.round(this._points[0].y)));\n        ref = this._points;\n        for (l = 0, len1 = ref.length; l < len1; l++) {\n          point = ref[l];\n          pathCommands.push(\"L\" + (Math.round(point.x)) + \" \" + (Math.round(point.y)));\n        }\n        pathCommands.push(\"L\" + (Math.round(this._points[0].x)) + \" \" + (Math.round(this._points[0].y)));\n        pathCommands.push(\"Z\");\n        return pathCommands.join(' ');\n      };\n\n      Path.prototype.getInsetCoordinate = function(i, length) {\n        var j, k, next, point, prev, vector;\n        j = i;\n        prev = this._points[i];\n        while (prev.equals(this._points[i]) && j > i - this._points.length) {\n          j--;\n          prev = this._points[modulo(j, this._points.length)];\n        }\n        k = i;\n        next = this._points[i];\n        while (next.equals(this._points[i]) && k < i + this._points.length) {\n          k++;\n          next = this._points[modulo(k, this._points.length)];\n        }\n        vector = _bisector(prev, this._points[i], next, length);\n        if (vector == null) {\n          return null;\n        }\n        point = this._points[i].plus(vector);\n        return point;\n      };\n\n      Path.prototype.getLightBevelPath = function() {\n        this._clearCache();\n        return this._lightBevelPath;\n      };\n\n      Path.prototype.getDarkBevelPath = function() {\n        this._clearCache();\n        if (this._darkBevelPath == null) {\n          debugger;\n        }\n        return this._darkBevelPath;\n      };\n\n      Path.prototype.makeElement = function() {\n        var pathElement, pathString, ref, ref1;\n        this._clearCache();\n        pathElement = document.createElementNS(SVG_STANDARD, 'path');\n        if (this.style.fillColor != null) {\n          pathElement.setAttribute('fill', this.style.fillColor);\n        }\n        this.__lastFillColor = this.style.fillColor;\n        this.__lastStrokeColor = this.style.strokeColor;\n        this.__lastLineWidth = this.style.lineWidth;\n        this.__lastDotted = this.style.dotted;\n        this.__lastCssClass = this.style.cssClass;\n        this.__lastTransform = this.style.transform;\n        pathString = this.getCommandString();\n        if (pathString.length > 0) {\n          pathElement.setAttribute('d', pathString);\n        }\n        if (this.bevel) {\n          this.backgroundPathElement = pathElement;\n          this.backgroundPathElement.setAttribute('class', 'droplet-background-path');\n          pathElement = document.createElementNS(SVG_STANDARD, 'g');\n          this.lightPathElement = document.createElementNS(SVG_STANDARD, 'path');\n          this.lightPathElement.setAttribute('fill', avgColor(this.style.fillColor, 0.7, '#FFF'));\n          if (pathString.length > 0) {\n            this.lightPathElement.setAttribute('d', this.getLightBevelPath());\n          }\n          this.lightPathElement.setAttribute('class', 'droplet-light-bevel-path');\n          this.darkPathElement = document.createElementNS(SVG_STANDARD, 'path');\n          this.darkPathElement.setAttribute('fill', avgColor(this.style.fillColor, 0.7, '#000'));\n          if (pathString.length > 0) {\n            this.darkPathElement.setAttribute('d', this.getDarkBevelPath());\n          }\n          this.darkPathElement.setAttribute('class', 'droplet-dark-bevel-path');\n          pathElement.appendChild(this.backgroundPathElement);\n          pathElement.appendChild(this.lightPathElement);\n          pathElement.appendChild(this.darkPathElement);\n        } else {\n          pathElement.setAttribute('stroke', this.style.strokeColor);\n          pathElement.setAttribute('stroke-width', this.style.lineWidth);\n          if (((ref = (ref1 = this.style.dotted) != null ? ref1.length : void 0) != null ? ref : 0) > 0) {\n            pathElement.setAttribute('stroke-dasharray', this.style.dotted);\n          }\n        }\n        if (this.style.cssClass != null) {\n          pathElement.setAttribute('class', this.style.cssClass);\n        }\n        if (this.style.transform != null) {\n          pathElement.setAttribute('transform', this.style.transform);\n        }\n        return pathElement;\n      };\n\n      Path.prototype.update = function() {\n        var pathString;\n        if (this.element == null) {\n          return;\n        }\n        if (this.style.fillColor !== this.__lastFillColor) {\n          this.__lastFillColor = this.style.fillColor;\n          if (this.bevel) {\n            this.backgroundPathElement.setAttribute('fill', this.style.fillColor);\n            this.lightPathElement.setAttribute('fill', avgColor(this.style.fillColor, 0.7, '#FFF'));\n            this.darkPathElement.setAttribute('fill', avgColor(this.style.fillColor, 0.7, '#000'));\n          } else {\n            this.element.setAttribute('fill', this.style.fillColor);\n          }\n        }\n        if (!this.bevel && this.style.strokeColor !== this.__lastStrokeColor) {\n          this.__lastStrokeColor = this.style.strokeColor;\n          this.element.setAttribute('stroke', this.style.strokeColor);\n        }\n        if (!this.bevel && this.style.dotted !== this.__lastDotted) {\n          this.__lastDotted = this.style.dotted;\n          this.element.setAttribute('stroke-dasharray', this.style.dotted);\n        }\n        if (!this.bevel && this.style.lineWidth !== this.__lastLineWidth) {\n          this.__lastLineWidth = this.style.lineWidth;\n          this.element.setAttribute('stroke-width', this.style.lineWidth);\n        }\n        if ((this.style.cssClass != null) && this.style.cssClass !== this._lastCssClass) {\n          this._lastCssClass = this.style.cssClass;\n          this.element.setAttribute('class', this.style.cssClass);\n        }\n        if ((this.style.transform != null) && this.style.transform !== this._lastTransform) {\n          this._lastTransform = this.style.transform;\n          this.element.setAttribute('transform', this.style.transform);\n        }\n        if (this._markFlag) {\n          if (this.markColor != null) {\n            if (this.bevel) {\n              this.backgroundPathElement.setAttribute('stroke', this.markColor);\n              this.backgroundPathElement.setAttribute('stroke-width', '2');\n              this.lightPathElement.setAttribute('visibility', 'hidden');\n              this.darkPathElement.setAttribute('visibility', 'hidden');\n            } else {\n              this.element.setAttribute('stroke', this.markColor);\n              this.element.setAttribute('stroke-width', '2');\n            }\n          } else {\n            if (this.bevel) {\n              this.backgroundPathElement.setAttribute('stroke', 'none');\n              this.lightPathElement.setAttribute('visibility', 'visible');\n              this.darkPathElement.setAttribute('visibility', 'visible');\n            } else {\n              this.element.setAttribute('stroke', this.style.strokeColor);\n              this.element.setAttribute('stroke-width', this.style.lineWidth);\n            }\n          }\n        }\n        if (this._updateFlag) {\n          this._updateFlag = false;\n          pathString = this.getCommandString();\n          if (pathString.length > 0) {\n            if (this.bevel) {\n              this.backgroundPathElement.setAttribute('d', pathString);\n              this.lightPathElement.setAttribute('d', this.getLightBevelPath());\n              return this.darkPathElement.setAttribute('d', this.getDarkBevelPath());\n            } else {\n              return this.element.setAttribute('d', pathString);\n            }\n          }\n        }\n      };\n\n      Path.prototype.clone = function() {\n        var clone;\n        clone = new Path(this._points.slice(0), this.bevel, {\n          lineWidth: this.style.lineWidth,\n          fillColor: this.style.fillColor,\n          strokeColor: this.style.strokeColor,\n          dotted: this.style.dotted,\n          cssClass: this.style.cssClass\n        });\n        clone._clearCache();\n        clone.update();\n        return clone;\n      };\n\n      return Path;\n\n    })(ElementWrapper);\n    this.Text = Text = (function(superClass) {\n      extend(Text, superClass);\n\n      function Text(point1, value) {\n        this.point = point1;\n        this.value = value;\n        this.__lastValue = this.value;\n        this.__lastPoint = this.point.clone();\n        this._bounds = new Rectangle(this.point.x, this.point.y, self.measureCtx.measureText(this.value).width, self.fontSize);\n        Text.__super__.constructor.call(this);\n      }\n\n      Text.prototype.clone = function() {\n        return new Text(this.point, this.value);\n      };\n\n      Text.prototype.equals = function(other) {\n        return (other != null) && this.point.equals(other.point) && this.value === other.value;\n      };\n\n      Text.prototype.bounds = function() {\n        return this._bounds;\n      };\n\n      Text.prototype.contains = function(point) {\n        return this._bounds.contains(point);\n      };\n\n      Text.prototype.setPosition = function(point) {\n        return this.translate(point.from(this.point));\n      };\n\n      Text.prototype.makeElement = function() {\n        var element, text;\n        element = document.createElementNS(SVG_STANDARD, 'text');\n        element.setAttribute('x', this.point.x);\n        element.setAttribute('y', this.point.y + self.fontBaseline - self.fontAscent / 2);\n        element.setAttribute('dominant-baseline', 'alphabetic');\n        text = document.createTextNode(this.value.replace(/ /g, '\\u00A0'));\n        element.appendChild(text);\n        return element;\n      };\n\n      Text.prototype.update = function() {\n        var text;\n        if (this.element == null) {\n          return;\n        }\n        if (!this.point.equals(this.__lastPoint)) {\n          this.__lastPoint = this.point.clone();\n          this.element.setAttribute('x', this.point.x);\n          this.element.setAttribute('y', this.point.y + self.fontBaseline - self.fontAscent / 2);\n        }\n        if (this.value !== this.__lastValue) {\n          this.__lastValue = this.value;\n          this.element.removeChild(this.element.lastChild);\n          text = document.createTextNode(this.value.replace(/ /g, '\\u00A0'));\n          return this.element.appendChild(text);\n        }\n      };\n\n      return Text;\n\n    })(ElementWrapper);\n  }\n\n  Draw.prototype.refreshFontCapital = function() {\n    var metrics;\n    metrics = helper.fontMetrics(this.fontFamily, this.fontSize);\n    this.fontAscent = metrics.prettytop;\n    return this.fontBaseline = metrics.baseline;\n  };\n\n  Draw.prototype.setGlobalFontSize = function(size) {\n    this.fontSize = size;\n    this.ctx.style.fontSize = size;\n    this.measureCtx.font = this.fontSize + \"px \" + this.fontFamily;\n    return this.refreshFontCapital();\n  };\n\n  Draw.prototype.setGlobalFontFamily = function(family) {\n    this.fontFamily = family;\n    this.ctx.style.fontFamily = family;\n    this.measureCtx.font = this.fontSize + \"px \" + this.fontFamily;\n    return this.refreshFontCapital();\n  };\n\n  Draw.prototype.getGlobalFontSize = function() {\n    return this.fontSize;\n  };\n\n  return Draw;\n\n})();\n\nexports.Point = Point = (function() {\n  function Point(x1, y1) {\n    this.x = x1;\n    this.y = y1;\n  }\n\n  Point.prototype.clone = function() {\n    return new Point(this.x, this.y);\n  };\n\n  Point.prototype.magnitude = function() {\n    return Math.sqrt(this.x * this.x + this.y * this.y);\n  };\n\n  Point.prototype.times = function(scalar) {\n    return new Point(this.x * scalar, this.y * scalar);\n  };\n\n  Point.prototype.normalize = function() {\n    return this.times(1 / this.magnitude());\n  };\n\n  Point.prototype.translate = function(vector) {\n    this.x += vector.x;\n    return this.y += vector.y;\n  };\n\n  Point.prototype.add = function(x, y) {\n    this.x += x;\n    return this.y += y;\n  };\n\n  Point.prototype.dot = function(other) {\n    return this.x * other.x + this.y * other.y;\n  };\n\n  Point.prototype.plus = function(arg) {\n    var x, y;\n    x = arg.x, y = arg.y;\n    return new Point(this.x + x, this.y + y);\n  };\n\n  Point.prototype.toMagnitude = function(mag) {\n    var r;\n    r = mag / this.magnitude();\n    return new Point(this.x * r, this.y * r);\n  };\n\n  Point.prototype.copy = function(point) {\n    this.x = point.x;\n    this.y = point.y;\n    return this;\n  };\n\n  Point.prototype.from = function(point) {\n    return new Point(this.x - point.x, this.y - point.y);\n  };\n\n  Point.prototype.clear = function() {\n    return this.x = this.y = 0;\n  };\n\n  Point.prototype.equals = function(point) {\n    return point.x === this.x && point.y === this.y;\n  };\n\n  Point.prototype.almostEquals = function(point) {\n    return Math.abs(point.x - this.x) < EPSILON && Math.abs(point.y - this.y) < EPSILON;\n  };\n\n  return Point;\n\n})();\n\nZERO = new Point(0, 0);\n\nexports.Size = Size = (function() {\n  function Size(width, height) {\n    this.width = width;\n    this.height = height;\n  }\n\n  Size.prototype.equals = function(size) {\n    return this.width === size.width && this.height === size.height;\n  };\n\n  Size.copy = function(size) {\n    return new Size(size.width, size.height);\n  };\n\n  return Size;\n\n})();\n\nexports.Rectangle = Rectangle = (function() {\n  function Rectangle(x1, y1, width, height) {\n    this.x = x1;\n    this.y = y1;\n    this.width = width;\n    this.height = height;\n  }\n\n  Rectangle.prototype.contains = function(point) {\n    return (this.x != null) && (this.y != null) && !((point.x < this.x) || (point.x > this.x + this.width) || (point.y < this.y) || (point.y > this.y + this.height));\n  };\n\n  Rectangle.prototype.equals = function(other) {\n    if (!(other instanceof Rectangle)) {\n      return false;\n    }\n    return this.x === other.x && this.y === other.y && this.width === other.width && this.height === other.height;\n  };\n\n  Rectangle.prototype.copy = function(rect) {\n    this.x = rect.x;\n    this.y = rect.y;\n    this.width = rect.width;\n    this.height = rect.height;\n    return this;\n  };\n\n  Rectangle.prototype.clone = function() {\n    var rect;\n    rect = new Rectangle(0, 0, 0, 0);\n    rect.copy(this);\n    return rect;\n  };\n\n  Rectangle.prototype.clear = function() {\n    this.width = this.height = 0;\n    return this.x = this.y = null;\n  };\n\n  Rectangle.prototype.bottom = function() {\n    return this.y + this.height;\n  };\n\n  Rectangle.prototype.right = function() {\n    return this.x + this.width;\n  };\n\n  Rectangle.prototype.unite = function(rectangle) {\n    if (!((this.x != null) && (this.y != null))) {\n      return this.copy(rectangle);\n    } else if (!((rectangle.x != null) && (rectangle.y != null))) {\n\n    } else {\n      this.width = max(this.right(), rectangle.right()) - (this.x = min(this.x, rectangle.x));\n      return this.height = max(this.bottom(), rectangle.bottom()) - (this.y = min(this.y, rectangle.y));\n    }\n  };\n\n  Rectangle.prototype.swallow = function(point) {\n    if (!((this.x != null) && (this.y != null))) {\n      return this.copy(new Rectangle(point.x, point.y, 0, 0));\n    } else {\n      this.width = max(this.right(), point.x) - (this.x = min(this.x, point.x));\n      return this.height = max(this.bottom(), point.y) - (this.y = min(this.y, point.y));\n    }\n  };\n\n  Rectangle.prototype.overlap = function(rectangle) {\n    return (this.x != null) && (this.y != null) && !((rectangle.right()) < this.x || (rectangle.bottom() < this.y) || (rectangle.x > this.right()) || (rectangle.y > this.bottom()));\n  };\n\n  Rectangle.prototype.translate = function(vector) {\n    this.x += vector.x;\n    return this.y += vector.y;\n  };\n\n  Rectangle.prototype.upperLeftCorner = function() {\n    return new Point(this.x, this.y);\n  };\n\n  Rectangle.prototype.toPath = function() {\n    var l, len1, path, point, ref;\n    path = new Path();\n    ref = [[this.x, this.y], [this.x, this.bottom()], [this.right(), this.bottom()], [this.right(), this.y]];\n    for (l = 0, len1 = ref.length; l < len1; l++) {\n      point = ref[l];\n      path.push(new Point(point[0], point[1]));\n    }\n    return path;\n  };\n\n  return Rectangle;\n\n})();\n\nexports._collinear = _collinear = function(a, b, c) {\n  var first, second;\n  first = b.from(a).normalize();\n  second = c.from(b).normalize();\n  return first.almostEquals(second) || first.almostEquals(second.times(-1));\n};\n\n\n},{\"./helper.coffee\":28}],28:[function(require,module,exports){\nvar PairDict, _guid, deepCopy, deepEquals, fontMetrics, fontMetricsCache, looseCUnescape, quoteAndCEscape, sax,\n  hasProp = {}.hasOwnProperty;\n\nsax = require('sax');\n\nexports.ANY_DROP = 0;\n\nexports.BLOCK_ONLY = 1;\n\nexports.MOSTLY_BLOCK = 2;\n\nexports.MOSTLY_VALUE = 3;\n\nexports.VALUE_ONLY = 4;\n\nexports.SVG_STANDARD = 'http://www.w3.org/2000/svg';\n\nexports.ENCOURAGE = 1;\n\nexports.DISCOURAGE = 0;\n\nexports.FORBID = -1;\n\nexports.DROPDOWN_ARROW_WIDTH = 15;\n\nexports.DROPDOWN_ARROW_PADDING = 3;\n\nif (typeof window !== \"undefined\" && window !== null) {\n  window.String.prototype.trimLeft = function() {\n    return this.replace(/^\\s+/, '');\n  };\n  window.String.prototype.trimRight = function() {\n    return this.replace(/\\s+$/, '');\n  };\n}\n\nexports.extend = function(target) {\n  var sources;\n  sources = [].slice.call(arguments, 1);\n  sources.forEach(function(source) {\n    if (source) {\n      return Object.getOwnPropertyNames(source).forEach(function(prop) {\n        return Object.defineProperty(target, prop, Object.getOwnPropertyDescriptor(source, prop));\n      });\n    }\n  });\n  return target;\n};\n\nexports.xmlPrettyPrint = function(str) {\n  var result, xmlParser;\n  result = '';\n  xmlParser = sax.parser(true);\n  xmlParser.ontext = function(text) {\n    return result += exports.escapeXMLText(text);\n  };\n  xmlParser.onopentag = function(node) {\n    var attr, ref, val;\n    result += '<' + node.name;\n    ref = node.attributes;\n    for (attr in ref) {\n      val = ref[attr];\n      result += '\\n  ' + attr + '=' + JSON.stringify(val);\n    }\n    return result += '>';\n  };\n  xmlParser.onclosetag = function(name) {\n    return result += '</' + name + '>';\n  };\n  xmlParser.write(str).close();\n  return result;\n};\n\nfontMetricsCache = {};\n\nexports.fontMetrics = fontMetrics = function(fontFamily, fontHeight) {\n  var baseline, canvas, capital, ctx, ex, fontStyle, gp, height, lf, metrics, result, textTopAndBottom, width;\n  fontStyle = fontHeight + \"px \" + fontFamily;\n  result = fontMetricsCache[fontStyle];\n  textTopAndBottom = function(testText) {\n    var col, first, index, j, k, last, pixels, ref, ref1, right, row;\n    ctx.fillStyle = 'black';\n    ctx.fillRect(0, 0, width, height);\n    ctx.textBaseline = 'top';\n    ctx.fillStyle = 'white';\n    ctx.fillText(testText, 0, 0);\n    right = Math.ceil(ctx.measureText(testText).width);\n    pixels = ctx.getImageData(0, 0, width, height).data;\n    first = -1;\n    last = height;\n    for (row = j = 0, ref = height; 0 <= ref ? j < ref : j > ref; row = 0 <= ref ? ++j : --j) {\n      for (col = k = 1, ref1 = right; 1 <= ref1 ? k < ref1 : k > ref1; col = 1 <= ref1 ? ++k : --k) {\n        index = (row * width + col) * 4;\n        if (pixels[index] !== 0) {\n          if (first < 0) {\n            first = row;\n          }\n          break;\n        }\n      }\n      if (first >= 0 && col >= right) {\n        last = row;\n        break;\n      }\n    }\n    return {\n      top: first,\n      bottom: last\n    };\n  };\n  if (!result) {\n    canvas = document.createElement('canvas');\n    ctx = canvas.getContext('2d');\n    ctx.font = fontStyle;\n    metrics = ctx.measureText('Hg');\n    if (canvas.height < fontHeight * 2 || canvas.width < metrics.width) {\n      canvas.width = Math.ceil(metrics.width);\n      canvas.height = fontHeight * 2;\n      ctx = canvas.getContext('2d');\n      ctx.font = fontStyle;\n    }\n    width = canvas.width;\n    height = canvas.height;\n    capital = textTopAndBottom('H');\n    ex = textTopAndBottom('x');\n    lf = textTopAndBottom('lf');\n    gp = textTopAndBottom('g');\n    baseline = capital.bottom;\n    result = {\n      ascent: lf.top,\n      capital: capital.top,\n      ex: ex.top,\n      baseline: capital.bottom,\n      descent: gp.bottom\n    };\n    result.prettytop = Math.max(0, Math.min(result.ascent, result.ex - (result.descent - result.baseline)));\n    fontMetricsCache[fontStyle] = result;\n  }\n  return result;\n};\n\nexports.clipLines = function(lines, start, end) {\n  if (start.line !== end.line) {\n    return lines[start.line].slice(start.column) + lines.slice(start.line + 1, end.line).join('\\n') + lines[end.line].slice(0, end.column);\n  } else {\n    return lines[start.line].slice(start.column, end.column);\n  }\n};\n\nexports.getFontHeight = function(family, size) {\n  var metrics;\n  metrics = fontMetrics(family, size);\n  return metrics.descent - metrics.prettytop;\n};\n\nexports.escapeXMLText = function(str) {\n  return str.replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/&/g, '&amp;').replace(/\"/g, '&quot;').replace(/'/g, '&apos;');\n};\n\nexports.serializeShallowDict = function(dict) {\n  var key, props, val;\n  props = [];\n  for (key in dict) {\n    val = dict[key];\n    props.push(key + ':' + val);\n  }\n  return props.join(';');\n};\n\nexports.deserializeShallowDict = function(str) {\n  var dict, j, key, len, prop, props, ref, val;\n  if (str == null) {\n    return void 0;\n  }\n  dict = {};\n  props = str.split(';');\n  for (j = 0, len = props.length; j < len; j++) {\n    prop = props[j];\n    ref = prop.split(':'), key = ref[0], val = ref[1];\n    dict[key] = val;\n  }\n  return dict;\n};\n\nexports.connect = function(a, b) {\n  if (a != null) {\n    a.next = b;\n  }\n  if (b != null) {\n    b.prev = a;\n  }\n  return b;\n};\n\nexports.string = function(arr) {\n  var el, i, j, last, len;\n  last = arr[0];\n  for (i = j = 0, len = arr.length; j < len; i = ++j) {\n    el = arr[i];\n    if (i > 0) {\n      last = exports.connect(last, el);\n    }\n  }\n  return last;\n};\n\nexports.deepCopy = deepCopy = function(a) {\n  var key, newObject, val;\n  if (a instanceof Array) {\n    return a.map(function(el) {\n      return deepCopy(el);\n    });\n  } else if (a instanceof Object) {\n    newObject = {};\n    for (key in a) {\n      val = a[key];\n      if (val instanceof Function) {\n        newObject[key] = val;\n      } else {\n        newObject[key] = deepCopy(val);\n      }\n    }\n    return newObject;\n  } else {\n    return a;\n  }\n};\n\nexports.deepEquals = deepEquals = function(a, b) {\n  var key, val;\n  if (a instanceof Object && b instanceof Object) {\n    for (key in a) {\n      if (!hasProp.call(a, key)) continue;\n      val = a[key];\n      if (!deepEquals(b[key], val)) {\n        return false;\n      }\n    }\n    for (key in b) {\n      if (!hasProp.call(b, key)) continue;\n      val = b[key];\n      if (!key in a) {\n        if (!deepEquals(a[key], val)) {\n          return false;\n        }\n      }\n    }\n    return true;\n  } else {\n    return a === b;\n  }\n};\n\n_guid = 0;\n\nexports.generateGUID = function() {\n  return (_guid++).toString(16);\n};\n\nexports.fixQuotedString = function(lines) {\n  var line, quotechar;\n  line = lines[0];\n  quotechar = /^\"|\"$/.test(line) ? '\"' : \"'\";\n  if (line.charAt(0) === quotechar) {\n    line = line.substr(1);\n  }\n  if (line.charAt(line.length - 1) === quotechar) {\n    line = line.substr(0, line.length - 1);\n  }\n  return lines[0] = quoteAndCEscape(looseCUnescape(line), quotechar);\n};\n\nexports.looseCUnescape = looseCUnescape = function(str) {\n  var codes;\n  codes = {\n    '\\\\b': '\\b',\n    '\\\\t': '\\t',\n    '\\\\n': '\\n',\n    '\\\\f': '\\f',\n    '\\\\\"': '\"',\n    \"\\\\'\": \"'\",\n    \"\\\\\\\\\": \"\\\\\",\n    \"\\\\0\": \"\\0\"\n  };\n  return str.replace(/\\\\[btnf'\"\\\\0]|\\\\x[0-9a-fA-F]{2}|\\\\u[0-9a-fA-F]{4}/g, function(m) {\n    if (m.length === 2) {\n      return codes[m];\n    }\n    return String.fromCharCode(parseInt(m.substr(1), 16));\n  });\n};\n\nexports.quoteAndCEscape = quoteAndCEscape = function(str, quotechar) {\n  var result;\n  result = JSON.stringify(str);\n  if (quotechar === \"'\") {\n    return quotechar + result.substr(1, result.length - 2).replace(/((?:^|[^\\\\])(?:\\\\\\\\)*)\\\\\"/g, '$1\"').replace(/'/g, \"\\\\'\") + quotechar;\n  }\n  return result;\n};\n\nexports.PairDict = PairDict = (function() {\n  function PairDict(pairs) {\n    this.pairs = pairs;\n  }\n\n  PairDict.prototype.get = function(index) {\n    var el, i, j, len, ref;\n    ref = this.pairs;\n    for (i = j = 0, len = ref.length; j < len; i = ++j) {\n      el = ref[i];\n      if (el[0] === index) {\n        return el[1];\n      }\n    }\n  };\n\n  PairDict.prototype.contains = function(index) {\n    return this.pairs.some(function(x) {\n      return x[0] === index;\n    });\n  };\n\n  PairDict.prototype.set = function(index, value) {\n    var el, i, j, len, ref;\n    ref = this.pairs;\n    for (i = j = 0, len = ref.length; j < len; i = ++j) {\n      el = ref[i];\n      if (el[0] === index) {\n        el[1] = index;\n        return true;\n      }\n    }\n    this.pairs.push([index, value]);\n    return false;\n  };\n\n  return PairDict;\n\n})();\n\n\n},{\"sax\":24}],29:[function(require,module,exports){\nvar CATEGORIES, CLASS_EXCEPTIONS, DEFAULT_INDENT_DEPTH, JavaScriptParser, KNOWN_FUNCTIONS, LOGICAL_OPERATORS, NEVER_PAREN, NODE_CATEGORIES, OPERATOR_PRECEDENCES, STATEMENT_NODE_TYPES, acorn, helper, isStandardForLoop, model, parser,\n  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty,\n  indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };\n\nhelper = require('../helper.coffee');\n\nmodel = require('../model.coffee');\n\nparser = require('../parser.coffee');\n\nacorn = require('../../vendor/acorn');\n\nSTATEMENT_NODE_TYPES = ['ExpressionStatement', 'ReturnStatement', 'BreakStatement', 'ThrowStatement'];\n\nNEVER_PAREN = 100;\n\nKNOWN_FUNCTIONS = {\n  'alert': {},\n  'prompt': {},\n  'console.log': {},\n  '*.toString': {\n    value: true\n  },\n  'Math.abs': {\n    value: true\n  },\n  'Math.acos': {\n    value: true\n  },\n  'Math.asin': {\n    value: true\n  },\n  'Math.atan': {\n    value: true\n  },\n  'Math.atan2': {\n    value: true\n  },\n  'Math.cos': {\n    value: true\n  },\n  'Math.sin': {\n    value: true\n  },\n  'Math.tan': {\n    value: true\n  },\n  'Math.ceil': {\n    value: true\n  },\n  'Math.floor': {\n    value: true\n  },\n  'Math.round': {\n    value: true\n  },\n  'Math.exp': {\n    value: true\n  },\n  'Math.ln': {\n    value: true\n  },\n  'Math.log10': {\n    value: true\n  },\n  'Math.pow': {\n    value: true\n  },\n  'Math.sqrt': {\n    value: true\n  },\n  'Math.max': {\n    value: true\n  },\n  'Math.min': {\n    value: true\n  },\n  'Math.random': {\n    value: true\n  }\n};\n\nCATEGORIES = {\n  functions: {\n    color: 'purple'\n  },\n  returns: {\n    color: 'yellow'\n  },\n  comments: {\n    color: 'gray'\n  },\n  arithmetic: {\n    color: 'green'\n  },\n  logic: {\n    color: 'cyan'\n  },\n  containers: {\n    color: 'teal'\n  },\n  assignments: {\n    color: 'blue'\n  },\n  loops: {\n    color: 'orange'\n  },\n  conditionals: {\n    color: 'orange'\n  },\n  value: {\n    color: 'green'\n  },\n  command: {\n    color: 'blue'\n  },\n  errors: {\n    color: '#f00'\n  }\n};\n\nLOGICAL_OPERATORS = {\n  '==': true,\n  '!=': true,\n  '===': true,\n  '!==': true,\n  '<': true,\n  '<=': true,\n  '>': true,\n  '>=': true,\n  'in': true,\n  'instanceof': true,\n  '||': true,\n  '&&': true,\n  '!': true\n};\n\nNODE_CATEGORIES = {\n  'BinaryExpression': 'arithmetic',\n  'UnaryExpression': 'arithmetic',\n  'ConditionalExpression': 'arithmetic',\n  'LogicalExpression': 'logic',\n  'FunctionExpression': 'functions',\n  'FunctionDeclaration': 'functions',\n  'AssignmentExpression': 'assignments',\n  'UpdateExpression': 'assignments',\n  'VariableDeclaration': 'assignments',\n  'ReturnStatement': 'returns',\n  'IfStatement': 'conditionals',\n  'SwitchStatement': 'conditionals',\n  'ForStatement': 'loops',\n  'ForInStatement': 'loops',\n  'WhileStatement': 'loops',\n  'DoWhileStatement': 'loops',\n  'NewExpression': 'containers',\n  'ObjectExpression': 'containers',\n  'ArrayExpression': 'containers',\n  'MemberExpression': 'containers',\n  'BreakStatement': 'returns',\n  'ThrowStatement': 'returns',\n  'TryStatement': 'returns',\n  'CallExpression': 'command',\n  'SequenceExpression': 'command',\n  'Identifier': 'value'\n};\n\nOPERATOR_PRECEDENCES = {\n  '++': 3,\n  '--': 3,\n  '!': 4,\n  '~': 4,\n  '*': 5,\n  '/': 5,\n  '%': 5,\n  '+': 6,\n  '-': 6,\n  '<<': 7,\n  '>>': 7,\n  '>>>': 7,\n  '<': 8,\n  '>': 8,\n  '>=': 8,\n  'in': 8,\n  'instanceof': 8,\n  '==': 9,\n  '!=': 9,\n  '===': 9,\n  '!==': 9,\n  '&': 10,\n  '^': 11,\n  '|': 12,\n  '&&': 13,\n  '||': 14\n};\n\nCLASS_EXCEPTIONS = {\n  'ForStatement': ['ends-with-brace', 'block-only'],\n  'FunctionDeclaration': ['ends-with-brace', 'block-only'],\n  'IfStatement': ['ends-with-brace', 'block-only'],\n  'WhileStatement': ['ends-with-brace', 'block-only'],\n  'DoWhileStatement': ['ends-with-brace', 'block-only'],\n  'SwitchStatement': ['ends-with-brace', 'block-only'],\n  'AssignmentExpression': ['mostly-block']\n};\n\nDEFAULT_INDENT_DEPTH = '  ';\n\nexports.JavaScriptParser = JavaScriptParser = (function(superClass) {\n  extend(JavaScriptParser, superClass);\n\n  function JavaScriptParser(text1, opts) {\n    var base;\n    this.text = text1;\n    JavaScriptParser.__super__.constructor.apply(this, arguments);\n    if ((base = this.opts).functions == null) {\n      base.functions = KNOWN_FUNCTIONS;\n    }\n    this.opts.categories = helper.extend({}, CATEGORIES, this.opts.categories);\n    this.lines = this.text.split('\\n');\n  }\n\n  JavaScriptParser.prototype.markRoot = function() {\n    var tree;\n    if (this.text[0] === '{') {\n      this.text = \"(\" + this.text + \")\";\n    }\n    tree = acorn.parse(this.text, {\n      locations: true,\n      line: 0,\n      allowReturnOutsideFunction: true\n    });\n    return this.mark(0, tree, 0, null);\n  };\n\n  JavaScriptParser.prototype.fullNameArray = function(obj) {\n    var props;\n    props = [];\n    while (obj.type === 'MemberExpression') {\n      props.unshift(obj.property.name);\n      obj = obj.object;\n    }\n    if (obj.type === 'Identifier') {\n      props.unshift(obj.name);\n    } else {\n      props.unshift('*');\n    }\n    return props;\n  };\n\n  JavaScriptParser.prototype.lookupKnownName = function(node) {\n    var fn, fname, full, identifier, last, wildcard;\n    if (node.type === 'CallExpression' || node.type === 'NewExpression') {\n      identifier = false;\n    } else if (node.type === 'Identifier' || node.type === 'MemberExpression') {\n      identifier = true;\n    } else {\n      throw new Error;\n    }\n    fname = this.fullNameArray(identifier ? node : node.callee);\n    full = fname.join('.');\n    fn = this.opts.functions[full];\n    if (fn && ((identifier && fn.property) || (!identifier && !fn.property))) {\n      return {\n        name: full,\n        anyobj: false,\n        fn: this.opts.functions[full]\n      };\n    }\n    last = fname[fname.length - 1];\n    if (fname.length > 1 && !((wildcard = '*.' + last) in this.opts.functions)) {\n      wildcard = null;\n    }\n    if (!wildcard && !((wildcard = '?.' + last) in this.opts.functions)) {\n      wildcard = null;\n    }\n    if (wildcard !== null) {\n      fn = this.opts.functions[wildcard];\n      if (fn && ((identifier && fn.property) || (!identifier && !fn.property))) {\n        return {\n          name: last,\n          anyobj: true,\n          fn: this.opts.functions[wildcard]\n        };\n      }\n    }\n    return null;\n  };\n\n  JavaScriptParser.prototype.getAcceptsRule = function(node) {\n    return {\n      \"default\": helper.NORMAL\n    };\n  };\n\n  JavaScriptParser.prototype.getClasses = function(node) {\n    var known;\n    if (node.type in CLASS_EXCEPTIONS) {\n      return CLASS_EXCEPTIONS[node.type].concat([node.type]);\n    } else {\n      if (node.type === 'CallExpression' || node.type === 'NewExpression' || node.type === 'Identifier') {\n        known = this.lookupKnownName(node);\n        if (!known || (known.fn.value && known.fn.command)) {\n          return [node.type, 'any-drop'];\n        }\n        if (known.fn.value) {\n          return [node.type, 'mostly-value'];\n        } else {\n          return [node.type, 'mostly-block'];\n        }\n      } else if (node.type === 'FunctionExpression') {\n        return [node.type, 'mostly-value', 'function-value'];\n      } else if (node.type.match(/Expression$/) != null) {\n        return [node.type, 'mostly-value'];\n      } else if (node.type.match(/Declaration$/) != null) {\n        return [node.type, 'block-only'];\n      } else if (node.type.match(/Statement$/) != null) {\n        return [node.type, 'mostly-block'];\n      } else {\n        return [node.type, 'any-drop'];\n      }\n    }\n  };\n\n  JavaScriptParser.prototype.getPrecedence = function(node) {\n    var ref, ref1;\n    switch (node.type) {\n      case 'BinaryExpression':\n      case 'LogicalExpression':\n        return OPERATOR_PRECEDENCES[node.operator];\n      case 'AssignStatement':\n        return 16;\n      case 'UnaryExpression':\n        if (node.prefix) {\n          return (ref = OPERATOR_PRECEDENCES[node.operator]) != null ? ref : 4;\n        } else {\n          return (ref1 = OPERATOR_PRECEDENCES[node.operator]) != null ? ref1 : 3;\n        }\n        break;\n      case 'CallExpression':\n        return 2;\n      case 'NewExpression':\n        return 2;\n      case 'MemberExpression':\n        return 1;\n      case 'ExpressionStatement':\n        return this.getPrecedence(node.expression);\n      default:\n        return 0;\n    }\n  };\n\n  JavaScriptParser.prototype.lookupCategory = function(node) {\n    var category;\n    switch (node.type) {\n      case 'BinaryExpression':\n      case 'UnaryExpression':\n        if (LOGICAL_OPERATORS.hasOwnProperty(node.operator)) {\n          category = 'logic';\n        } else {\n          category = 'arithmetic';\n        }\n        break;\n      default:\n        category = NODE_CATEGORIES[node.type];\n    }\n    return this.opts.categories[category];\n  };\n\n  JavaScriptParser.prototype.getColor = function(node) {\n    var category, known;\n    switch (node.type) {\n      case 'ExpressionStatement':\n        return this.getColor(node.expression);\n      case 'CallExpression':\n      case 'NewExpression':\n      case 'MemberExpression':\n      case 'Identifier':\n        known = this.lookupKnownName(node);\n        if (known) {\n          if (known.fn.color) {\n            return known.fn.color;\n          } else if (known.fn.value && !known.fn.command) {\n            return this.opts.categories.value.color;\n          }\n        }\n    }\n    category = this.lookupCategory(node);\n    return (category != null ? category.color : void 0) || 'command';\n  };\n\n  JavaScriptParser.prototype.getSocketLevel = function(node) {\n    return helper.ANY_DROP;\n  };\n\n  JavaScriptParser.prototype.getBounds = function(node) {\n    var bounds, line, ref, ref1, semicolon, semicolonLength;\n    if (node.type === 'BlockStatement') {\n      bounds = {\n        start: {\n          line: node.loc.start.line,\n          column: node.loc.start.column + 1\n        },\n        end: {\n          line: node.loc.end.line,\n          column: node.loc.end.column - 1\n        }\n      };\n      bounds.start.column += ((ref = this.lines[bounds.start.line].slice(bounds.start.column).match(/^\\s*/)) != null ? ref : [''])[0].length;\n      if (this.lines[bounds.end.line].slice(0, bounds.end.column).trim().length === 0) {\n        bounds.end.line -= 1;\n        bounds.end.column = this.lines[bounds.end.line].length;\n      }\n      return bounds;\n    } else if (ref1 = node.type, indexOf.call(STATEMENT_NODE_TYPES, ref1) >= 0) {\n      line = this.lines[node.loc.end.line];\n      semicolon = this.lines[node.loc.end.line].slice(node.loc.end.column - 1).indexOf(';');\n      if (semicolon >= 0) {\n        semicolonLength = this.lines[node.loc.end.line].slice(node.loc.end.column - 1).match(/;\\s*/)[0].length;\n        return {\n          start: {\n            line: node.loc.start.line,\n            column: node.loc.start.column\n          },\n          end: {\n            line: node.loc.end.line,\n            column: node.loc.end.column + semicolon + semicolonLength - 1\n          }\n        };\n      }\n    }\n    return {\n      start: {\n        line: node.loc.start.line,\n        column: node.loc.start.column\n      },\n      end: {\n        line: node.loc.end.line,\n        column: node.loc.end.column\n      }\n    };\n  };\n\n  JavaScriptParser.prototype.getCaseIndentBounds = function(node) {\n    var bounds;\n    bounds = {\n      start: this.getBounds(node.consequent[0]).start,\n      end: this.getBounds(node.consequent[node.consequent.length - 1]).end\n    };\n    if (this.lines[bounds.start.line].slice(0, bounds.start.column).trim().length === 0) {\n      bounds.start.line -= 1;\n      bounds.start.column = this.lines[bounds.start.line].length;\n    }\n    if (this.lines[bounds.end.line].slice(0, bounds.end.column).trim().length === 0) {\n      bounds.end.line -= 1;\n      bounds.end.column = this.lines[bounds.end.line].length;\n    }\n    return bounds;\n  };\n\n  JavaScriptParser.prototype.getIndentPrefix = function(bounds, indentDepth) {\n    var line;\n    if (bounds.end.line - bounds.start.line < 1) {\n      return DEFAULT_INDENT_DEPTH;\n    } else {\n      line = this.lines[bounds.start.line + 1];\n      return line.slice(indentDepth, line.length - line.trimLeft().length);\n    }\n  };\n\n  JavaScriptParser.prototype.isComment = function(text) {\n    return text.match(/^\\s*\\/\\/.*$/) != null;\n  };\n\n  JavaScriptParser.prototype.parseComment = function(text) {\n    return {\n      sockets: [[text.match(/^\\s*\\/\\//)[0].length, text.length]]\n    };\n  };\n\n  JavaScriptParser.prototype.handleButton = function(text, button, oldBlock) {\n    var argCount, currentElif, elementCount, elseLocation, known, lastArgPosition, lastElPosition, lastParamPosition, lines, match, maxArgs, minArgs, newLastArgPosition, newLastElPosition, newLastParamPosition, node, paramCount;\n    if (indexOf.call(oldBlock.classes, 'IfStatement') >= 0) {\n      node = acorn.parse(text, {\n        locations: true,\n        line: 0,\n        allowReturnOutsideFunction: true\n      }).body[0];\n      currentElif = node;\n      elseLocation = null;\n      while (true) {\n        if (currentElif.type === 'IfStatement') {\n          if (currentElif.alternate != null) {\n            elseLocation = {\n              line: currentElif.alternate.loc.start.line,\n              column: currentElif.alternate.loc.start.column\n            };\n            currentElif = currentElif.alternate;\n          } else {\n            elseLocation = null;\n            break;\n          }\n        } else {\n          break;\n        }\n      }\n      lines = text.split('\\n');\n      if (button === 'add-button') {\n        if (elseLocation != null) {\n          elseLocation = lines.slice(0, elseLocation.line).join('\\n').length + elseLocation.column + 1;\n          return text.slice(0, elseLocation).trimRight() + ' if (__) ' + text.slice(elseLocation).trimLeft() + ' else {\\n  __\\n}';\n        } else {\n          return text + ' else {\\n  __\\n}';\n        }\n      } else if (button === 'subtract-button') {\n        if (elseLocation != null) {\n          elseLocation = lines.slice(0, elseLocation.line).join('\\n').length + elseLocation.column + 1;\n        } else if (currentElif.loc.start != null) {\n          elseLocation = lines.slice(0, currentElif.loc.start.line).join('\\n').length + currentElif.loc.start.column + 1;\n        }\n        if (elseLocation != null) {\n          return text.slice(0, elseLocation).trimRight().replace(/(\\s*)else(\\s*)+$/, '');\n        }\n      }\n    } else if (indexOf.call(oldBlock.classes, 'CallExpression') >= 0) {\n      node = acorn.parse(text, {\n        line: 0,\n        allowReturnOutsideFunction: true\n      }).body[0];\n      known = this.lookupKnownName(node.expression);\n      argCount = node.expression[\"arguments\"].length;\n      if (button === 'add-button') {\n        maxArgs = known != null ? known.fn.maxArgs : void 0;\n        if (maxArgs == null) {\n          maxArgs = 2e308;\n        }\n        if (argCount >= maxArgs) {\n          return;\n        }\n        if (argCount) {\n          lastArgPosition = node.expression[\"arguments\"][argCount - 1].end;\n          return text.slice(0, lastArgPosition).trimRight() + ', __' + text.slice(lastArgPosition).trimLeft();\n        } else {\n          lastArgPosition = node.expression.end - 1;\n          return text.slice(0, lastArgPosition).trimRight() + '__' + text.slice(lastArgPosition).trimLeft();\n        }\n      } else if (button === 'subtract-button') {\n        minArgs = known != null ? known.fn.minArgs : void 0;\n        if (minArgs == null) {\n          minArgs = 0;\n        }\n        if (argCount <= minArgs) {\n          return;\n        }\n        if (argCount > 0) {\n          lastArgPosition = node.expression[\"arguments\"][argCount - 1].end;\n          if (argCount === 1) {\n            newLastArgPosition = node.expression[\"arguments\"][0].start;\n          } else {\n            newLastArgPosition = node.expression[\"arguments\"][argCount - 2].end;\n          }\n          return text.slice(0, newLastArgPosition).trimRight() + text.slice(lastArgPosition).trimLeft();\n        }\n      }\n    } else if (indexOf.call(oldBlock.classes, 'FunctionDeclaration') >= 0) {\n      node = acorn.parse(text, {\n        line: 0,\n        allowReturnOutsideFunction: true\n      }).body[0];\n      paramCount = node.params.length;\n      if (button === 'add-button') {\n        if (paramCount) {\n          lastParamPosition = node.params[paramCount - 1].end;\n          return text.slice(0, lastParamPosition).trimRight() + ', __' + text.slice(lastParamPosition).trimLeft();\n        } else {\n          match = text.match(/\\((\\s*)\\)/);\n          if (match != null) {\n            lastParamPosition = match.index + 1;\n            return text.slice(0, lastParamPosition).trimRight() + '__' + text.slice(lastParamPosition).trimLeft();\n          }\n        }\n      } else if (button === 'subtract-button') {\n        if (paramCount > 0) {\n          lastParamPosition = node.params[paramCount - 1].end;\n          if (paramCount === 1) {\n            newLastParamPosition = node.params[0].start;\n          } else {\n            newLastParamPosition = node.params[paramCount - 2].end;\n          }\n          return text.slice(0, newLastParamPosition).trimRight() + text.slice(lastParamPosition).trimLeft();\n        }\n      }\n    } else if (indexOf.call(oldBlock.classes, 'ArrayExpression') >= 0) {\n      node = acorn.parse(text, {\n        line: 0,\n        allowReturnOutsideFunction: true\n      }).body[0];\n      elementCount = node.expression.elements.length;\n      if (button === 'add-button') {\n        if (elementCount) {\n          lastElPosition = node.expression.elements[elementCount - 1].end;\n          return text.slice(0, lastElPosition).trimRight() + ', __' + text.slice(lastElPosition).trimLeft();\n        } else {\n          lastElPosition = node.expression.end - 1;\n          return text.slice(0, lastElPosition).trimRight() + '__' + text.slice(lastElPosition).trimLeft();\n        }\n      } else if (button === 'subtract-button') {\n        if (elementCount > 0) {\n          lastElPosition = node.expression.elements[elementCount - 1].end;\n          if (elementCount === 1) {\n            newLastElPosition = node.expression.elements[0].start;\n          } else {\n            newLastElPosition = node.expression.elements[elementCount - 2].end;\n          }\n          return text.slice(0, newLastElPosition).trimRight() + text.slice(lastElPosition).trimLeft();\n        }\n      }\n    }\n  };\n\n  JavaScriptParser.prototype.mark = function(indentDepth, node, depth, bounds) {\n    var argCount, argument, block, buttons, classes, currentElif, declaration, element, endPosition, expression, i, j, k, known, l, len, len1, len2, len3, len4, len5, len6, len7, len8, len9, m, match, maxArgs, minArgs, n, noFunctionDrop, nodeBoundsStart, o, p, param, position, prefix, property, q, r, ref, ref1, ref10, ref11, ref12, ref13, ref14, ref15, ref16, ref17, ref18, ref2, ref3, ref4, ref5, ref6, ref7, ref8, ref9, results, results1, results2, results3, results4, results5, results6, results7, results8, results9, s, showButtons, space, statement, string, switchCase;\n    switch (node.type) {\n      case 'Program':\n        ref = node.body;\n        results = [];\n        for (j = 0, len = ref.length; j < len; j++) {\n          statement = ref[j];\n          results.push(this.mark(indentDepth, statement, depth + 1, null));\n        }\n        return results;\n        break;\n      case 'Function':\n        this.jsBlock(node, depth, bounds);\n        return this.mark(indentDepth, node.body, depth + 1, null);\n      case 'SequenceExpression':\n        this.jsBlock(node, depth, bounds);\n        ref1 = node.expressions;\n        results1 = [];\n        for (k = 0, len1 = ref1.length; k < len1; k++) {\n          expression = ref1[k];\n          results1.push(this.jsSocketAndMark(indentDepth, expression, depth + 1, null));\n        }\n        return results1;\n        break;\n      case 'FunctionDeclaration':\n        buttons = {\n          onFirstLine: true\n        };\n        if (!(this.opts.lockZeroParamFunctions && node.params.length === 0)) {\n          buttons.addButton = '\\u2192';\n        }\n        if (node.params.length > 0) {\n          buttons.subtractButton = '\\u2190';\n        }\n        this.jsBlock(node, depth, bounds, buttons);\n        this.mark(indentDepth, node.body, depth + 1, null);\n        this.jsSocketAndMark(indentDepth, node.id, depth + 1, null, null, ['no-drop']);\n        ref2 = node.params;\n        results2 = [];\n        for (l = 0, len2 = ref2.length; l < len2; l++) {\n          param = ref2[l];\n          results2.push(this.jsSocketAndMark(indentDepth, param, depth + 1, NEVER_PAREN));\n        }\n        return results2;\n        break;\n      case 'FunctionExpression':\n        this.jsBlock(node, depth, bounds);\n        this.mark(indentDepth, node.body, depth + 1, null);\n        if (node.id != null) {\n          this.jsSocketAndMark(indentDepth, node.id, depth + 1, null, null, ['no-drop']);\n        }\n        if (node.params.length > 0) {\n          return this.addSocket({\n            bounds: {\n              start: this.getBounds(node.params[0]).start,\n              end: this.getBounds(node.params[node.params.length - 1]).end\n            },\n            depth: depth + 1,\n            precedence: 0,\n            dropdown: null,\n            classes: ['no-drop'],\n            empty: ''\n          });\n        } else if (!this.opts.lockZeroParamFunctions) {\n          if (node.id != null) {\n            nodeBoundsStart = this.getBounds(node.id).end;\n            match = this.lines[nodeBoundsStart.line].slice(nodeBoundsStart.column).match(/^(\\s*\\()(\\s*)\\)/);\n          } else {\n            nodeBoundsStart = this.getBounds(node).start;\n            match = this.lines[nodeBoundsStart.line].slice(nodeBoundsStart.column).match(/^(\\s*function\\s*\\()(\\s*)\\)/);\n          }\n          if (match != null) {\n            return position = this.addSocket({\n              bounds: {\n                start: {\n                  line: nodeBoundsStart.line,\n                  column: nodeBoundsStart.column + match[1].length\n                },\n                end: {\n                  line: nodeBoundsStart.line,\n                  column: nodeBoundsStart.column + match[1].length + match[2].length\n                }\n              },\n              depth: depth,\n              precedence: 0,\n              dropdown: null,\n              classes: ['forbid-all', '__function_param__'],\n              empty: ''\n            });\n          }\n        }\n        break;\n      case 'AssignmentExpression':\n        this.jsBlock(node, depth, bounds);\n        this.jsSocketAndMark(indentDepth, node.left, depth + 1, NEVER_PAREN);\n        return this.jsSocketAndMark(indentDepth, node.right, depth + 1, NEVER_PAREN);\n      case 'ReturnStatement':\n        this.jsBlock(node, depth, bounds);\n        if (node.argument != null) {\n          return this.jsSocketAndMark(indentDepth, node.argument, depth + 1, null);\n        }\n        break;\n      case 'IfStatement':\n      case 'ConditionalExpression':\n        buttons = {\n          addButton: '+'\n        };\n        if (node.alternate) {\n          buttons.subtractButton = '-';\n        }\n        this.jsBlock(node, depth, bounds, buttons);\n        this.jsSocketAndMark(indentDepth, node.test, depth + 1, NEVER_PAREN);\n        this.jsSocketAndMark(indentDepth, node.consequent, depth + 1, null);\n        currentElif = node.alternate;\n        results3 = [];\n        while (currentElif != null) {\n          if (currentElif.type === 'IfStatement') {\n            this.jsSocketAndMark(indentDepth, currentElif.test, depth + 1, null);\n            this.jsSocketAndMark(indentDepth, currentElif.consequent, depth + 1, null);\n            results3.push(currentElif = currentElif.alternate);\n          } else {\n            this.jsSocketAndMark(indentDepth, currentElif, depth + 1, 10);\n            results3.push(currentElif = null);\n          }\n        }\n        return results3;\n        break;\n      case 'ForInStatement':\n        this.jsBlock(node, depth, bounds);\n        if (node.left != null) {\n          this.jsSocketAndMark(indentDepth, node.left, depth + 1, NEVER_PAREN, null, ['foreach-lhs']);\n        }\n        if (node.right != null) {\n          this.jsSocketAndMark(indentDepth, node.right, depth + 1, 10);\n        }\n        return this.mark(indentDepth, node.body, depth + 1);\n      case 'BreakStatement':\n      case 'ContinueStatement':\n        this.jsBlock(node, depth, bounds);\n        if (node.label != null) {\n          return this.jsSocketAndMark(indentDepth, node.label, depth + 1, null);\n        }\n        break;\n      case 'ThrowStatement':\n        this.jsBlock(node, depth, bounds);\n        return this.jsSocketAndMark(indentDepth, node.argument, depth + 1, null);\n      case 'ForStatement':\n        this.jsBlock(node, depth, bounds);\n        if (this.opts.categories.loops.beginner && isStandardForLoop(node)) {\n          this.jsSocketAndMark(indentDepth, node.test.right);\n        } else {\n          if (node.init != null) {\n            this.jsSocketAndMark(indentDepth, node.init, depth + 1, NEVER_PAREN, null, ['for-statement-init']);\n          }\n          if (node.test != null) {\n            this.jsSocketAndMark(indentDepth, node.test, depth + 1, 10);\n          }\n          if (node.update != null) {\n            this.jsSocketAndMark(indentDepth, node.update, depth + 1, 10, null, ['for-statement-update']);\n          }\n        }\n        return this.mark(indentDepth, node.body, depth + 1);\n      case 'BlockStatement':\n        prefix = this.getIndentPrefix(this.getBounds(node), indentDepth);\n        indentDepth += prefix.length;\n        this.addIndent({\n          bounds: this.getBounds(node),\n          depth: depth,\n          prefix: prefix\n        });\n        ref3 = node.body;\n        results4 = [];\n        for (m = 0, len3 = ref3.length; m < len3; m++) {\n          statement = ref3[m];\n          results4.push(this.mark(indentDepth, statement, depth + 1, null));\n        }\n        return results4;\n        break;\n      case 'BinaryExpression':\n        this.jsBlock(node, depth, bounds);\n        this.jsSocketAndMark(indentDepth, node.left, depth + 1, OPERATOR_PRECEDENCES[node.operator]);\n        return this.jsSocketAndMark(indentDepth, node.right, depth + 1, OPERATOR_PRECEDENCES[node.operator]);\n      case 'UnaryExpression':\n        if (!(((ref4 = node.operator) === '-' || ref4 === '+') && ((ref5 = node.argument.type) === 'Identifier' || ref5 === 'Literal'))) {\n          this.jsBlock(node, depth, bounds);\n          return this.jsSocketAndMark(indentDepth, node.argument, depth + 1, this.getPrecedence(node));\n        }\n        break;\n      case 'ExpressionStatement':\n        return this.mark(indentDepth, node.expression, depth + 1, this.getBounds(node));\n      case 'Identifier':\n        if (node.name === '__') {\n          block = this.jsBlock(node, depth, bounds);\n          return block.flagToRemove = true;\n        } else if (this.lookupKnownName(node)) {\n          return this.jsBlock(node, depth, bounds);\n        }\n        break;\n      case 'CallExpression':\n      case 'NewExpression':\n        known = this.lookupKnownName(node);\n        buttons = {};\n        argCount = node[\"arguments\"].length;\n        if (known != null ? known.fn : void 0) {\n          showButtons = (known.fn.minArgs != null) || (known.fn.maxArgs != null);\n          minArgs = (ref6 = known.fn.minArgs) != null ? ref6 : 0;\n          maxArgs = (ref7 = known.fn.maxArgs) != null ? ref7 : 2e308;\n        } else {\n          showButtons = this.opts.paramButtonsForUnknownFunctions && (argCount !== 0 || !this.opts.lockZeroParamFunctions);\n          minArgs = 0;\n          maxArgs = 2e308;\n        }\n        if (showButtons) {\n          if (argCount < maxArgs) {\n            buttons.addButton = '\\u2192';\n          }\n          if (argCount > minArgs) {\n            buttons.subtractButton = '\\u2190';\n          }\n        }\n        this.jsBlock(node, depth, bounds, buttons);\n        if (!known) {\n          this.jsSocketAndMark(indentDepth, node.callee, depth + 1, NEVER_PAREN);\n        } else if (known.anyobj && node.callee.type === 'MemberExpression') {\n          this.jsSocketAndMark(indentDepth, node.callee.object, depth + 1, NEVER_PAREN, null, null, known != null ? (ref8 = known.fn) != null ? ref8.objectDropdown : void 0 : void 0);\n        }\n        ref9 = node[\"arguments\"];\n        for (i = n = 0, len4 = ref9.length; n < len4; i = ++n) {\n          argument = ref9[i];\n          noFunctionDrop = this.opts.lockFunctionDropIntoKnownParams && (known != null ? known.fn : void 0) && !(known != null ? (ref10 = known.fn) != null ? (ref11 = ref10.allowFunctionDrop) != null ? ref11[i] : void 0 : void 0 : void 0);\n          classes = noFunctionDrop ? ['no-function-drop'] : null;\n          this.jsSocketAndMark(indentDepth, argument, depth + 1, NEVER_PAREN, null, classes, known != null ? (ref12 = known.fn) != null ? (ref13 = ref12.dropdown) != null ? ref13[i] : void 0 : void 0 : void 0);\n        }\n        if (!known && argCount === 0 && !this.opts.lockZeroParamFunctions) {\n          position = {\n            line: node.callee.loc.end.line,\n            column: node.callee.loc.end.column\n          };\n          string = this.lines[position.line].slice(position.column).match(/^\\s*\\(/)[0];\n          position.column += string.length;\n          endPosition = {\n            line: position.line,\n            column: position.column\n          };\n          space = this.lines[position.line].slice(position.column).match(/^(\\s*)\\)/);\n          if (space != null) {\n            endPosition.column += space[1].length;\n          }\n          return this.addSocket({\n            bounds: {\n              start: position,\n              end: endPosition\n            },\n            depth: depth + 1,\n            precedence: NEVER_PAREN,\n            dropdown: null,\n            classes: ['mostly-value'],\n            empty: ''\n          });\n        }\n        break;\n      case 'MemberExpression':\n        this.jsBlock(node, depth, bounds);\n        known = this.lookupKnownName(node);\n        if (!known) {\n          this.jsSocketAndMark(indentDepth, node.property, depth + 1);\n        }\n        if (!known || known.anyobj) {\n          return this.jsSocketAndMark(indentDepth, node.object, depth + 1);\n        }\n        break;\n      case 'UpdateExpression':\n        this.jsBlock(node, depth, bounds);\n        return this.jsSocketAndMark(indentDepth, node.argument, depth + 1);\n      case 'VariableDeclaration':\n        this.jsBlock(node, depth, bounds);\n        ref14 = node.declarations;\n        results5 = [];\n        for (o = 0, len5 = ref14.length; o < len5; o++) {\n          declaration = ref14[o];\n          results5.push(this.mark(indentDepth, declaration, depth + 1));\n        }\n        return results5;\n        break;\n      case 'VariableDeclarator':\n        this.jsSocketAndMark(indentDepth, node.id, depth);\n        if (node.init != null) {\n          return this.jsSocketAndMark(indentDepth, node.init, depth, NEVER_PAREN);\n        }\n        break;\n      case 'LogicalExpression':\n        this.jsBlock(node, depth, bounds);\n        this.jsSocketAndMark(indentDepth, node.left, depth + 1, this.getPrecedence(node));\n        return this.jsSocketAndMark(indentDepth, node.right, depth + 1, this.getPrecedence(node));\n      case 'WhileStatement':\n      case 'DoWhileStatement':\n        this.jsBlock(node, depth, bounds);\n        this.jsSocketAndMark(indentDepth, node.body, depth + 1);\n        return this.jsSocketAndMark(indentDepth, node.test, depth + 1);\n      case 'ObjectExpression':\n        this.jsBlock(node, depth, bounds);\n        ref15 = node.properties;\n        results6 = [];\n        for (p = 0, len6 = ref15.length; p < len6; p++) {\n          property = ref15[p];\n          this.jsSocketAndMark(indentDepth, property.key, depth + 1);\n          results6.push(this.jsSocketAndMark(indentDepth, property.value, depth + 1));\n        }\n        return results6;\n        break;\n      case 'SwitchStatement':\n        this.jsBlock(node, depth, bounds);\n        this.jsSocketAndMark(indentDepth, node.discriminant, depth + 1);\n        ref16 = node.cases;\n        results7 = [];\n        for (q = 0, len7 = ref16.length; q < len7; q++) {\n          switchCase = ref16[q];\n          results7.push(this.mark(indentDepth, switchCase, depth + 1, null));\n        }\n        return results7;\n        break;\n      case 'SwitchCase':\n        if (node.test != null) {\n          this.jsSocketAndMark(indentDepth, node.test, depth + 1);\n        }\n        if (node.consequent.length > 0) {\n          bounds = this.getCaseIndentBounds(node);\n          prefix = this.getIndentPrefix(this.getBounds(node), indentDepth);\n          indentDepth += prefix.length;\n          this.addIndent({\n            bounds: bounds,\n            depth: depth + 1,\n            prefix: prefix\n          });\n          ref17 = node.consequent;\n          results8 = [];\n          for (r = 0, len8 = ref17.length; r < len8; r++) {\n            statement = ref17[r];\n            results8.push(this.mark(indentDepth, statement, depth + 2));\n          }\n          return results8;\n        }\n        break;\n      case 'TryStatement':\n        this.jsBlock(node, depth, bounds);\n        this.jsSocketAndMark(indentDepth, node.block, depth + 1, null);\n        if (node.handler != null) {\n          if (node.handler.guard != null) {\n            this.jsSocketAndMark(indentDepth, node.handler.guard, depth + 1, null);\n          }\n          if (node.handler.param != null) {\n            this.jsSocketAndMark(indentDepth, node.handler.param, depth + 1, null);\n          }\n          this.jsSocketAndMark(indentDepth, node.handler.body, depth + 1, null);\n        }\n        if (node.finalizer != null) {\n          return this.jsSocketAndMark(indentDepth, node.finalizer, depth + 1, null);\n        }\n        break;\n      case 'ArrayExpression':\n        buttons = {\n          addButton: '\\u2192'\n        };\n        if (node.elements.length > 0) {\n          buttons.subtractButton = '\\u2190';\n        }\n        this.jsBlock(node, depth, bounds, buttons);\n        ref18 = node.elements;\n        results9 = [];\n        for (s = 0, len9 = ref18.length; s < len9; s++) {\n          element = ref18[s];\n          if (element != null) {\n            results9.push(this.jsSocketAndMark(indentDepth, element, depth + 1, null));\n          } else {\n            results9.push(void 0);\n          }\n        }\n        return results9;\n        break;\n      case 'Literal':\n        return null;\n      default:\n        return console.log('Unrecognized', node);\n    }\n  };\n\n  JavaScriptParser.prototype.jsBlock = function(node, depth, bounds, buttons) {\n    return this.addBlock({\n      bounds: bounds != null ? bounds : this.getBounds(node),\n      depth: depth,\n      precedence: this.getPrecedence(node),\n      color: this.getColor(node),\n      classes: this.getClasses(node),\n      socketLevel: this.getSocketLevel(node),\n      buttons: buttons\n    });\n  };\n\n  JavaScriptParser.prototype.jsSocketAndMark = function(indentDepth, node, depth, precedence, bounds, classes, dropdown, empty) {\n    if (node.type !== 'BlockStatement') {\n      this.addSocket({\n        bounds: bounds != null ? bounds : this.getBounds(node),\n        depth: depth,\n        precedence: precedence,\n        classes: classes != null ? classes : [],\n        dropdown: dropdown,\n        empty: empty\n      });\n    }\n    return this.mark(indentDepth, node, depth + 1, bounds);\n  };\n\n  return JavaScriptParser;\n\n})(parser.Parser);\n\nJavaScriptParser.parens = function(leading, trailing, node, context) {\n  if (indexOf.call(node.classes, '__comment__') >= 0) {\n    return;\n  }\n  if ((context != null ? context.type : void 0) === 'socket' || ((context == null) && indexOf.call(node.classes, 'mostly-value') >= 0 || indexOf.call(node.classes, 'value-only') >= 0) || indexOf.call(node.classes, 'ends-with-brace') >= 0 || node.type === 'document') {\n    trailing(trailing().replace(/;?\\s*$/, ''));\n  } else {\n    trailing(trailing().replace(/;?\\s*$/, ';'));\n  }\n  while (true) {\n    if ((leading().match(/^\\s*\\(/) != null) && (trailing().match(/\\)\\s*/) != null)) {\n      leading(leading().replace(/^\\s*\\(\\s*/, ''));\n      trailing(trailing().replace(/\\s*\\)\\s*$/, ''));\n    } else {\n      break;\n    }\n  }\n  if (!(context === null || context.type !== 'socket' || context.precedence > node.precedence)) {\n    leading('(' + leading());\n    return trailing(trailing() + ')');\n  }\n};\n\nJavaScriptParser.drop = function(block, context, pred) {\n  var ref, ref1;\n  if (context.type === 'socket') {\n    if (indexOf.call(context.classes, 'lvalue') >= 0) {\n      if (indexOf.call(block.classes, 'Value') >= 0 && ((ref = block.properties) != null ? ref.length : void 0) > 0) {\n        return helper.ENCOURAGE;\n      } else {\n        return helper.FORBID;\n      }\n    } else if (indexOf.call(context.classes, 'no-drop') >= 0) {\n      return helper.FORBID;\n    } else if (indexOf.call(context.classes, 'no-function-drop') >= 0 && indexOf.call(block.classes, 'function-value') >= 0) {\n      return helper.FORBID;\n    } else if (indexOf.call(context.classes, 'property-access') >= 0) {\n      if (indexOf.call(block.classes, 'works-as-method-call') >= 0) {\n        return helper.ENCOURAGE;\n      } else {\n        return helper.FORBID;\n      }\n    } else if (indexOf.call(block.classes, 'value-only') >= 0 || indexOf.call(block.classes, 'mostly-value') >= 0 || indexOf.call(block.classes, 'any-drop') >= 0 || indexOf.call(context.classes, 'for-statement-init') >= 0 || (indexOf.call(block.classes, 'mostly-block') >= 0 && indexOf.call(context.classes, 'for-statement-update') >= 0)) {\n      return helper.ENCOURAGE;\n    } else if (indexOf.call(block.classes, 'mostly-block') >= 0) {\n      return helper.DISCOURAGE;\n    }\n  } else if ((ref1 = context.type) === 'indent' || ref1 === 'document') {\n    if (indexOf.call(block.classes, 'block-only') >= 0 || indexOf.call(block.classes, 'mostly-block') >= 0 || indexOf.call(block.classes, 'any-drop') >= 0 || block.type === 'document') {\n      return helper.ENCOURAGE;\n    } else if (indexOf.call(block.classes, 'mostly-value') >= 0) {\n      return helper.DISCOURAGE;\n    }\n  }\n  return helper.DISCOURAGE;\n};\n\nisStandardForLoop = function(node) {\n  var ref, variableName;\n  if (!((node.init != null) && (node.test != null) && (node.update != null))) {\n    return false;\n  }\n  if (node.init.type === 'VariableDeclaration') {\n    variableName = node.init.declarations[0].id.name;\n  } else if (node.init.type === 'AssignmentExpression' && node.operator === '=' && node.left.type === 'Identifier') {\n    variableName = node.left.name;\n  } else {\n    return false;\n  }\n  return node.test.type === 'BinaryExpression' && node.test.operator === '<' && node.test.left.type === 'Identifier' && node.test.left.name === variableName && ((ref = node.test.right.type) === 'Literal' || ref === 'Identifier') && node.update.type === 'UpdateExpression' && node.update.operator === '++' && node.update.argument.type === 'Identifier' && node.update.argument.name === variableName;\n};\n\nJavaScriptParser.empty = \"__\";\n\nJavaScriptParser.emptyIndent = \"\";\n\nJavaScriptParser.startComment = '/*';\n\nJavaScriptParser.endComment = '*/';\n\nJavaScriptParser.startSingleLineComment = '//';\n\nJavaScriptParser.getDefaultSelectionRange = function(string) {\n  var end, ref, start;\n  start = 0;\n  end = string.length;\n  if (string[0] === string[string.length - 1] && ((ref = string[0]) === '\"' || ref === '\\'' || ref === '/')) {\n    start += 1;\n    end -= 1;\n  }\n  return {\n    start: start,\n    end: end\n  };\n};\n\nmodule.exports = parser.wrapParser(JavaScriptParser);\n\n\n},{\"../../vendor/acorn\":35,\"../helper.coffee\":28,\"../model.coffee\":31,\"../parser.coffee\":33}],30:[function(require,module,exports){\nmodule.exports = {\n  Editor: require('./controller.coffee').Editor\n};\n\n\n},{\"./controller.coffee\":26}],31:[function(require,module,exports){\nvar Block, BlockEndToken, BlockStartToken, Container, DEFAULT_STRINGIFY_OPTS, Document, DocumentEndToken, DocumentStartToken, EndToken, FORBID, Indent, IndentEndToken, IndentStartToken, List, Location, NO, NORMAL, NewlineToken, Operation, ReplaceOperation, Socket, SocketEndToken, SocketStartToken, StartToken, TextLocation, TextToken, Token, YES, _id, helper, isTreeValid, traverseOneLevel,\n  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty;\n\nhelper = require('./helper.coffee');\n\nYES = function() {\n  return true;\n};\n\nNO = function() {\n  return false;\n};\n\nNORMAL = {\n  \"default\": helper.NORMAL\n};\n\nFORBID = {\n  \"default\": helper.FORBID\n};\n\nDEFAULT_STRINGIFY_OPTS = {\n  preserveEmpty: true\n};\n\n_id = 0;\n\nFunction.prototype.trigger = function(prop, get, set) {\n  return Object.defineProperty(this.prototype, prop, {\n    get: get,\n    set: set\n  });\n};\n\nexports.isTreeValid = isTreeValid = function(tree) {\n  var hare, k, lastHare, ref, ref1, ref2, ref3, stack, tortise;\n  tortise = hare = tree.start.next;\n  stack = [];\n  while (true) {\n    tortise = tortise.next;\n    lastHare = hare;\n    hare = hare.next;\n    if (hare == null) {\n      window._droplet_debug_lastHare = lastHare;\n      throw new Error('Ran off the end of the document before EOF');\n    }\n    if (lastHare !== hare.prev) {\n      throw new Error('Linked list is not properly bidirectional');\n    }\n    if (hare === tree.end) {\n      if (stack.length > 0) {\n        throw new Error('Document ended before: ' + ((function() {\n          var j, len, results;\n          results = [];\n          for (j = 0, len = stack.length; j < len; j++) {\n            k = stack[j];\n            results.push(k.type);\n          }\n          return results;\n        })()).join(','));\n      }\n      break;\n    }\n    if (hare instanceof StartToken) {\n      stack.push(hare.container);\n    } else if (hare instanceof EndToken) {\n      if (stack[stack.length - 1] !== hare.container) {\n        throw new Error(\"Stack does not align \" + ((ref = stack[stack.length - 1]) != null ? ref.type : void 0) + \" != \" + ((ref1 = hare.container) != null ? ref1.type : void 0));\n      } else {\n        stack.pop();\n      }\n    }\n    lastHare = hare;\n    hare = hare.next;\n    if (hare == null) {\n      window._droplet_debug_lastHare = lastHare;\n      throw new Error('Ran off the end of the document before EOF');\n    }\n    if (lastHare !== hare.prev) {\n      throw new Error('Linked list is not properly bidirectional');\n    }\n    if (hare === tree.end) {\n      if (stack.length > 0) {\n        throw new Error('Document ended before: ' + ((function() {\n          var j, len, results;\n          results = [];\n          for (j = 0, len = stack.length; j < len; j++) {\n            k = stack[j];\n            results.push(k.type);\n          }\n          return results;\n        })()).join(','));\n      }\n      break;\n    }\n    if (hare instanceof StartToken) {\n      stack.push(hare.container);\n    } else if (hare instanceof EndToken) {\n      if (stack[stack.length - 1] !== hare.container) {\n        throw new Error(\"Stack does not align \" + ((ref2 = stack[stack.length - 1]) != null ? ref2.type : void 0) + \" != \" + ((ref3 = hare.container) != null ? ref3.type : void 0));\n      } else {\n        stack.pop();\n      }\n    }\n    if (tortise === hare) {\n      throw new Error('Linked list loops');\n    }\n  }\n  return true;\n};\n\nOperation = (function() {\n  function Operation(type, list) {\n    this.type = type;\n    this.location = null;\n    this.list = list.clone();\n    this.start = list.start.getLocation();\n    this.end = list.end.getLocation();\n  }\n\n  Operation.prototype.toString = function() {\n    return JSON.stringify({\n      location: this.location.toString(),\n      list: this.list.stringify(),\n      start: this.start.toString(),\n      end: this.end.toString(),\n      type: this.type\n    });\n  };\n\n  return Operation;\n\n})();\n\nReplaceOperation = (function() {\n  function ReplaceOperation(beforeStart1, before1, beforeEnd1, afterStart1, after1, afterEnd1) {\n    this.beforeStart = beforeStart1;\n    this.before = before1;\n    this.beforeEnd = beforeEnd1;\n    this.afterStart = afterStart1;\n    this.after = after1;\n    this.afterEnd = afterEnd1;\n    this.type = 'replace';\n  }\n\n  ReplaceOperation.prototype.toString = function() {\n    return JSON.stringify({\n      beforeStart: this.beforeStart.toString(),\n      before: this.before.stringify(),\n      beforeEnd: this.beforeEnd.toString(),\n      afterStart: this.afterStart.toString(),\n      after: this.after.stringify(),\n      afterEnd: this.afterEnd.toString(),\n      type: this.type\n    });\n  };\n\n  return ReplaceOperation;\n\n})();\n\nexports.List = List = (function() {\n  function List(start1, end) {\n    this.start = start1;\n    this.end = end;\n    this.id = ++_id;\n    this.type = 'list';\n  }\n\n  List.prototype.hasParent = function(x) {\n    return false;\n  };\n\n  List.prototype.contains = function(token) {\n    var head;\n    if (token instanceof Container) {\n      token = token.start;\n    }\n    head = this.start;\n    while (head !== this.end) {\n      if (head === token) {\n        return true;\n      }\n      head = head.next;\n    }\n    if (token === this.end) {\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  List.prototype.getDocument = function() {\n    return this.start.getDocument();\n  };\n\n  List.prototype.insert = function(token, list, updates) {\n    var after, first, head, last, location, operation, ref, updateTokens;\n    if (updates == null) {\n      updates = [];\n    }\n    ref = [list.start, list.end], first = ref[0], last = ref[1];\n    updateTokens = updates.map((function(_this) {\n      return function(x) {\n        return _this.getFromLocation(x);\n      };\n    })(this));\n    switch (token.type) {\n      case 'indentStart':\n        head = token.container.end.prev;\n        if (head.type === 'newline') {\n          token = token.next;\n        } else {\n          first = new NewlineToken();\n          helper.connect(first, list.start);\n        }\n        break;\n      case 'blockEnd':\n        first = new NewlineToken();\n        helper.connect(first, list.start);\n        break;\n      case 'documentStart':\n        if (token.next !== token.container.end) {\n          last = new NewlineToken();\n          helper.connect(list.end, last);\n        }\n    }\n    location = token.getLocation();\n    list = new List(first, last);\n    after = token.next;\n    helper.connect(token, list.start);\n    if (token instanceof StartToken) {\n      list.setParent(token.container);\n    } else {\n      list.setParent(token.parent);\n    }\n    helper.connect(list.end, after);\n    list.notifyChange();\n    if (location != null) {\n      operation = new Operation('insert', list);\n      operation.location = location;\n      updates.forEach(function(x, i) {\n        return x.set(updateTokens[i].getLocation());\n      });\n    } else {\n      operation = null;\n    }\n    return operation;\n  };\n\n  List.prototype.remove = function(list, updates) {\n    var first, last, location, record, ref, ref1, ref2, ref3, updateTokens;\n    if (updates == null) {\n      updates = [];\n    }\n    first = list.start.prev;\n    last = list.end.next;\n    while ((first != null ? first.type : void 0) === 'newline' && ((ref = last != null ? last.type : void 0) === (void 0) || ref === 'newline' || ref === 'indentEnd' || ref === 'documentEnd') && !(((ref1 = first.prev) != null ? ref1.type : void 0) === 'indentStart' && first.prev.container.end === last)) {\n      first = first.prev;\n    }\n    while ((last != null ? last.type : void 0) === 'newline' && ((last != null ? (ref2 = last.next) != null ? ref2.type : void 0 : void 0) === 'newline' || ((ref3 = first != null ? first.type : void 0) === (void 0) || ref3 === 'documentStart'))) {\n      last = last.next;\n    }\n    first = first.next;\n    last = last.prev;\n    list = new List(first, last);\n    list.notifyChange();\n    updateTokens = updates.map((function(_this) {\n      return function(x) {\n        return _this.getFromLocation(x);\n      };\n    })(this)).map((function(_this) {\n      return function(x) {\n        if (list.contains(x)) {\n          return list.start.prev;\n        } else {\n          return x;\n        }\n      };\n    })(this));\n    record = new Operation('remove', list);\n    location = list.start.prev;\n    helper.connect(list.start.prev, list.end.next);\n    list.start.prev = list.end.next = null;\n    list.setParent(null);\n    record.location = location.getLocation();\n    updates.forEach((function(_this) {\n      return function(x, i) {\n        return x.set(updateTokens[i].getLocation());\n      };\n    })(this));\n    return record;\n  };\n\n  List.prototype.replace = function(before, after, updates) {\n    var afterEnd, afterStart, beforeEnd, beforeLength, beforeStart, parent, updateTextLocations;\n    if (updates == null) {\n      updates = [];\n    }\n    updateTextLocations = updates.map((function(_this) {\n      return function(x) {\n        return _this.getFromLocation(x).getTextLocation();\n      };\n    })(this));\n    beforeStart = before.start.getLocation();\n    beforeEnd = before.end.getLocation();\n    beforeLength = before.stringify().length;\n    parent = before.start.parent;\n    helper.connect(before.start.prev, after.start);\n    helper.connect(after.end, before.end.next);\n    before.setParent(null);\n    after.setParent(parent);\n    after.notifyChange();\n    afterStart = after.start.getLocation();\n    afterEnd = after.end.getLocation();\n    updates.forEach((function(_this) {\n      return function(x, i) {\n        return x.set(_this.getFromTextLocation(updateTextLocations[i]).getLocation());\n      };\n    })(this));\n    return new ReplaceOperation(beforeStart, before.clone(), beforeEnd, afterStart, after.clone(), afterEnd);\n  };\n\n  List.prototype.perform = function(operation, direction, updates) {\n    var after, before, list, parent, updateTextLocations, updateTokens;\n    if (updates == null) {\n      updates = [];\n    }\n    if (operation instanceof Operation) {\n      if ((operation.type === 'insert') !== (direction === 'forward')) {\n        list = new List(this.getFromLocation(operation.start), this.getFromLocation(operation.end));\n        list.notifyChange();\n        updateTokens = updates.map((function(_this) {\n          return function(x) {\n            return _this.getFromLocation(x);\n          };\n        })(this)).map((function(_this) {\n          return function(x) {\n            if (list.contains(x)) {\n              return list.start.prev;\n            } else {\n              return x;\n            }\n          };\n        })(this));\n        helper.connect(list.start.prev, list.end.next);\n        updates.forEach(function(x, i) {\n          return x.set(updateTokens[i].getLocation());\n        });\n        return operation;\n      } else if ((operation.type === 'remove') !== (direction === 'forward')) {\n        updateTokens = updates.map((function(_this) {\n          return function(x) {\n            return _this.getFromLocation(x);\n          };\n        })(this));\n        list = operation.list.clone();\n        before = this.getFromLocation(operation.location);\n        after = before.next;\n        helper.connect(before, list.start);\n        helper.connect(list.end, after);\n        if (before instanceof StartToken) {\n          list.setParent(before.container);\n        } else {\n          list.setParent(before.parent);\n        }\n        list.notifyChange();\n        updates.forEach(function(x, i) {\n          return x.set(updateTokens[i].getLocation());\n        });\n        return operation;\n      }\n    } else if (operation.type === 'replace') {\n      updateTextLocations = updates.map((function(_this) {\n        return function(x) {\n          return _this.getFromLocation(x).getTextLocation();\n        };\n      })(this));\n      if (direction === 'forward') {\n        before = new List(this.getFromLocation(operation.beforeStart), this.getFromLocation(operation.beforeEnd));\n        after = operation.after.clone();\n      } else {\n        before = new List(this.getFromLocation(operation.afterStart), this.getFromLocation(operation.afterEnd));\n        after = operation.before.clone();\n      }\n      parent = before.start.parent;\n      helper.connect(before.start.prev, after.start);\n      helper.connect(after.end, before.end.next);\n      after.setParent(parent);\n      before.setParent(null);\n      after.notifyChange();\n      updates.forEach((function(_this) {\n        return function(x, i) {\n          return x.set(_this.getFromTextLocation(updateTextLocations[i]).getLocation());\n        };\n      })(this));\n      return null;\n    }\n  };\n\n  List.prototype.notifyChange = function() {\n    return this.traverseOneLevel(function(head) {\n      return head.notifyChange();\n    });\n  };\n\n  List.prototype.traverseOneLevel = function(fn) {\n    return traverseOneLevel(this.start, fn, this.end);\n  };\n\n  List.prototype.isFirstOnLine = function() {\n    var ref, ref1, ref2, ref3, ref4;\n    return ((ref = this.start.prev) === ((ref1 = this.parent) != null ? ref1.start : void 0) || ref === ((ref2 = this.parent) != null ? (ref3 = ref2.parent) != null ? ref3.start : void 0 : void 0) || ref === null) || ((ref4 = this.start.prev) != null ? ref4.type : void 0) === 'newline';\n  };\n\n  List.prototype.isLastOnLine = function() {\n    var ref, ref1, ref2, ref3, ref4, ref5;\n    return ((ref = this.end.next) === ((ref1 = this.parent) != null ? ref1.end : void 0) || ref === ((ref2 = this.parent) != null ? (ref3 = ref2.parent) != null ? ref3.end : void 0 : void 0) || ref === null) || ((ref4 = (ref5 = this.end.next) != null ? ref5.type : void 0) === 'newline' || ref4 === 'indentStart' || ref4 === 'indentEnd');\n  };\n\n  List.prototype.getReader = function() {\n    return {\n      type: 'document',\n      classes: []\n    };\n  };\n\n  List.prototype.setParent = function(parent) {\n    return traverseOneLevel(this.start, (function(head) {\n      return head.setParent(parent);\n    }), this.end);\n  };\n\n  List.prototype.clone = function() {\n    var assembler, clone, head;\n    assembler = head = {};\n    this.traverseOneLevel((function(_this) {\n      return function(head) {\n        var clone;\n        if (head instanceof Container) {\n          clone = head.clone();\n          helper.connect(assembler, clone.start);\n          return assembler = clone.end;\n        } else {\n          return assembler = helper.connect(assembler, head.clone());\n        }\n      };\n    })(this));\n    head = head.next;\n    head.prev = null;\n    clone = new List(head, assembler);\n    clone.correctParentTree();\n    return clone;\n  };\n\n  List.prototype.correctParentTree = function() {\n    return this.traverseOneLevel((function(_this) {\n      return function(head) {\n        head.parent = _this;\n        if (head instanceof Container) {\n          head.start.parent = head.end.parent = _this;\n          return head.correctParentTree();\n        }\n      };\n    })(this));\n  };\n\n  List.prototype.stringify = function(opts) {\n    var head, str;\n    if (opts == null) {\n      opts = DEFAULT_STRINGIFY_OPTS;\n    }\n    head = this.start;\n    str = head.stringify(opts);\n    while (head !== this.end) {\n      head = head.next;\n      str += head.stringify(opts);\n    }\n    return str;\n  };\n\n  List.prototype.stringifyInPlace = function() {\n    var head, indent, ref, str;\n    str = '';\n    indent = [];\n    head = this.start;\n    while (true) {\n      if (head instanceof IndentStartToken) {\n        indent.push(head.container.prefix);\n      } else if (head instanceof IndentEndToken) {\n        indent.pop();\n      }\n      if (head instanceof NewlineToken) {\n        str += '\\n' + ((ref = head.specialIndent) != null ? ref : indent.join(''));\n      } else {\n        str += head.stringify();\n      }\n      if (head === this.end) {\n        break;\n      }\n      head = head.next;\n    }\n    return str;\n  };\n\n  return List;\n\n})();\n\nexports.Container = Container = (function(superClass) {\n  extend(Container, superClass);\n\n  function Container() {\n    if (!((this.start != null) || (this.end != null))) {\n      this.start = new StartToken(this);\n      this.end = new EndToken(this);\n      this.type = 'container';\n    }\n    this.id = ++_id;\n    this.parent = null;\n    this.version = 0;\n    helper.connect(this.start, this.end);\n    this.ephemeral = false;\n    this.lineMarkStyles = [];\n  }\n\n  Container.prototype.getLocation = function() {\n    var location;\n    location = this.start.getLocation();\n    location.type = this.type;\n    return location;\n  };\n\n  Container.prototype.getTextLocation = function() {\n    var location;\n    location = this.start.getTextLocation();\n    location.type = this.type;\n    return location;\n  };\n\n  Container.prototype._cloneEmpty = function() {\n    return new Container();\n  };\n\n  Container.prototype._firstChild = function() {\n    var head;\n    head = this.start.next;\n    while (head !== this.end) {\n      if (head instanceof StartToken) {\n        return head.container;\n      }\n      head = head.next;\n    }\n    return null;\n  };\n\n  Container.prototype.getReader = function() {\n    return {\n      id: this.id,\n      type: this.type,\n      precedence: this.precedence,\n      classes: this.classes,\n      parseContext: this.parseContext\n    };\n  };\n\n  Container.prototype.setParent = function(parent) {\n    return this.parent = this.start.parent = this.end.parent = parent;\n  };\n\n  Container.prototype.hasParent = function(parent) {\n    var head;\n    head = this;\n    while (head !== parent && head !== null) {\n      head = head.parent;\n    }\n    return head === parent;\n  };\n\n  Container.prototype.getLinesToParent = function() {\n    var head, lines;\n    head = this.start;\n    lines = 0;\n    while (head !== this.parent.start) {\n      if (head.type === 'newline') {\n        lines++;\n      }\n      head = head.prev;\n    }\n    return lines;\n  };\n\n  Container.prototype.clone = function() {\n    var assembler, selfClone;\n    selfClone = this._cloneEmpty();\n    assembler = selfClone.start;\n    this.traverseOneLevel((function(_this) {\n      return function(head) {\n        var clone;\n        if (head instanceof Container) {\n          clone = head.clone();\n          helper.connect(assembler, clone.start);\n          return assembler = clone.end;\n        } else {\n          return assembler = helper.connect(assembler, head.clone());\n        }\n      };\n    })(this));\n    helper.connect(assembler, selfClone.end);\n    selfClone.correctParentTree();\n    return selfClone;\n  };\n\n  Container.prototype.rawReplace = function(other) {\n    if (other.start.prev != null) {\n      helper.connect(other.start.prev, this.start);\n    }\n    if (other.end.next != null) {\n      helper.connect(this.end, other.end.next);\n    }\n    this.start.parent = this.end.parent = this.parent = other.parent;\n    other.parent = other.start.parent = other.end.parent = null;\n    other.start.prev = other.end.next = null;\n    return this.notifyChange();\n  };\n\n  Container.prototype.getNewlineBefore = function(n) {\n    var head, lines;\n    head = this.start;\n    lines = 0;\n    while (!(lines === n || head === this.end)) {\n      head = head.next;\n      if (head.type === 'newline') {\n        lines++;\n      }\n    }\n    return head;\n  };\n\n  Container.prototype.getNewlineAfter = function(n) {\n    var head;\n    head = this.getNewlineBefore(n).next;\n    while (!(start.type === 'newline' || head === this.end)) {\n      head = head.next;\n    }\n    return head;\n  };\n\n  Container.prototype.getLeadingText = function() {\n    if (this.start.next.type === 'text') {\n      return this.start.next.value;\n    } else {\n      return '';\n    }\n  };\n\n  Container.prototype.getTrailingText = function() {\n    if (this.end.prev.type === 'text') {\n      return this.end.prev.value;\n    } else {\n      return '';\n    }\n  };\n\n  Container.prototype.setLeadingText = function(value) {\n    if (value != null) {\n      if (this.start.next.type === 'text') {\n        if (value.length === 0) {\n          return this.start.next.remove();\n        } else {\n          return this.start.next.value = value;\n        }\n      } else if (value.length !== 0) {\n        return this.start.insert(new TextToken(value));\n      }\n    }\n  };\n\n  Container.prototype.setTrailingText = function(value) {\n    if (value != null) {\n      if (this.end.prev.type === 'text') {\n        if (value.length === 0) {\n          return this.end.prev.remove();\n        } else {\n          return this.end.prev.value = value;\n        }\n      } else if (value.length !== 0) {\n        return this.end.prev.insert(new TextToken(value));\n      }\n    }\n  };\n\n  Container.prototype.serialize = function() {\n    var str;\n    str = this._serialize_header();\n    this.traverseOneLevel(function(child) {\n      return str += child.serialize();\n    });\n    return str += this._serialize_footer();\n  };\n\n  Container.prototype._serialize_header = \"<container>\";\n\n  Container.prototype._serialize_header = \"</container>\";\n\n  Container.prototype.contents = function() {\n    var clone;\n    clone = this.clone();\n    if (clone.start.next === clone.end) {\n      return null;\n    } else {\n      clone.start.next.prev = null;\n      clone.end.prev.next = null;\n      return clone.start.next;\n    }\n  };\n\n  Container.prototype.notifyChange = function() {\n    var head, results;\n    head = this;\n    results = [];\n    while (head != null) {\n      head.version++;\n      results.push(head = head.parent);\n    }\n    return results;\n  };\n\n  Container.prototype.getBlockOnLine = function(line) {\n    var head, lineCount, stack;\n    head = this.start;\n    lineCount = 0;\n    stack = [];\n    while (!(lineCount === line || (head == null))) {\n      switch (head.type) {\n        case 'newline':\n          lineCount++;\n          break;\n        case 'blockStart':\n          stack.push(head.container);\n          break;\n        case 'blockEnd':\n          stack.pop();\n      }\n      head = head.next;\n    }\n    while ((head != null ? head.type : void 0) === 'newline' || (head instanceof StartToken && head.type !== 'blockStart')) {\n      head = head.next;\n    }\n    if ((head != null ? head.type : void 0) === 'blockStart') {\n      stack.push(head.container);\n    }\n    return stack[stack.length - 1];\n  };\n\n  Container.prototype.traverseOneLevel = function(fn) {\n    if (this.start.next !== this.end) {\n      return traverseOneLevel(this.start.next, fn, this.end.prev);\n    }\n  };\n\n  Container.prototype.addLineMark = function(mark) {\n    return this.lineMarkStyles.push(mark);\n  };\n\n  Container.prototype.removeLineMark = function(tag) {\n    var mark;\n    return this.lineMarkStyles = (function() {\n      var j, len, ref, results;\n      ref = this.lineMarkStyles;\n      results = [];\n      for (j = 0, len = ref.length; j < len; j++) {\n        mark = ref[j];\n        if (mark.tag !== tag) {\n          results.push(mark);\n        }\n      }\n      return results;\n    }).call(this);\n  };\n\n  Container.prototype.clearLineMarks = function() {\n    return this.lineMarkStyles = [];\n  };\n\n  Container.prototype.getFromLocation = function(location) {\n    var head, j, ref;\n    head = this.start;\n    for (j = 0, ref = location.count; 0 <= ref ? j < ref : j > ref; 0 <= ref ? j++ : j--) {\n      head = head.next;\n    }\n    if (location.type === head.type) {\n      return head;\n    } else if (location.type === head.container.type) {\n      return head.container;\n    } else {\n      throw new Error(\"Could not retrieve location \" + location);\n    }\n  };\n\n  Container.prototype.getFromTextLocation = function(location) {\n    var best, col, head, ref, ref1, ref2, row;\n    head = this.start.next;\n    best = head;\n    row = 0;\n    while (!((head == null) || row === location.row)) {\n      head = head.next;\n      if (head instanceof NewlineToken) {\n        row += 1;\n      }\n    }\n    if (head == null) {\n      return this.end;\n    } else {\n      best = head;\n    }\n    if (head instanceof NewlineToken) {\n      col = head.stringify().length - 1;\n      head = head.next;\n    } else {\n      col = head.stringify().length;\n    }\n    while (!(((head == null) || head instanceof NewlineToken) || col >= location.col)) {\n      col += head.stringify().length;\n      head = head.next;\n    }\n    if (col < location.col) {\n      return head != null ? head : this.end;\n    } else {\n      best = head;\n    }\n    if (location.length != null) {\n      while (!(((head == null) || head.stringify().length > 0) || (((ref = head.container) != null ? ref : head).stringify().length === location.length))) {\n        head = head.next;\n      }\n      if ((head != null) && ((ref1 = head.container) != null ? ref1 : head).stringify().length === location.length) {\n        best = head;\n      } else {\n        head = best;\n      }\n    }\n    if (location.type != null) {\n      while (!(((head == null) || head.stringify().length > 0) || head.type === location.type || head.container.type === location.type)) {\n        head = head.next;\n      }\n      if ((head != null ? (ref2 = head.container) != null ? ref2.type : void 0 : void 0) === location.type) {\n        head = head.container;\n      }\n      if ((head != null ? head.type : void 0) === location.type) {\n        best = head;\n      }\n    }\n    return best;\n  };\n\n  return Container;\n\n})(List);\n\nexports.Token = Token = (function() {\n  function Token() {\n    this.id = ++_id;\n    this.prev = this.next = this.parent = null;\n    this.version = 0;\n  }\n\n  Token.prototype.getLinesToParent = function() {\n    var head, lines;\n    head = this;\n    lines = 0;\n    while (head !== this.parent.start) {\n      if (head.type === 'newline') {\n        lines++;\n      }\n      head = head.prev;\n    }\n    return lines;\n  };\n\n  Token.prototype.setParent = function(parent1) {\n    this.parent = parent1;\n  };\n\n  Token.prototype.hasParent = function(parent) {\n    var head;\n    head = this;\n    while (head !== parent && head !== null) {\n      head = head.parent;\n    }\n    return head === parent;\n  };\n\n  Token.prototype.insert = function(token) {\n    token.next = this.next;\n    token.prev = this;\n    this.next.prev = token;\n    this.next = token;\n    if (this instanceof StartToken) {\n      token.parent = this.container;\n    } else {\n      token.parent = parent;\n    }\n    return token;\n  };\n\n  Token.prototype.remove = function() {\n    if (this.prev != null) {\n      helper.connect(this.prev, this.next);\n    } else if (this.next != null) {\n      this.next.prev = null;\n    }\n    return this.prev = this.next = this.parent = null;\n  };\n\n  Token.prototype.notifyChange = function() {\n    var head;\n    head = this;\n    while (head != null) {\n      head.version++;\n      head = head.parent;\n    }\n    return null;\n  };\n\n  Token.prototype.isFirstOnLine = function() {\n    var ref, ref1;\n    return this.prev === ((ref = this.parent) != null ? ref.start : void 0) || ((ref1 = this.prev) != null ? ref1.type : void 0) === 'newline';\n  };\n\n  Token.prototype.isLastOnLine = function() {\n    var ref, ref1, ref2;\n    return this.next === ((ref = this.parent) != null ? ref.end : void 0) || ((ref1 = (ref2 = this.next) != null ? ref2.type : void 0) === 'newline' || ref1 === 'indentEnd');\n  };\n\n  Token.prototype.clone = function() {\n    return new Token();\n  };\n\n  Token.prototype.getSerializedLocation = function() {\n    var count, head;\n    head = this;\n    count = 0;\n    while (head !== null) {\n      count++;\n      head = head.prev;\n    }\n    return count;\n  };\n\n  Token.prototype.getIndent = function() {\n    var head, prefix;\n    head = this;\n    prefix = '';\n    while (head != null) {\n      if (head.type === 'indent') {\n        prefix = head.prefix + prefix;\n      }\n      head = head.parent;\n    }\n    return prefix;\n  };\n\n  Token.prototype.getTextLocation = function() {\n    var head, location;\n    location = new TextLocation();\n    head = this.prev;\n    location.type = this.type;\n    if (this instanceof StartToken || this instanceof EndToken) {\n      location.length = this.container.stringify().length;\n    } else {\n      location.length = this.stringify().length;\n    }\n    while (!((head == null) || head instanceof NewlineToken)) {\n      location.col += head.stringify().length;\n      head = head.prev;\n    }\n    if (head != null) {\n      location.col += head.stringify().length - 1;\n    }\n    while (head != null) {\n      if (head instanceof NewlineToken) {\n        location.row += 1;\n      }\n      head = head.prev;\n    }\n    return location;\n  };\n\n  Token.prototype.getDocument = function() {\n    var head, ref;\n    head = (ref = this.container) != null ? ref : this;\n    while (!((head == null) || head instanceof Document)) {\n      head = head.parent;\n    }\n    return head;\n  };\n\n  Token.prototype.getLocation = function() {\n    var count, dropletDocument, head;\n    count = 0;\n    head = this;\n    dropletDocument = this.getDocument();\n    if (dropletDocument == null) {\n      return null;\n    }\n    while (head !== dropletDocument.start) {\n      head = head.prev;\n      count += 1;\n    }\n    return new Location(count, this.type);\n  };\n\n  Token.prototype.stringify = function() {\n    return '';\n  };\n\n  Token.prototype.serialize = function() {\n    return '';\n  };\n\n  return Token;\n\n})();\n\nexports.Location = Location = (function() {\n  function Location(count1, type) {\n    this.count = count1;\n    this.type = type;\n  }\n\n  Location.prototype.toString = function() {\n    return this.count + \", \" + this.type;\n  };\n\n  Location.prototype.set = function(other) {\n    this.count = other.count;\n    return this.type = other.type;\n  };\n\n  Location.prototype.is = function(other) {\n    if (!(other instanceof Location)) {\n      other = other.getLocation();\n    }\n    return other.count === this.count && other.type === this.type;\n  };\n\n  Location.prototype.clone = function() {\n    return new Location(this.count, this.type);\n  };\n\n  return Location;\n\n})();\n\nexports.TextLocation = TextLocation = (function() {\n  function TextLocation(row1, col1, type, length) {\n    this.row = row1 != null ? row1 : 0;\n    this.col = col1 != null ? col1 : 0;\n    this.type = type != null ? type : null;\n    this.length = length != null ? length : null;\n  }\n\n  TextLocation.prototype.toString = function() {\n    return \"(\" + this.row + \", \" + this.col + \", \" + this.type + \", \" + this.length + \")\";\n  };\n\n  TextLocation.prototype.set = function(other) {\n    this.row = other.row;\n    this.col = other.col;\n    this.type = other.type;\n    return this.length = other.length;\n  };\n\n  TextLocation.prototype.is = function(other) {\n    var answer;\n    if (!(other instanceof TextLocation)) {\n      other = other.getLocation();\n    }\n    answer = other.row === this.row && other.col === this.col && ((this.type != null) && (other.type != null) ? answer = answer && this.type === other.type : void 0);\n    if ((this.length != null) && (other.length != null)) {\n      answer = answer && this.length === other.length;\n    }\n    return answer;\n  };\n\n  return TextLocation;\n\n})();\n\nexports.StartToken = StartToken = (function(superClass) {\n  extend(StartToken, superClass);\n\n  function StartToken(container) {\n    this.container = container;\n    StartToken.__super__.constructor.apply(this, arguments);\n    this.markup = 'begin';\n  }\n\n  StartToken.prototype.insert = function(token) {\n    if (token instanceof StartToken || token instanceof EndToken) {\n      console.warn('\"insert\"-ing a container can cause problems');\n    }\n    token.next = this.next;\n    token.prev = this;\n    this.next.prev = token;\n    this.next = token;\n    token.parent = this.container;\n    return token;\n  };\n\n  StartToken.prototype.serialize = function() {\n    return '<container>';\n  };\n\n  return StartToken;\n\n})(Token);\n\nexports.EndToken = EndToken = (function(superClass) {\n  extend(EndToken, superClass);\n\n  function EndToken(container) {\n    this.container = container;\n    EndToken.__super__.constructor.apply(this, arguments);\n    this.markup = 'end';\n  }\n\n  EndToken.prototype.insert = function(token) {\n    if (token instanceof StartToken || token instanceof EndToken) {\n      console.warn('\"insert\"-ing a container can cause problems');\n    }\n    token.next = this.next;\n    token.prev = this;\n    this.next.prev = token;\n    this.next = token;\n    token.parent = this.container.parent;\n    return token;\n  };\n\n  EndToken.prototype.serialize = function() {\n    return '</container>';\n  };\n\n  return EndToken;\n\n})(Token);\n\nexports.BlockStartToken = BlockStartToken = (function(superClass) {\n  extend(BlockStartToken, superClass);\n\n  function BlockStartToken(container) {\n    this.container = container;\n    BlockStartToken.__super__.constructor.apply(this, arguments);\n    this.type = 'blockStart';\n  }\n\n  return BlockStartToken;\n\n})(StartToken);\n\nexports.BlockEndToken = BlockEndToken = (function(superClass) {\n  extend(BlockEndToken, superClass);\n\n  function BlockEndToken(container) {\n    this.container = container;\n    BlockEndToken.__super__.constructor.apply(this, arguments);\n    this.type = 'blockEnd';\n  }\n\n  BlockEndToken.prototype.serialize = function() {\n    return \"</block>\";\n  };\n\n  return BlockEndToken;\n\n})(EndToken);\n\nexports.Block = Block = (function(superClass) {\n  extend(Block, superClass);\n\n  function Block(precedence, color, socketLevel, classes, parseContext, buttons) {\n    this.precedence = precedence != null ? precedence : 0;\n    this.color = color != null ? color : 'blank';\n    this.socketLevel = socketLevel != null ? socketLevel : helper.ANY_DROP;\n    this.classes = classes != null ? classes : [];\n    this.parseContext = parseContext;\n    this.buttons = buttons != null ? buttons : {};\n    this.start = new BlockStartToken(this);\n    this.end = new BlockEndToken(this);\n    this.type = 'block';\n    Block.__super__.constructor.apply(this, arguments);\n  }\n\n  Block.prototype.nextSibling = function() {\n    var head, parent;\n    head = this.end.next;\n    parent = head.parent;\n    while (head && head.container !== parent) {\n      if (head instanceof StartToken) {\n        return head.container;\n      }\n      head = head.next;\n    }\n    return null;\n  };\n\n  Block.prototype._cloneEmpty = function() {\n    var clone;\n    clone = new Block(this.precedence, this.color, this.socketLevel, this.classes, this.parseContext, this.buttons);\n    clone.currentlyParenWrapped = this.currentlyParenWrapped;\n    return clone;\n  };\n\n  Block.prototype._serialize_header = function() {\n    var ref, ref1;\n    return \"<block precedence=\\\"\" + this.precedence + \"\\\" color=\\\"\" + this.color + \"\\\" socketLevel=\\\"\" + this.socketLevel + \"\\\" classes=\\\"\" + ((ref = (ref1 = this.classes) != null ? typeof ref1.join === \"function\" ? ref1.join(' ') : void 0 : void 0) != null ? ref : '') + \"\\\" >\";\n  };\n\n  Block.prototype._serialize_footer = function() {\n    return \"</block>\";\n  };\n\n  return Block;\n\n})(Container);\n\nexports.SocketStartToken = SocketStartToken = (function(superClass) {\n  extend(SocketStartToken, superClass);\n\n  function SocketStartToken(container) {\n    this.container = container;\n    SocketStartToken.__super__.constructor.apply(this, arguments);\n    this.type = 'socketStart';\n  }\n\n  return SocketStartToken;\n\n})(StartToken);\n\nexports.SocketEndToken = SocketEndToken = (function(superClass) {\n  extend(SocketEndToken, superClass);\n\n  function SocketEndToken(container) {\n    this.container = container;\n    SocketEndToken.__super__.constructor.apply(this, arguments);\n    this.type = 'socketEnd';\n  }\n\n  SocketEndToken.prototype.stringify = function(opts) {\n    if (opts == null) {\n      opts = DEFAULT_STRINGIFY_OPTS;\n    }\n    if (opts.preserveEmpty && this.prev === this.container.start || this.prev.type === 'text' && this.prev.value === '') {\n      return this.container.emptyString;\n    } else {\n      return '';\n    }\n  };\n\n  return SocketEndToken;\n\n})(EndToken);\n\nexports.Socket = Socket = (function(superClass) {\n  extend(Socket, superClass);\n\n  function Socket(emptyString, precedence, handwritten, classes, dropdown, parseContext) {\n    this.emptyString = emptyString;\n    this.precedence = precedence != null ? precedence : 0;\n    this.handwritten = handwritten != null ? handwritten : false;\n    this.classes = classes != null ? classes : [];\n    this.dropdown = dropdown != null ? dropdown : null;\n    this.parseContext = parseContext != null ? parseContext : null;\n    this.start = new SocketStartToken(this);\n    this.end = new SocketEndToken(this);\n    this.type = 'socket';\n    Socket.__super__.constructor.apply(this, arguments);\n  }\n\n  Socket.prototype.textContent = function() {\n    var head, str;\n    head = this.start.next;\n    str = '';\n    while (head !== this.end) {\n      str += head.stringify();\n      head = head.next;\n    }\n    return str;\n  };\n\n  Socket.prototype.hasDropdown = function() {\n    return (this.dropdown != null) && this.isDroppable();\n  };\n\n  Socket.prototype.editable = function() {\n    return (!((this.dropdown != null) && this.dropdown.dropdownOnly)) && this.isDroppable();\n  };\n\n  Socket.prototype.isDroppable = function() {\n    return this.start.next === this.end || this.start.next.type === 'text';\n  };\n\n  Socket.prototype._cloneEmpty = function() {\n    return new Socket(this.emptyString, this.precedence, this.handwritten, this.classes, this.dropdown, this.parseContext);\n  };\n\n  Socket.prototype._serialize_header = function() {\n    var ref, ref1, ref2, ref3;\n    return \"<socket precedence=\\\"\" + this.precedence + \"\\\" handwritten=\\\"\" + this.handwritten + \"\\\" classes=\\\"\" + ((ref = (ref1 = this.classes) != null ? typeof ref1.join === \"function\" ? ref1.join(' ') : void 0 : void 0) != null ? ref : '') + \"\\\"\" + (this.dropdown != null ? \" dropdown=\\\"\" + ((ref2 = (ref3 = this.dropdown) != null ? typeof ref3.join === \"function\" ? ref3.join(' ') : void 0 : void 0) != null ? ref2 : '') + \"\\\"\" : '') + \">\";\n  };\n\n  Socket.prototype._serialize_footer = function() {\n    return \"</socket>\";\n  };\n\n  return Socket;\n\n})(Container);\n\nexports.IndentStartToken = IndentStartToken = (function(superClass) {\n  extend(IndentStartToken, superClass);\n\n  function IndentStartToken(container) {\n    this.container = container;\n    IndentStartToken.__super__.constructor.apply(this, arguments);\n    this.type = 'indentStart';\n  }\n\n  return IndentStartToken;\n\n})(StartToken);\n\nexports.IndentEndToken = IndentEndToken = (function(superClass) {\n  extend(IndentEndToken, superClass);\n\n  function IndentEndToken(container) {\n    this.container = container;\n    IndentEndToken.__super__.constructor.apply(this, arguments);\n    this.type = 'indentEnd';\n  }\n\n  IndentEndToken.prototype.stringify = function(opts) {\n    if (opts == null) {\n      opts = DEFAULT_STRINGIFY_OPTS;\n    }\n    if (opts.preserveEmpty && this.prev.prev === this.container.start) {\n      return this.container.emptyString;\n    } else {\n      return '';\n    }\n  };\n\n  IndentEndToken.prototype.serialize = function() {\n    return \"</indent>\";\n  };\n\n  return IndentEndToken;\n\n})(EndToken);\n\nexports.Indent = Indent = (function(superClass) {\n  extend(Indent, superClass);\n\n  function Indent(emptyString, prefix1, classes, parseContext) {\n    this.emptyString = emptyString;\n    this.prefix = prefix1 != null ? prefix1 : '';\n    this.classes = classes != null ? classes : [];\n    this.parseContext = parseContext != null ? parseContext : null;\n    this.start = new IndentStartToken(this);\n    this.end = new IndentEndToken(this);\n    this.type = 'indent';\n    this.depth = this.prefix.length;\n    Indent.__super__.constructor.apply(this, arguments);\n  }\n\n  Indent.prototype._cloneEmpty = function() {\n    return new Indent(this.emptyString, this.prefix, this.classes, this.parseContext);\n  };\n\n  Indent.prototype.firstChild = function() {\n    return this._firstChild();\n  };\n\n  Indent.prototype._serialize_header = function() {\n    var ref, ref1;\n    return \"<indent prefix=\\\"\" + this.prefix + \"\\\" classes=\\\"\" + ((ref = (ref1 = this.classes) != null ? typeof ref1.join === \"function\" ? ref1.join(' ') : void 0 : void 0) != null ? ref : '') + \"\\\">\";\n  };\n\n  Indent.prototype._serialize_footer = function() {\n    return \"</indent>\";\n  };\n\n  return Indent;\n\n})(Container);\n\nexports.DocumentStartToken = DocumentStartToken = (function(superClass) {\n  extend(DocumentStartToken, superClass);\n\n  function DocumentStartToken(container) {\n    this.container = container;\n    DocumentStartToken.__super__.constructor.apply(this, arguments);\n    this.type = 'documentStart';\n  }\n\n  DocumentStartToken.prototype.serialize = function() {\n    return \"<document>\";\n  };\n\n  return DocumentStartToken;\n\n})(StartToken);\n\nexports.DocumentEndToken = DocumentEndToken = (function(superClass) {\n  extend(DocumentEndToken, superClass);\n\n  function DocumentEndToken(container) {\n    this.container = container;\n    DocumentEndToken.__super__.constructor.apply(this, arguments);\n    this.type = 'documentEnd';\n  }\n\n  DocumentEndToken.prototype.serialize = function() {\n    return \"</document>\";\n  };\n\n  return DocumentEndToken;\n\n})(EndToken);\n\nexports.Document = Document = (function(superClass) {\n  extend(Document, superClass);\n\n  function Document(parseContext, opts1) {\n    this.parseContext = parseContext;\n    this.opts = opts1 != null ? opts1 : {};\n    this.start = new DocumentStartToken(this);\n    this.end = new DocumentEndToken(this);\n    this.classes = ['__document__'];\n    this.type = 'document';\n    Document.__super__.constructor.apply(this, arguments);\n  }\n\n  Document.prototype._cloneEmpty = function() {\n    return new Document(this.parseContext, this.opts);\n  };\n\n  Document.prototype.firstChild = function() {\n    return this._firstChild();\n  };\n\n  Document.prototype._serialize_header = function() {\n    return \"<document>\";\n  };\n\n  Document.prototype._serialize_footer = function() {\n    return \"</document>\";\n  };\n\n  return Document;\n\n})(Container);\n\nexports.TextToken = TextToken = (function(superClass) {\n  extend(TextToken, superClass);\n\n  function TextToken(_value) {\n    this._value = _value;\n    TextToken.__super__.constructor.apply(this, arguments);\n    this.type = 'text';\n  }\n\n  TextToken.trigger('value', (function() {\n    return this._value;\n  }), function(value) {\n    this._value = value;\n    return this.notifyChange();\n  });\n\n  TextToken.prototype.stringify = function() {\n    return this._value;\n  };\n\n  TextToken.prototype.serialize = function() {\n    return helper.escapeXMLText(this._value);\n  };\n\n  TextToken.prototype.clone = function() {\n    return new TextToken(this._value);\n  };\n\n  return TextToken;\n\n})(Token);\n\nexports.NewlineToken = NewlineToken = (function(superClass) {\n  extend(NewlineToken, superClass);\n\n  function NewlineToken(specialIndent) {\n    this.specialIndent = specialIndent;\n    NewlineToken.__super__.constructor.apply(this, arguments);\n    this.type = 'newline';\n  }\n\n  NewlineToken.prototype.stringify = function() {\n    var ref;\n    return '\\n' + ((ref = this.specialIndent) != null ? ref : this.getIndent());\n  };\n\n  NewlineToken.prototype.serialize = function() {\n    return '\\n';\n  };\n\n  NewlineToken.prototype.clone = function() {\n    return new NewlineToken(this.specialIndent);\n  };\n\n  return NewlineToken;\n\n})(Token);\n\ntraverseOneLevel = function(head, fn, tail) {\n  while (true) {\n    if (head instanceof StartToken) {\n      fn(head.container);\n      head = head.container.end;\n    } else {\n      fn(head);\n    }\n    if (head === tail) {\n      return;\n    }\n    head = head.next;\n  }\n};\n\n\n},{\"./helper.coffee\":28}],32:[function(require,module,exports){\nvar c, coffee, html, java, javascript, python;\n\njavascript = require('./languages/javascript.coffee');\n\ncoffee = require('./languages/coffee.coffee');\n\nc = require('./languages/c.coffee');\n\njava = require('./languages/java.coffee');\n\npython = require('./languages/python.coffee');\n\nhtml = require('./languages/html.coffee');\n\nmodule.exports = {\n  'javascript': javascript,\n  'coffee': coffee,\n  'coffeescript': coffee,\n  'c': c,\n  'c_cpp': c,\n  'java': java,\n  'python': python,\n  'html': html\n};\n\n\n},{\"./languages/c.coffee\":2,\"./languages/coffee.coffee\":2,\"./languages/html.coffee\":2,\"./languages/java.coffee\":2,\"./languages/javascript.coffee\":29,\"./languages/python.coffee\":2}],33:[function(require,module,exports){\nvar Parser, ParserFactory, YES, _extend, getDefaultSelectionRange, hasSomeTextAfter, helper, isPrefix, model, sax, stripFlaggedBlocks,\n  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty;\n\nhelper = require('./helper.coffee');\n\nmodel = require('./model.coffee');\n\nsax = require('sax');\n\n_extend = function(opts, defaults) {\n  var key, val;\n  if (opts == null) {\n    return defaults;\n  }\n  for (key in defaults) {\n    val = defaults[key];\n    if (!(key in opts)) {\n      opts[key] = val;\n    }\n  }\n  return opts;\n};\n\nYES = function() {\n  return true;\n};\n\nisPrefix = function(a, b) {\n  return a.slice(0, b.length) === b;\n};\n\nexports.ParserFactory = ParserFactory = (function() {\n  function ParserFactory(opts1) {\n    this.opts = opts1 != null ? opts1 : {};\n  }\n\n  ParserFactory.prototype.createParser = function(text) {\n    return new Parser(text, this.opts);\n  };\n\n  return ParserFactory;\n\n})();\n\nexports.Parser = Parser = (function() {\n  function Parser(text1, opts1) {\n    this.text = text1;\n    this.opts = opts1 != null ? opts1 : {};\n    this.originalText = this.text;\n    this.markup = [];\n  }\n\n  Parser.prototype._parse = function(opts) {\n    var document;\n    opts = _extend(opts, {\n      wrapAtRoot: true,\n      preserveEmpty: true\n    });\n    this.markRoot(opts.context);\n    this.sortMarkup();\n    document = this.applyMarkup(opts);\n    this.detectParenWrap(document);\n    document.correctParentTree();\n    if (opts.preserveEmpty) {\n      stripFlaggedBlocks(document);\n    }\n    return document;\n  };\n\n  Parser.prototype.markRoot = function() {};\n\n  Parser.prototype.isParenWrapped = function(block) {\n    return block.start.next.type === 'text' && block.start.next.value[0] === '(' && block.end.prev.type === 'text' && block.end.prev.value[block.end.prev.value.length - 1] === ')';\n  };\n\n  Parser.prototype.detectParenWrap = function(document) {\n    var head;\n    head = document.start;\n    while (head !== document.end) {\n      head = head.next;\n      if (head.type === 'blockStart' && this.isParenWrapped(head.container)) {\n        head.container.currentlyParenWrapped = true;\n      }\n    }\n    return document;\n  };\n\n  Parser.prototype.addBlock = function(opts) {\n    var block;\n    block = new model.Block(opts.precedence, opts.color, opts.socketLevel, opts.classes, opts.parseContext, opts.buttons);\n    return this.addMarkup(block, opts.bounds, opts.depth);\n  };\n\n  Parser.prototype.flagToRemove = function(bounds, depth) {\n    var block;\n    block = new model.Block();\n    block.flagToRemove = true;\n    return this.addMarkup(block, bounds, depth);\n  };\n\n  Parser.prototype.addSocket = function(opts) {\n    var ref, socket;\n    socket = new model.Socket((ref = opts.empty) != null ? ref : this.empty, opts.precedence, false, opts.classes, opts.dropdown, opts.parseContext);\n    return this.addMarkup(socket, opts.bounds, opts.depth);\n  };\n\n  Parser.prototype.addIndent = function(opts) {\n    var indent;\n    indent = new model.Indent(this.emptyIndent, opts.prefix, opts.classes, opts.parseContext);\n    return this.addMarkup(indent, opts.bounds, opts.depth);\n  };\n\n  Parser.prototype.checkBounds = function(bounds) {\n    var ref, ref1, ref2, ref3;\n    if (!(((bounds != null ? (ref = bounds.start) != null ? ref.line : void 0 : void 0) != null) && ((bounds != null ? (ref1 = bounds.start) != null ? ref1.column : void 0 : void 0) != null) && ((bounds != null ? (ref2 = bounds.end) != null ? ref2.line : void 0 : void 0) != null) && ((bounds != null ? (ref3 = bounds.end) != null ? ref3.column : void 0 : void 0) != null))) {\n      throw new IllegalArgumentException('bad bounds object');\n    }\n  };\n\n  Parser.prototype.addMarkup = function(container, bounds, depth) {\n    this.checkBounds(bounds);\n    this.markup.push({\n      token: container.start,\n      location: bounds.start,\n      depth: depth,\n      start: true\n    });\n    this.markup.push({\n      token: container.end,\n      location: bounds.end,\n      depth: depth,\n      start: false\n    });\n    return container;\n  };\n\n  Parser.prototype.sortMarkup = function() {\n    return this.markup.sort(function(a, b) {\n      var isDifferent;\n      if (a.location.line > b.location.line) {\n        return 1;\n      }\n      if (b.location.line > a.location.line) {\n        return -1;\n      }\n      if (a.location.column > b.location.column) {\n        return 1;\n      }\n      if (b.location.column > a.location.column) {\n        return -1;\n      }\n      isDifferent = 1;\n      if (a.token.container === b.token.container) {\n        isDifferent = -1;\n      }\n      if (a.start && !b.start) {\n        return isDifferent;\n      }\n      if (b.start && !a.start) {\n        return -isDifferent;\n      }\n      if (a.start && b.start) {\n        if (a.depth > b.depth) {\n          return 1;\n        } else {\n          return -1;\n        }\n      }\n      if ((!a.start) && (!b.start)) {\n        if (a.depth > b.depth) {\n          return -1;\n        } else {\n          return 1;\n        }\n      }\n    });\n  };\n\n  Parser.prototype.constructHandwrittenBlock = function(text) {\n    var block, color, finalPadText, finalPadTextToken, head, j, lastPosition, len, padText, padTextToken, ref, socket, socketPosition, sockets, textToken;\n    block = new model.Block(0, 'comment', helper.ANY_DROP);\n    if (this.isComment(text)) {\n      block.socketLevel = helper.BLOCK_ONLY;\n      block.classes = ['__comment__', 'block-only'];\n      head = block.start;\n      ref = this.parseComment(text), sockets = ref.sockets, color = ref.color;\n      if (color != null) {\n        block.color = color;\n      }\n      lastPosition = 0;\n      if (sockets != null) {\n        for (j = 0, len = sockets.length; j < len; j++) {\n          socketPosition = sockets[j];\n          socket = new model.Socket('', 0, true);\n          socket.setParent(block);\n          socket.classes = ['__comment__'];\n          padText = text.slice(lastPosition, socketPosition[0]);\n          if (padText.length > 0) {\n            padTextToken = new model.TextToken(padText);\n            padTextToken.setParent(block);\n            helper.connect(head, padTextToken);\n            head = padTextToken;\n          }\n          textToken = new model.TextToken(text.slice(socketPosition[0], socketPosition[1]));\n          textToken.setParent(block);\n          helper.connect(head, socket.start);\n          helper.connect(socket.start, textToken);\n          helper.connect(textToken, socket.end);\n          head = socket.end;\n          lastPosition = socketPosition[1];\n        }\n      }\n      finalPadText = text.slice(lastPosition, text.length);\n      if (finalPadText.length > 0) {\n        finalPadTextToken = new model.TextToken(finalPadText);\n        finalPadTextToken.setParent(block);\n        helper.connect(head, finalPadTextToken);\n        head = finalPadTextToken;\n      }\n      helper.connect(head, block.end);\n    } else {\n      socket = new model.Socket('', 0, true);\n      textToken = new model.TextToken(text);\n      textToken.setParent(socket);\n      block.classes = ['__handwritten__', 'block-only'];\n      helper.connect(block.start, socket.start);\n      helper.connect(socket.start, textToken);\n      helper.connect(textToken, socket.end);\n      helper.connect(socket.end, block.end);\n    }\n    return block;\n  };\n\n  Parser.prototype.handleButton = function(text, command, oldblock) {\n    return text;\n  };\n\n  Parser.prototype.applyMarkup = function(opts) {\n    var block, currentlyCommented, document, head, i, indentDepth, j, k, l, lastIndex, len, len1, len2, line, lines, mark, markupOnLines, name, placedSomething, ref, ref1, ref10, ref11, ref2, ref3, ref4, ref5, ref6, ref7, ref8, ref9, stack;\n    markupOnLines = {};\n    ref = this.markup;\n    for (j = 0, len = ref.length; j < len; j++) {\n      mark = ref[j];\n      if (markupOnLines[name = mark.location.line] == null) {\n        markupOnLines[name] = [];\n      }\n      markupOnLines[mark.location.line].push(mark);\n    }\n    lines = this.text.split('\\n');\n    indentDepth = 0;\n    stack = [];\n    document = new model.Document((ref1 = opts.context) != null ? ref1 : this.rootContext);\n    head = document.start;\n    currentlyCommented = false;\n    for (i = k = 0, len1 = lines.length; k < len1; i = ++k) {\n      line = lines[i];\n      if (!(i in markupOnLines)) {\n        if (indentDepth > line.length || line.slice(0, indentDepth).trim().length > 0) {\n          head.specialIndent = ((function() {\n            var l, ref2, results;\n            results = [];\n            for (l = 0, ref2 = line.length - line.trimLeft().length; 0 <= ref2 ? l < ref2 : l > ref2; 0 <= ref2 ? l++ : l--) {\n              results.push(' ');\n            }\n            return results;\n          })()).join('');\n          line = line.trimLeft();\n        } else {\n          line = line.slice(indentDepth);\n        }\n        placedSomething = false;\n        while (line.length > 0) {\n          if (currentlyCommented) {\n            placedSomething = true;\n            if (line.indexOf(this.endComment) > -1) {\n              head = helper.connect(head, new model.TextToken(line.slice(0, line.indexOf(this.endComment) + this.endComment.length)));\n              line = line.slice(line.indexOf(this.endComment) + this.endComment.length);\n              head = helper.connect(head, stack.pop().end);\n              currentlyCommented = false;\n            }\n          }\n          if (!currentlyCommented && ((opts.wrapAtRoot && stack.length === 0) || ((ref2 = stack[stack.length - 1]) != null ? ref2.type : void 0) === 'indent') && line.length > 0) {\n            placedSomething = true;\n            if (isPrefix(line.trimLeft(), this.startComment)) {\n              currentlyCommented = true;\n              block = new model.Block(0, 'comment', helper.ANY_DROP);\n              stack.push(block);\n              helper.connect(head, block.start);\n              head = block.start;\n            } else {\n              block = this.constructHandwrittenBlock(line);\n              helper.connect(head, block.start);\n              head = block.end;\n              line = '';\n            }\n          } else if (line.length > 0) {\n            placedSomething = true;\n            head = helper.connect(head, new model.TextToken(line));\n            line = '';\n          }\n        }\n        if (line.length === 0 && !placedSomething && ((ref3 = (ref4 = stack[stack.length - 1]) != null ? ref4.type : void 0) === 'indent' || ref3 === 'document' || ref3 === (void 0)) && hasSomeTextAfter(lines, i)) {\n          block = new model.Block(0, this.opts.emptyLineColor, helper.BLOCK_ONLY);\n          block.classes = ['__comment__', 'any-drop'];\n          head = helper.connect(head, block.start);\n          head = helper.connect(head, block.end);\n        }\n        head = helper.connect(head, new model.NewlineToken());\n      } else {\n        if (indentDepth > line.length || line.slice(0, indentDepth).trim().length > 0) {\n          lastIndex = line.length - line.trimLeft().length;\n          head.specialIndent = line.slice(0, lastIndex);\n        } else {\n          lastIndex = indentDepth;\n        }\n        ref5 = markupOnLines[i];\n        for (l = 0, len2 = ref5.length; l < len2; l++) {\n          mark = ref5[l];\n          if ((mark.token.container != null) && mark.token.container.flagToRemove && !opts.preserveEmpty) {\n            continue;\n          }\n          if (!(lastIndex >= mark.location.column || lastIndex >= line.length)) {\n            if ((!currentlyCommented) && (opts.wrapAtRoot && stack.length === 0) || ((ref6 = stack[stack.length - 1]) != null ? ref6.type : void 0) === 'indent') {\n              block = this.constructHandwrittenBlock(line.slice(lastIndex, mark.location.column));\n              helper.connect(head, block.start);\n              head = block.end;\n            } else {\n              head = helper.connect(head, new model.TextToken(line.slice(lastIndex, mark.location.column)));\n            }\n            if (currentlyCommented) {\n              head = helper.connect(head, stack.pop().end);\n              currentlyCommented = false;\n            }\n          }\n          switch (mark.token.type) {\n            case 'indentStart':\n              if ((stack != null ? (ref7 = stack[stack.length - 1]) != null ? ref7.type : void 0 : void 0) !== 'block') {\n                throw new Error('Improper parser: indent must be inside block, but is inside ' + (stack != null ? (ref8 = stack[stack.length - 1]) != null ? ref8.type : void 0 : void 0));\n              }\n              indentDepth += mark.token.container.prefix.length;\n              break;\n            case 'blockStart':\n              if (((ref9 = stack[stack.length - 1]) != null ? ref9.type : void 0) === 'block') {\n                throw new Error('Improper parser: block cannot nest immediately inside another block.');\n              }\n              break;\n            case 'socketStart':\n              if (((ref10 = stack[stack.length - 1]) != null ? ref10.type : void 0) !== 'block') {\n                throw new Error('Improper parser: socket must be immediately inside a block.');\n              }\n              break;\n            case 'indentEnd':\n              indentDepth -= mark.token.container.prefix.length;\n          }\n          if (mark.token instanceof model.StartToken) {\n            stack.push(mark.token.container);\n          } else if (mark.token instanceof model.EndToken) {\n            if (mark.token.container !== stack[stack.length - 1]) {\n              throw new Error(\"Improper parser: \" + head.container.type + \" ended too early.\");\n            }\n            stack.pop();\n          }\n          head = helper.connect(head, mark.token);\n          lastIndex = mark.location.column;\n        }\n        while (!(lastIndex >= line.length)) {\n          if (currentlyCommented) {\n            if (line.slice(lastIndex).indexOf(this.endComment) > -1) {\n              head = helper.connect(head, new model.TextToken(line.slice(lastIndex, lastIndex + line.slice(lastIndex).indexOf(this.endComment) + this.endComment.length)));\n              lastIndex += line.slice(lastIndex).indexOf(this.endComment) + this.endComment.length;\n              head = helper.connect(head, stack.pop().end);\n              currentlyCommented = false;\n            }\n          }\n          if (!currentlyCommented && ((opts.wrapAtRoot && stack.length === 0) || ((ref11 = stack[stack.length - 1]) != null ? ref11.type : void 0) === 'indent') && line.length > 0) {\n            if (isPrefix(line.slice(lastIndex).trimLeft(), this.startComment)) {\n              currentlyCommented = true;\n              block = new model.Block(0, 'comment', helper.ANY_DROP);\n              stack.push(block);\n              helper.connect(head, block.start);\n              head = block.start;\n            } else {\n              block = this.constructHandwrittenBlock(line.slice(lastIndex));\n              helper.connect(head, block.start);\n              head = block.end;\n              lastIndex = line.length;\n            }\n          } else if (lastIndex < line.length) {\n            head = helper.connect(head, new model.TextToken(line.slice(lastIndex)));\n            lastIndex = line.length;\n          }\n        }\n        head = helper.connect(head, new model.NewlineToken());\n      }\n    }\n    head = head.prev;\n    head.next.remove();\n    head = helper.connect(head, document.end);\n    return document;\n  };\n\n  return Parser;\n\n})();\n\nexports.parseXML = function(xml) {\n  var head, parser, root, stack;\n  root = new model.Document();\n  head = root.start;\n  stack = [];\n  parser = sax.parser(true);\n  parser.ontext = function(text) {\n    var i, j, len, results, token, tokens;\n    tokens = text.split('\\n');\n    results = [];\n    for (i = j = 0, len = tokens.length; j < len; i = ++j) {\n      token = tokens[i];\n      if (token.length !== 0) {\n        head = helper.connect(head, new model.TextToken(token));\n      }\n      if (i !== tokens.length - 1) {\n        results.push(head = helper.connect(head, new model.NewlineToken()));\n      } else {\n        results.push(void 0);\n      }\n    }\n    return results;\n  };\n  parser.onopentag = function(node) {\n    var attributes, container, ref, ref1, ref2;\n    attributes = node.attributes;\n    switch (node.name) {\n      case 'block':\n        container = new model.Block(attributes.precedence, attributes.color, attributes.socketLevel, (ref = attributes.classes) != null ? typeof ref.split === \"function\" ? ref.split(' ') : void 0 : void 0);\n        break;\n      case 'socket':\n        container = new model.Socket('', attributes.precedence, attributes.handritten, (ref1 = attributes.classes) != null ? typeof ref1.split === \"function\" ? ref1.split(' ') : void 0 : void 0);\n        break;\n      case 'indent':\n        container = new model.Indent('', attributes.prefix, (ref2 = attributes.classes) != null ? typeof ref2.split === \"function\" ? ref2.split(' ') : void 0 : void 0);\n        break;\n      case 'document':\n        if (stack.length !== 0) {\n          container = new model.Document();\n        }\n        break;\n      case 'br':\n        head = helper.connect(head, new model.NewlineToken());\n        return null;\n    }\n    if (container != null) {\n      stack.push({\n        node: node,\n        container: container\n      });\n      return head = helper.connect(head, container.start);\n    }\n  };\n  parser.onclosetag = function(nodeName) {\n    if (stack.length > 0 && nodeName === stack[stack.length - 1].node.name) {\n      head = helper.connect(head, stack[stack.length - 1].container.end);\n      return stack.pop();\n    }\n  };\n  parser.onerror = function(e) {\n    throw e;\n  };\n  parser.write(xml).close();\n  head = helper.connect(head, root.end);\n  root.correctParentTree();\n  return root;\n};\n\nhasSomeTextAfter = function(lines, i) {\n  while (i !== lines.length) {\n    if (lines[i].length > 0) {\n      return true;\n    }\n    i += 1;\n  }\n  return false;\n};\n\nstripFlaggedBlocks = function(document) {\n  var container, head, ref, results, text;\n  head = document.start;\n  results = [];\n  while (head !== document.end) {\n    if (head instanceof model.StartToken && head.container.flagToRemove) {\n      container = head.container;\n      head = container.end.next;\n      results.push(document.remove(container));\n    } else if (head instanceof model.StartToken && head.container.flagToStrip) {\n      if ((ref = head.container.parent) != null) {\n        ref.color = 'error';\n      }\n      text = head.next;\n      text.value = text.value.substring(head.container.flagToStrip.left, text.value.length - head.container.flagToStrip.right);\n      results.push(head = text.next);\n    } else {\n      results.push(head = head.next);\n    }\n  }\n  return results;\n};\n\nParser.parens = function(leading, trailing, node, context) {\n  var results;\n  if (context === null || context.type !== 'socket' || (context != null ? context.precedence : void 0) < node.precedence) {\n    results = [];\n    while (true) {\n      if ((leading().match(/^\\s*\\(/) != null) && (trailing().match(/\\)\\s*/) != null)) {\n        leading(leading().replace(/^\\s*\\(\\s*/, ''));\n        results.push(trailing(trailing().replace(/^\\s*\\)\\s*/, '')));\n      } else {\n        break;\n      }\n    }\n    return results;\n  } else {\n    leading('(' + leading());\n    return trailing(trailing() + ')');\n  }\n};\n\nParser.drop = function(block, context, pred, next) {\n  if (block.type === 'document' && context.type === 'socket') {\n    return helper.FORBID;\n  } else {\n    return helper.ENCOURAGE;\n  }\n};\n\nParser.empty = '';\n\nParser.emptyIndent = '';\n\ngetDefaultSelectionRange = function(string) {\n  return {\n    start: 0,\n    end: string.length\n  };\n};\n\nexports.wrapParser = function(CustomParser) {\n  var CustomParserFactory;\n  return CustomParserFactory = (function(superClass) {\n    extend(CustomParserFactory, superClass);\n\n    function CustomParserFactory(opts1) {\n      var ref, ref1, ref2;\n      this.opts = opts1 != null ? opts1 : {};\n      this.empty = CustomParser.empty;\n      this.emptyIndent = CustomParser.emptyIndent;\n      this.startComment = (ref = CustomParser.startComment) != null ? ref : '/*';\n      this.endComment = (ref1 = CustomParser.endComment) != null ? ref1 : '*/';\n      this.startSingleLineComment = CustomParser.startSingleLineComment;\n      this.getDefaultSelectionRange = (ref2 = CustomParser.getDefaultSelectionRange) != null ? ref2 : getDefaultSelectionRange;\n      this.rootContext = CustomParser.rootContext;\n    }\n\n    CustomParserFactory.prototype.createParser = function(text) {\n      var parser;\n      parser = new CustomParser(text, this.opts);\n      parser.startComment = this.startComment;\n      parser.endComment = this.endComment;\n      parser.empty = this.empty;\n      parser.emptyIndent = this.emptyIndent;\n      return parser;\n    };\n\n    CustomParserFactory.prototype.stringFixer = function(string) {\n      if (CustomParser.stringFixer != null) {\n        return CustomParser.stringFixer.apply(this, arguments);\n      } else {\n        return string;\n      }\n    };\n\n    CustomParserFactory.prototype.parse = function(text, opts) {\n      this.opts.parseOptions = opts;\n      if (opts == null) {\n        opts = {\n          wrapAtRoot: true\n        };\n      }\n      return this.createParser(text)._parse(opts);\n    };\n\n    CustomParserFactory.prototype.parens = function(leading, trailing, node, context) {\n      var leadingFn, trailingFn;\n      leadingFn = function(value) {\n        if (value != null) {\n          leading = value;\n        }\n        return leading;\n      };\n      if (trailing != null) {\n        trailingFn = function(value) {\n          if (value != null) {\n            trailing = value;\n          }\n          return trailing;\n        };\n      } else {\n        trailingFn = leadingFn;\n      }\n      CustomParser.parens(leadingFn, trailingFn, node, context);\n      return [leading, trailing];\n    };\n\n    CustomParserFactory.prototype.drop = function(block, context, pred, next) {\n      return CustomParser.drop(block, context, pred, next);\n    };\n\n    CustomParserFactory.prototype.handleButton = function(text, command, oldblock) {\n      var parser;\n      parser = this.createParser(text);\n      return parser.handleButton(text, command, oldblock);\n    };\n\n    return CustomParserFactory;\n\n  })(ParserFactory);\n};\n\n\n},{\"./helper.coffee\":28,\"./model.coffee\":31,\"sax\":24}],34:[function(require,module,exports){\nvar ANY_DROP, BLOCK_ONLY, BUTTON_TEXT_HEIGHT_OFFSET, CARRIAGE_ARROW_INDENT, CARRIAGE_ARROW_NONE, CARRIAGE_ARROW_SIDEALONG, CARRIAGE_GROW_DOWN, DEFAULT_OPTIONS, DROPDOWN_ARROW_HEIGHT, DROP_TRIANGLE_COLOR, MOSTLY_BLOCK, MOSTLY_VALUE, MULTILINE_END, MULTILINE_END_START, MULTILINE_MIDDLE, MULTILINE_START, NO, NO_MULTILINE, SVG_STANDARD, VALUE_ONLY, View, YES, arrayEq, avgColor, dedupe, draw, helper, model, toHex, toRGB, twoDigitHex, zeroPad,\n  indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; },\n  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty,\n  modulo = function(a, b) { return (+a % (b = +b) + b) % b; };\n\nhelper = require('./helper.coffee');\n\ndraw = require('./draw.coffee');\n\nmodel = require('./model.coffee');\n\nNO_MULTILINE = 0;\n\nMULTILINE_START = 1;\n\nMULTILINE_MIDDLE = 2;\n\nMULTILINE_END = 3;\n\nMULTILINE_END_START = 4;\n\nANY_DROP = helper.ANY_DROP;\n\nBLOCK_ONLY = helper.BLOCK_ONLY;\n\nMOSTLY_BLOCK = helper.MOSTLY_BLOCK;\n\nMOSTLY_VALUE = helper.MOSTLY_VALUE;\n\nVALUE_ONLY = helper.VALUE_ONLY;\n\nCARRIAGE_ARROW_SIDEALONG = 0;\n\nCARRIAGE_ARROW_INDENT = 1;\n\nCARRIAGE_ARROW_NONE = 2;\n\nCARRIAGE_GROW_DOWN = 3;\n\nDROPDOWN_ARROW_HEIGHT = 8;\n\nDROP_TRIANGLE_COLOR = '#555';\n\nSVG_STANDARD = helper.SVG_STANDARD;\n\nDEFAULT_OPTIONS = {\n  buttonWidth: 15,\n  buttonHeight: 15,\n  buttonPadding: 6,\n  minIndentTongueWidth: 150,\n  showDropdowns: true,\n  padding: 5,\n  indentWidth: 20,\n  indentTongueHeight: 20,\n  tabOffset: 10,\n  tabWidth: 15,\n  tabHeight: 5,\n  tabSideWidth: 0.125,\n  dropAreaHeight: 20,\n  indentDropAreaMinWidth: 50,\n  minSocketWidth: 10,\n  invisibleSocketWidth: 5,\n  textHeight: 15,\n  textPadding: 1,\n  emptyLineWidth: 50,\n  highlightAreaHeight: 10,\n  bevelClip: 3,\n  shadowBlur: 5,\n  colors: {\n    error: '#ff0000',\n    comment: '#c0c0c0',\n    \"return\": '#fff59d',\n    control: '#ffcc80',\n    value: '#a5d6a7',\n    command: '#90caf9',\n    red: '#ef9a9a',\n    pink: '#f48fb1',\n    purple: '#ce93d8',\n    deeppurple: '#b39ddb',\n    indigo: '#9fa8da',\n    blue: '#90caf9',\n    lightblue: '#81d4fa',\n    cyan: '#80deea',\n    teal: '#80cbc4',\n    green: '#a5d6a7',\n    lightgreen: '#c5e1a5',\n    lime: '#e6ee9c',\n    yellow: '#fff59d',\n    amber: '#ffe082',\n    orange: '#ffcc80',\n    deeporange: '#ffab91',\n    brown: '#bcaaa4',\n    grey: '#eeeeee',\n    bluegrey: '#b0bec5'\n  }\n};\n\nBUTTON_TEXT_HEIGHT_OFFSET = {\n  '+': -1,\n  '-': -1,\n  '\\u2190': -3,\n  '\\u2192': -3\n};\n\nYES = function() {\n  return true;\n};\n\nNO = function() {\n  return false;\n};\n\narrayEq = function(a, b) {\n  var i, k;\n  if (a.length !== b.length) {\n    return false;\n  }\n  if ((function() {\n    var j, len1, results;\n    results = [];\n    for (i = j = 0, len1 = a.length; j < len1; i = ++j) {\n      k = a[i];\n      results.push(k !== b[i]);\n    }\n    return results;\n  })()) {\n    return false;\n  }\n  return true;\n};\n\nexports.View = View = (function() {\n  var AuxiliaryViewNode, BlockViewNode, ContainerViewNode, DocumentViewNode, GenericViewNode, IndentViewNode, ListViewNode, SocketViewNode, TextViewNode;\n\n  function View(ctx, opts) {\n    var color, option;\n    this.ctx = ctx;\n    this.opts = opts != null ? opts : {};\n    if (this.ctx == null) {\n      this.ctx = document.createElementNS(SVG_STANDARD, 'svg');\n    }\n    this.map = {};\n    this.oldRoots = {};\n    this.newRoots = {};\n    this.auxiliaryMap = {};\n    this.flaggedToDelete = {};\n    this.unflaggedToDelete = {};\n    this.marks = {};\n    this.draw = new draw.Draw(this.ctx);\n    for (option in DEFAULT_OPTIONS) {\n      if (!(option in this.opts)) {\n        this.opts[option] = DEFAULT_OPTIONS[option];\n      }\n    }\n    for (color in DEFAULT_OPTIONS.colors) {\n      if (!(color in this.opts.colors)) {\n        this.opts.colors[color] = DEFAULT_OPTIONS.colors[color];\n      }\n    }\n  }\n\n  View.prototype.clearCache = function() {\n    this.beginDraw();\n    return this.garbageCollect();\n  };\n\n  View.prototype.clearFromCanvas = function() {\n    this.beginDraw();\n    return this.cleanupDraw();\n  };\n\n  View.prototype.getViewNodeFor = function(model) {\n    if (model.id in this.map) {\n      return this.map[model.id];\n    } else {\n      return this.createView(model);\n    }\n  };\n\n  View.prototype.registerMark = function(id) {\n    return this.marks[id] = true;\n  };\n\n  View.prototype.clearMarks = function() {\n    var key, ref, val;\n    ref = this.marks;\n    for (key in ref) {\n      val = ref[key];\n      this.map[key].unmark();\n    }\n    return this.marks = {};\n  };\n\n  View.prototype.beginDraw = function() {\n    return this.newRoots = {};\n  };\n\n  View.prototype.hasViewNodeFor = function(model) {\n    return (model != null) && model.id in this.map;\n  };\n\n  View.prototype.getAuxiliaryNode = function(node) {\n    if (node.id in this.auxiliaryMap) {\n      return this.auxiliaryMap[node.id];\n    } else {\n      return this.auxiliaryMap[node.id] = new AuxiliaryViewNode(this, node);\n    }\n  };\n\n  View.prototype.registerRoot = function(node) {\n    var aux, id, ref;\n    if (node instanceof model.List && !(node instanceof model.Container)) {\n      node.traverseOneLevel((function(_this) {\n        return function(head) {\n          if (!(head instanceof model.NewlineToken)) {\n            return _this.registerRoot(head);\n          }\n        };\n      })(this));\n      return;\n    }\n    ref = this.newRoots;\n    for (id in ref) {\n      aux = ref[id];\n      if (aux.model.hasParent(node)) {\n        delete this.newRoots[id];\n      } else if (node.hasParent(aux.model)) {\n        return;\n      }\n    }\n    return this.newRoots[node.id] = this.getAuxiliaryNode(node);\n  };\n\n  View.prototype.cleanupDraw = function() {\n    var el, id, ref, ref1, ref2, ref3, results;\n    this.flaggedToDelete = {};\n    this.unflaggedToDelete = {};\n    ref = this.oldRoots;\n    for (id in ref) {\n      el = ref[id];\n      if (!(id in this.newRoots)) {\n        this.flag(el);\n      }\n    }\n    ref1 = this.newRoots;\n    for (id in ref1) {\n      el = ref1[id];\n      el.cleanup();\n    }\n    ref2 = this.flaggedToDelete;\n    for (id in ref2) {\n      el = ref2[id];\n      if (id in this.unflaggedToDelete) {\n        delete this.flaggedToDelete[id];\n      }\n    }\n    ref3 = this.flaggedToDelete;\n    results = [];\n    for (id in ref3) {\n      el = ref3[id];\n      if (id in this.map) {\n        results.push(this.map[id].hide());\n      }\n    }\n    return results;\n  };\n\n  View.prototype.flag = function(auxiliaryNode) {\n    return this.flaggedToDelete[auxiliaryNode.model.id] = auxiliaryNode;\n  };\n\n  View.prototype.unflag = function(auxiliaryNode) {\n    return this.unflaggedToDelete[auxiliaryNode.model.id] = auxiliaryNode;\n  };\n\n  View.prototype.garbageCollect = function() {\n    var el, id, ref, ref1;\n    this.cleanupDraw();\n    ref = this.flaggedToDelete;\n    for (id in ref) {\n      el = ref[id];\n      if (!(id in this.map)) {\n        continue;\n      }\n      this.map[id].destroy();\n      this.destroy(id);\n    }\n    ref1 = this.newRoots;\n    for (id in ref1) {\n      el = ref1[id];\n      el.update();\n    }\n    return this.oldRoots = this.newRoots;\n  };\n\n  View.prototype.destroy = function(id) {\n    var child, j, len1, ref;\n    ref = this.map[id].children;\n    for (j = 0, len1 = ref.length; j < len1; j++) {\n      child = ref[j];\n      if ((this.map[child.child.id] != null) && !this.unflaggedToDelete[child.child.id]) {\n        this.destroy(child.child.id);\n      }\n    }\n    delete this.map[id];\n    delete this.auxiliaryMap[id];\n    return delete this.flaggedToDelete[id];\n  };\n\n  View.prototype.hasViewNodeFor = function(model) {\n    return (model != null) && model.id in this.map;\n  };\n\n  View.prototype.createView = function(entity) {\n    if ((entity instanceof model.List) && !(entity instanceof model.Container)) {\n      return new ListViewNode(entity, this);\n    }\n    switch (entity.type) {\n      case 'text':\n        return new TextViewNode(entity, this);\n      case 'block':\n        return new BlockViewNode(entity, this);\n      case 'indent':\n        return new IndentViewNode(entity, this);\n      case 'socket':\n        return new SocketViewNode(entity, this);\n      case 'document':\n        return new DocumentViewNode(entity, this);\n    }\n  };\n\n  View.prototype.getColor = function(color) {\n    var ref;\n    if (color && '#' === color.charAt(0)) {\n      return color;\n    } else {\n      return (ref = this.opts.colors[color]) != null ? ref : '#ffffff';\n    }\n  };\n\n  AuxiliaryViewNode = (function() {\n    function AuxiliaryViewNode(view1, model1) {\n      this.view = view1;\n      this.model = model1;\n      this.children = {};\n      this.computedVersion = -1;\n    }\n\n    AuxiliaryViewNode.prototype.cleanup = function() {\n      var child, children, id, ref, results;\n      this.view.unflag(this);\n      if (this.model.version === this.computedVersion) {\n        return;\n      }\n      children = {};\n      if (this.model instanceof model.Container) {\n        this.model.traverseOneLevel((function(_this) {\n          return function(head) {\n            if (head instanceof model.NewlineToken) {\n\n            } else {\n              return children[head.id] = _this.view.getAuxiliaryNode(head);\n            }\n          };\n        })(this));\n      }\n      ref = this.children;\n      for (id in ref) {\n        child = ref[id];\n        if (!(id in children)) {\n          this.view.flag(child);\n        }\n      }\n      results = [];\n      for (id in children) {\n        child = children[id];\n        this.children[id] = child;\n        results.push(child.cleanup());\n      }\n      return results;\n    };\n\n    AuxiliaryViewNode.prototype.update = function() {\n      var child, children, id, ref;\n      this.view.unflag(this);\n      if (this.model.version === this.computedVersion) {\n        return;\n      }\n      children = {};\n      if (this.model instanceof model.Container) {\n        this.model.traverseOneLevel((function(_this) {\n          return function(head) {\n            if (head instanceof model.NewlineToken) {\n\n            } else {\n              return children[head.id] = _this.view.getAuxiliaryNode(head);\n            }\n          };\n        })(this));\n      }\n      this.children = children;\n      ref = this.children;\n      for (id in ref) {\n        child = ref[id];\n        child.update();\n      }\n      return this.computedVersion = this.model.version;\n    };\n\n    return AuxiliaryViewNode;\n\n  })();\n\n  GenericViewNode = (function() {\n    function GenericViewNode(model1, view1) {\n      this.model = model1;\n      this.view = view1;\n      this.view.map[this.model.id] = this;\n      this.view.registerRoot(this.model);\n      this.lastCoordinate = new this.view.draw.Point(0, 0);\n      this.invalidate = false;\n      this.lineLength = 0;\n      this.children = [];\n      this.oldChildren = [];\n      this.lineChildren = [];\n      this.multilineChildrenData = [];\n      this.margins = {\n        left: 0,\n        right: 0,\n        top: 0,\n        bottom: 0\n      };\n      this.topLineSticksToBottom = false;\n      this.bottomLineSticksToTop = false;\n      this.minDimensions = [];\n      this.minDistanceToBase = [];\n      this.dimensions = [];\n      this.distanceToBase = [];\n      this.carriageArrow = CARRIAGE_ARROW_NONE;\n      this.bevels = {\n        top: false,\n        bottom: false\n      };\n      this.bounds = [];\n      this.changedBoundingBox = true;\n      this.glue = {};\n      this.elements = [];\n      this.activeElements = [];\n      this.computedVersion = -1;\n    }\n\n    GenericViewNode.prototype.draw = function(boundingRect, style, parent) {\n      if (style == null) {\n        style = {};\n      }\n      if (parent == null) {\n        parent = null;\n      }\n      return this.drawSelf(style, parent);\n    };\n\n    GenericViewNode.prototype.root = function() {\n      var element, j, len1, ref, results;\n      ref = this.elements;\n      results = [];\n      for (j = 0, len1 = ref.length; j < len1; j++) {\n        element = ref[j];\n        results.push(element.setParent(this.view.draw.ctx));\n      }\n      return results;\n    };\n\n    GenericViewNode.prototype.serialize = function(line) {\n      var child, i, j, l, len1, len2, len3, len4, len5, len6, m, o, p, prop, q, ref, ref1, ref2, ref3, ref4, ref5, ref6, result, s;\n      result = [];\n      ref = ['lineLength', 'margins', 'topLineSticksToBottom', 'bottomLineSticksToTop', 'changedBoundingBox', 'path', 'highlightArea', 'computedVersion', 'carriageArrow', 'bevels'];\n      for (j = 0, len1 = ref.length; j < len1; j++) {\n        prop = ref[j];\n        result.push(prop + ': ' + JSON.stringify(this[prop]));\n      }\n      ref1 = this.children;\n      for (i = l = 0, len2 = ref1.length; l < len2; i = ++l) {\n        child = ref1[i];\n        result.push((\"child \" + i + \": {startLine: \" + child.startLine + \", \") + (\"endLine: \" + child.endLine + \"}\"));\n      }\n      if (line != null) {\n        ref2 = ['multilineChildrenData', 'minDimensions', 'minDistanceToBase', 'dimensions', 'distanceToBase', 'bounds', 'glue'];\n        for (m = 0, len3 = ref2.length; m < len3; m++) {\n          prop = ref2[m];\n          result.push(prop + \" \" + line + \": \" + (JSON.stringify(this[prop][line])));\n        }\n        ref3 = this.lineChildren[line];\n        for (i = o = 0, len4 = ref3.length; o < len4; i = ++o) {\n          child = ref3[i];\n          result.push((\"line \" + line + \" child \" + i + \": \") + (\"{startLine: \" + child.startLine + \", \") + (\"endLine: \" + child.endLine + \"}}\"));\n        }\n      } else {\n        for (line = p = 0, ref4 = this.lineLength; 0 <= ref4 ? p < ref4 : p > ref4; line = 0 <= ref4 ? ++p : --p) {\n          ref5 = ['multilineChildrenData', 'minDimensions', 'minDistanceToBase', 'dimensions', 'distanceToBase', 'bounds', 'glue'];\n          for (q = 0, len5 = ref5.length; q < len5; q++) {\n            prop = ref5[q];\n            result.push(prop + \" \" + line + \": \" + (JSON.stringify(this[prop][line])));\n          }\n          ref6 = this.lineChildren[line];\n          for (i = s = 0, len6 = ref6.length; s < len6; i = ++s) {\n            child = ref6[i];\n            result.push((\"line \" + line + \" child \" + i + \": \") + (\"{startLine: \" + child.startLine + \", \") + (\"endLine: \" + child.endLine + \"}}\"));\n          }\n        }\n      }\n      return result.join('\\n');\n    };\n\n    GenericViewNode.prototype.computeChildren = function() {\n      return this.lineLength;\n    };\n\n    GenericViewNode.prototype.focusAll = function() {\n      return this.group.focus();\n    };\n\n    GenericViewNode.prototype.computeCarriageArrow = function() {\n      var childObj, j, len1, ref;\n      ref = this.children;\n      for (j = 0, len1 = ref.length; j < len1; j++) {\n        childObj = ref[j];\n        this.view.getViewNodeFor(childObj.child).computeCarriageArrow();\n      }\n      return this.carriageArrow;\n    };\n\n    GenericViewNode.prototype.computeMargins = function() {\n      var childObj, j, left, len1, padding, parenttype, ref, ref1, ref2, ref3, ref4, ref5, ref6, right, textPadding;\n      if (this.computedVersion === this.model.version && ((this.model.parent == null) || !this.view.hasViewNodeFor(this.model.parent) || this.model.parent.version === this.view.getViewNodeFor(this.model.parent).computedVersion)) {\n        return this.margins;\n      }\n      parenttype = (ref = this.model.parent) != null ? ref.type : void 0;\n      padding = this.view.opts.padding;\n      left = this.model.isFirstOnLine() || this.lineLength > 1 ? padding : 0;\n      right = this.model.isLastOnLine() || this.lineLength > 1 ? padding : 0;\n      if (parenttype === 'block' && this.model.type === 'indent') {\n        this.margins = {\n          top: 0,\n          bottom: this.lineLength > 1 ? this.view.opts.indentTongueHeight : padding,\n          firstLeft: 0,\n          midLeft: this.view.opts.indentWidth,\n          lastLeft: this.view.opts.indentWidth,\n          firstRight: 0,\n          midRight: 0,\n          lastRight: padding\n        };\n      } else if (this.model.type === 'text' && parenttype === 'socket') {\n        this.margins = {\n          top: this.view.opts.textPadding,\n          bottom: this.view.opts.textPadding,\n          firstLeft: this.view.opts.textPadding,\n          midLeft: this.view.opts.textPadding,\n          lastLeft: this.view.opts.textPadding,\n          firstRight: this.view.opts.textPadding,\n          midRight: this.view.opts.textPadding,\n          lastRight: this.view.opts.textPadding\n        };\n      } else if (this.model.type === 'text' && parenttype === 'block') {\n        if (((ref1 = this.model.prev) != null ? ref1.type : void 0) === 'newline' && ((ref2 = (ref3 = this.model.next) != null ? ref3.type : void 0) === 'newline' || ref2 === 'indentStart') || ((ref4 = this.model.prev) != null ? (ref5 = ref4.prev) != null ? ref5.type : void 0 : void 0) === 'indentEnd') {\n          textPadding = padding / 2;\n        } else {\n          textPadding = padding;\n        }\n        this.margins = {\n          top: textPadding,\n          bottom: textPadding,\n          firstLeft: left,\n          midLeft: left,\n          lastLeft: left,\n          firstRight: right,\n          midRight: right,\n          lastRight: right\n        };\n      } else if (parenttype === 'block') {\n        this.margins = {\n          top: padding,\n          bottom: padding,\n          firstLeft: left,\n          midLeft: padding,\n          lastLeft: padding,\n          firstRight: right,\n          midRight: 0,\n          lastRight: right\n        };\n      } else {\n        this.margins = {\n          firstLeft: 0,\n          midLeft: 0,\n          lastLeft: 0,\n          firstRight: 0,\n          midRight: 0,\n          lastRight: 0,\n          top: 0,\n          bottom: 0\n        };\n      }\n      this.firstMargins = {\n        left: this.margins.firstLeft,\n        right: this.margins.firstRight,\n        top: this.margins.top,\n        bottom: this.lineLength === 1 ? this.margins.bottom : 0\n      };\n      this.midMargins = {\n        left: this.margins.midLeft,\n        right: this.margins.midRight,\n        top: 0,\n        bottom: 0\n      };\n      this.lastMargins = {\n        left: this.margins.lastLeft,\n        right: this.margins.lastRight,\n        top: this.lineLength === 1 ? this.margins.top : 0,\n        bottom: this.margins.bottom\n      };\n      ref6 = this.children;\n      for (j = 0, len1 = ref6.length; j < len1; j++) {\n        childObj = ref6[j];\n        this.view.getViewNodeFor(childObj.child).computeMargins();\n      }\n      return null;\n    };\n\n    GenericViewNode.prototype.getMargins = function(line) {\n      if (line === 0) {\n        return this.firstMargins;\n      } else if (line === this.lineLength - 1) {\n        return this.lastMargins;\n      } else {\n        return this.midMargins;\n      }\n    };\n\n    GenericViewNode.prototype.computeBevels = function() {\n      var childObj, j, len1, ref;\n      ref = this.children;\n      for (j = 0, len1 = ref.length; j < len1; j++) {\n        childObj = ref[j];\n        this.view.getViewNodeFor(childObj.child).computeBevels();\n      }\n      return this.bevels;\n    };\n\n    GenericViewNode.prototype.computeMinDimensions = function() {\n      var i, j, ref;\n      if (this.minDimensions.length > this.lineLength) {\n        this.minDimensions.length = this.minDistanceToBase.length = this.lineLength;\n      } else {\n        while (this.minDimensions.length !== this.lineLength) {\n          this.minDimensions.push(new this.view.draw.Size(0, 0));\n          this.minDistanceToBase.push({\n            above: 0,\n            below: 0\n          });\n        }\n      }\n      for (i = j = 0, ref = this.lineLength; 0 <= ref ? j < ref : j > ref; i = 0 <= ref ? ++j : --j) {\n        this.minDimensions[i].width = this.minDimensions[i].height = 0;\n        this.minDistanceToBase[i].above = this.minDistanceToBase[i].below = 0;\n      }\n      return null;\n    };\n\n    GenericViewNode.prototype.computeDimensions = function(force, root) {\n      var changed, childObj, distance, i, j, l, len1, len2, line, lineCount, m, oldDimensions, oldDistanceToBase, parentNode, ref, ref1, ref2, size, startLine;\n      if (root == null) {\n        root = false;\n      }\n      if (this.computedVersion === this.model.version && !force && !this.invalidate) {\n        return;\n      }\n      oldDimensions = this.dimensions;\n      oldDistanceToBase = this.distanceToBase;\n      this.dimensions = (function() {\n        var j, ref, results;\n        results = [];\n        for (j = 0, ref = this.lineLength; 0 <= ref ? j < ref : j > ref; 0 <= ref ? j++ : j--) {\n          results.push(new this.view.draw.Size(0, 0));\n        }\n        return results;\n      }).call(this);\n      this.distanceToBase = (function() {\n        var j, ref, results;\n        results = [];\n        for (j = 0, ref = this.lineLength; 0 <= ref ? j < ref : j > ref; 0 <= ref ? j++ : j--) {\n          results.push({\n            above: 0,\n            below: 0\n          });\n        }\n        return results;\n      }).call(this);\n      ref = this.minDimensions;\n      for (i = j = 0, len1 = ref.length; j < len1; i = ++j) {\n        size = ref[i];\n        this.dimensions[i].width = size.width;\n        this.dimensions[i].height = size.height;\n        this.distanceToBase[i].above = this.minDistanceToBase[i].above;\n        this.distanceToBase[i].below = this.minDistanceToBase[i].below;\n      }\n      if ((this.model.parent != null) && this.view.hasViewNodeFor(this.model.parent) && !root && (this.topLineSticksToBottom || this.bottomLineSticksToTop || (this.lineLength > 1 && !this.model.isLastOnLine()))) {\n        parentNode = this.view.getViewNodeFor(this.model.parent);\n        startLine = this.model.getLinesToParent();\n        if (this.topLineSticksToBottom) {\n          distance = this.distanceToBase[0];\n          distance.below = Math.max(distance.below, parentNode.distanceToBase[startLine].below);\n          this.dimensions[0] = new this.view.draw.Size(this.dimensions[0].width, distance.below + distance.above);\n        }\n        if (this.bottomLineSticksToTop) {\n          lineCount = this.distanceToBase.length;\n          distance = this.distanceToBase[lineCount - 1];\n          distance.above = Math.max(distance.above, parentNode.distanceToBase[startLine + lineCount - 1].above);\n          this.dimensions[lineCount - 1] = new this.view.draw.Size(this.dimensions[lineCount - 1].width, distance.below + distance.above);\n        }\n        if (this.lineLength > 1 && !this.model.isLastOnLine() && this.model.type === 'block') {\n          distance = this.distanceToBase[this.lineLength - 1];\n          distance.below = parentNode.distanceToBase[startLine + this.lineLength - 1].below;\n          this.dimensions[lineCount - 1] = new this.view.draw.Size(this.dimensions[lineCount - 1].width, distance.below + distance.above);\n        }\n      }\n      changed = oldDimensions.length !== this.lineLength;\n      if (!changed) {\n        for (line = l = 0, ref1 = this.lineLength; 0 <= ref1 ? l < ref1 : l > ref1; line = 0 <= ref1 ? ++l : --l) {\n          if (!oldDimensions[line].equals(this.dimensions[line]) || oldDistanceToBase[line].above !== this.distanceToBase[line].above || oldDistanceToBase[line].below !== this.distanceToBase[line].below) {\n            changed = true;\n            break;\n          }\n        }\n      }\n      this.changedBoundingBox || (this.changedBoundingBox = changed);\n      ref2 = this.children;\n      for (m = 0, len2 = ref2.length; m < len2; m++) {\n        childObj = ref2[m];\n        if (indexOf.call(this.lineChildren[0], childObj) >= 0 || indexOf.call(this.lineChildren[this.lineLength - 1], childObj) >= 0) {\n          this.view.getViewNodeFor(childObj.child).computeDimensions(changed, !(this.model instanceof model.Container));\n        } else {\n          this.view.getViewNodeFor(childObj.child).computeDimensions(false, !(this.model instanceof model.Container));\n        }\n      }\n      return null;\n    };\n\n    GenericViewNode.prototype.computeBoundingBoxX = function(left, line) {\n      var ref, ref1, ref2;\n      if (this.computedVersion === this.model.version && left === ((ref = this.bounds[line]) != null ? ref.x : void 0) && !this.changedBoundingBox || ((ref1 = this.bounds[line]) != null ? ref1.x : void 0) === left && ((ref2 = this.bounds[line]) != null ? ref2.width : void 0) === this.dimensions[line].width) {\n        return this.bounds[line];\n      }\n      this.changedBoundingBox = true;\n      if (this.bounds[line] != null) {\n        this.bounds[line].x = left;\n        this.bounds[line].width = this.dimensions[line].width;\n      } else {\n        this.bounds[line] = new this.view.draw.Rectangle(left, 0, this.dimensions[line].width, 0);\n      }\n      return this.bounds[line];\n    };\n\n    GenericViewNode.prototype.computeAllBoundingBoxX = function(left) {\n      var j, len1, line, ref, size;\n      if (left == null) {\n        left = 0;\n      }\n      ref = this.dimensions;\n      for (line = j = 0, len1 = ref.length; j < len1; line = ++j) {\n        size = ref[line];\n        this.computeBoundingBoxX(left, line);\n      }\n      return this.bounds;\n    };\n\n    GenericViewNode.prototype.computeGlue = function() {\n      return this.glue = {};\n    };\n\n    GenericViewNode.prototype.computeBoundingBoxY = function(top, line) {\n      var ref;\n      if (this.computedVersion === this.model.version && top === ((ref = this.bounds[line]) != null ? ref.y : void 0) && !this.changedBoundingBox || this.bounds[line].y === top && this.bounds[line].height === this.dimensions[line].height) {\n        return this.bounds[line];\n      }\n      this.changedBoundingBox = true;\n      this.bounds[line].y = top;\n      this.bounds[line].height = this.dimensions[line].height;\n      return this.bounds[line];\n    };\n\n    GenericViewNode.prototype.computeAllBoundingBoxY = function(top) {\n      var j, len1, line, ref, size;\n      if (top == null) {\n        top = 0;\n      }\n      ref = this.dimensions;\n      for (line = j = 0, len1 = ref.length; j < len1; line = ++j) {\n        size = ref[line];\n        this.computeBoundingBoxY(top, line);\n        top += size.height;\n        if (line in this.glue) {\n          top += this.glue[line].height;\n        }\n      }\n      return this.bounds;\n    };\n\n    GenericViewNode.prototype.getBounds = function() {\n      return this.totalBounds;\n    };\n\n    GenericViewNode.prototype.computeOwnPath = function() {};\n\n    GenericViewNode.prototype.computePath = function() {\n      var bound, child, childObj, j, l, len1, len2, len3, m, maxRight, ref, ref1, ref2;\n      if (this.computedVersion === this.model.version && (this.model.isLastOnLine() === this.lastComputedLinePredicate) && !this.changedBoundingBox) {\n        return null;\n      }\n      ref = this.children;\n      for (j = 0, len1 = ref.length; j < len1; j++) {\n        childObj = ref[j];\n        this.view.getViewNodeFor(childObj.child).computePath();\n      }\n      if (this.changedBoundingBox || (this.model.isLastOnLine() !== this.lastComputedLinePredicate)) {\n        this.computeOwnPath();\n        this.totalBounds = new this.view.draw.NoRectangle();\n        if (this.bounds.length > 0) {\n          this.totalBounds.unite(this.bounds[0]);\n          this.totalBounds.unite(this.bounds[this.bounds.length - 1]);\n        }\n        if (this.bounds.length > this.children.length) {\n          ref1 = this.children;\n          for (l = 0, len2 = ref1.length; l < len2; l++) {\n            child = ref1[l];\n            this.totalBounds.unite(this.view.getViewNodeFor(child.child).totalBounds);\n          }\n        } else {\n          maxRight = this.totalBounds.right();\n          ref2 = this.bounds;\n          for (m = 0, len3 = ref2.length; m < len3; m++) {\n            bound = ref2[m];\n            this.totalBounds.x = Math.min(this.totalBounds.x, bound.x);\n            maxRight = Math.max(maxRight, bound.right());\n          }\n          this.totalBounds.width = maxRight - this.totalBounds.x;\n        }\n        if (this.path != null) {\n          this.totalBounds.unite(this.path.bounds());\n        }\n      }\n      this.lastComputedLinePredicate = this.model.isLastOnLine();\n      return null;\n    };\n\n    GenericViewNode.prototype.computeOwnDropArea = function() {};\n\n    GenericViewNode.prototype.computeDropAreas = function() {\n      var childObj, j, len1, ref;\n      if (this.computedVersion === this.model.version && !this.changedBoundingBox) {\n        return null;\n      }\n      this.computeOwnDropArea();\n      ref = this.children;\n      for (j = 0, len1 = ref.length; j < len1; j++) {\n        childObj = ref[j];\n        this.view.getViewNodeFor(childObj.child).computeDropAreas();\n      }\n      return null;\n    };\n\n    GenericViewNode.prototype.computeNewVersionNumber = function() {\n      var childObj, j, len1, ref;\n      if (this.computedVersion === this.model.version && !this.changedBoundingBox) {\n        return null;\n      }\n      this.changedBoundingBox = false;\n      this.invalidate = false;\n      this.computedVersion = this.model.version;\n      ref = this.children;\n      for (j = 0, len1 = ref.length; j < len1; j++) {\n        childObj = ref[j];\n        this.view.getViewNodeFor(childObj.child).computeNewVersionNumber();\n      }\n      return null;\n    };\n\n    GenericViewNode.prototype.drawSelf = function(style) {\n      if (style == null) {\n        style = {};\n      }\n    };\n\n    GenericViewNode.prototype.hide = function() {\n      var element, j, len1, ref;\n      ref = this.elements;\n      for (j = 0, len1 = ref.length; j < len1; j++) {\n        element = ref[j];\n        if (element != null) {\n          if (typeof element.deactivate === \"function\") {\n            element.deactivate();\n          }\n        }\n      }\n      return this.activeElements = [];\n    };\n\n    GenericViewNode.prototype.destroy = function(root) {\n      var child, element, j, l, len1, len2, ref, ref1, results;\n      if (root == null) {\n        root = true;\n      }\n      if (root) {\n        ref = this.elements;\n        for (j = 0, len1 = ref.length; j < len1; j++) {\n          element = ref[j];\n          if (element != null) {\n            if (typeof element.destroy === \"function\") {\n              element.destroy();\n            }\n          }\n        }\n      } else if (this.highlightArea != null) {\n        this.highlightArea.destroy();\n      }\n      this.activeElements = [];\n      ref1 = this.children;\n      results = [];\n      for (l = 0, len2 = ref1.length; l < len2; l++) {\n        child = ref1[l];\n        results.push(this.view.getViewNodeFor(child.child).destroy(false));\n      }\n      return results;\n    };\n\n    return GenericViewNode;\n\n  })();\n\n  ListViewNode = (function(superClass) {\n    extend(ListViewNode, superClass);\n\n    function ListViewNode(model1, view1) {\n      this.model = model1;\n      this.view = view1;\n      ListViewNode.__super__.constructor.apply(this, arguments);\n    }\n\n    ListViewNode.prototype.draw = function(boundingRect, style, parent) {\n      var childObj, j, len1, ref, results;\n      if (style == null) {\n        style = {};\n      }\n      if (parent == null) {\n        parent = null;\n      }\n      ListViewNode.__super__.draw.apply(this, arguments);\n      ref = this.children;\n      results = [];\n      for (j = 0, len1 = ref.length; j < len1; j++) {\n        childObj = ref[j];\n        results.push(this.view.getViewNodeFor(childObj.child).draw(boundingRect, style, this.group));\n      }\n      return results;\n    };\n\n    ListViewNode.prototype.root = function() {\n      var child, j, len1, ref, results;\n      ref = this.children;\n      results = [];\n      for (j = 0, len1 = ref.length; j < len1; j++) {\n        child = ref[j];\n        results.push(this.view.getViewNodeFor(child.child).root());\n      }\n      return results;\n    };\n\n    ListViewNode.prototype.destroy = function(root) {\n      var child, j, len1, ref, results;\n      if (root == null) {\n        root = true;\n      }\n      ref = this.children;\n      results = [];\n      for (j = 0, len1 = ref.length; j < len1; j++) {\n        child = ref[j];\n        results.push(this.view.getViewNodeFor(child.child).destroy());\n      }\n      return results;\n    };\n\n    ListViewNode.prototype.computeChildren = function() {\n      var base, i, j, line, ref;\n      if (this.computedVersion === this.model.version) {\n        return this.lineLength;\n      }\n      this.lineLength = 0;\n      this.lineChildren = [[]];\n      this.children = [];\n      this.multilineChildrenData = [];\n      this.topLineSticksToBottom = false;\n      this.bottomLineSticksToTop = false;\n      line = 0;\n      this.model.traverseOneLevel((function(_this) {\n        return function(head) {\n          var base, base1, childLength, childObject, i, j, l, ref, ref1, ref2, ref3, view;\n          if (head.type === 'newline') {\n            line += 1;\n            return (base = _this.lineChildren)[line] != null ? base[line] : base[line] = [];\n          } else {\n            view = _this.view.getViewNodeFor(head);\n            childLength = view.computeChildren();\n            childObject = {\n              child: head,\n              startLine: line,\n              endLine: line + childLength - 1\n            };\n            _this.children.push(childObject);\n            for (i = j = ref = line, ref1 = line + childLength; ref <= ref1 ? j < ref1 : j > ref1; i = ref <= ref1 ? ++j : --j) {\n              if ((base1 = _this.lineChildren)[i] == null) {\n                base1[i] = [];\n              }\n              if (head.type !== 'cursor') {\n                _this.lineChildren[i].push(childObject);\n              }\n            }\n            if (view.lineLength > 1) {\n              if (_this.multilineChildrenData[line] === MULTILINE_END) {\n                _this.multilineChildrenData[line] = MULTILINE_END_START;\n              } else {\n                _this.multilineChildrenData[line] = MULTILINE_START;\n              }\n              for (i = l = ref2 = line + 1, ref3 = line + childLength - 1; ref2 <= ref3 ? l < ref3 : l > ref3; i = ref2 <= ref3 ? ++l : --l) {\n                _this.multilineChildrenData[i] = MULTILINE_MIDDLE;\n              }\n              _this.multilineChildrenData[line + childLength - 1] = MULTILINE_END;\n            }\n            return line += childLength - 1;\n          }\n        };\n      })(this));\n      this.lineLength = line + 1;\n      if (this.bounds.length !== this.lineLength) {\n        this.changedBoundingBox = true;\n        this.bounds = this.bounds.slice(0, this.lineLength);\n      }\n      for (i = j = 0, ref = this.lineLength; 0 <= ref ? j < ref : j > ref; i = 0 <= ref ? ++j : --j) {\n        if ((base = this.multilineChildrenData)[i] == null) {\n          base[i] = NO_MULTILINE;\n        }\n      }\n      if (this.lineLength > 1) {\n        this.topLineSticksToBottom = true;\n        this.bottomLineSticksToTop = true;\n      }\n      return this.lineLength;\n    };\n\n    ListViewNode.prototype.computeMinDimensions = function() {\n      var bottomMargin, buttonLine, childNode, childObject, desiredLine, j, l, len1, len2, len3, len4, len5, len6, line, lineChild, lineChildView, linesToExtend, m, margins, minDimension, minDimensions, minDistanceToBase, o, p, preIndentLines, q, ref, ref1, ref2, ref3, ref4, ref5, size;\n      if (this.computedVersion === this.model.version) {\n        return null;\n      }\n      ListViewNode.__super__.computeMinDimensions.apply(this, arguments);\n      linesToExtend = [];\n      preIndentLines = [];\n      ref = this.children;\n      for (j = 0, len1 = ref.length; j < len1; j++) {\n        childObject = ref[j];\n        childNode = this.view.getViewNodeFor(childObject.child);\n        childNode.computeMinDimensions();\n        minDimensions = childNode.minDimensions;\n        minDistanceToBase = childNode.minDistanceToBase;\n        for (line = l = 0, len2 = minDimensions.length; l < len2; line = ++l) {\n          size = minDimensions[line];\n          desiredLine = line + childObject.startLine;\n          margins = childNode.getMargins(line);\n          this.minDimensions[desiredLine].width += size.width + margins.left + margins.right;\n          if (childObject.child.type === 'indent' && line === minDimensions.length - 1 && desiredLine < this.lineLength - 1) {\n            bottomMargin = 0;\n            linesToExtend.push(desiredLine + 1);\n          } else if (childObject.child.type === 'indent' && line === 0) {\n            preIndentLines.push(desiredLine);\n            bottomMargin = margins.bottom;\n          } else {\n            bottomMargin = margins.bottom;\n          }\n          this.minDistanceToBase[desiredLine].above = Math.max(this.minDistanceToBase[desiredLine].above, minDistanceToBase[line].above + margins.top);\n          this.minDistanceToBase[desiredLine].below = Math.max(this.minDistanceToBase[desiredLine].below, minDistanceToBase[line].below + Math.max(bottomMargin, (buttonLine = ((ref1 = this.model.buttons) != null ? ref1.onFirstLine : void 0) ? 0 : this.lineLength - 1, (((ref2 = this.model.buttons) != null ? ref2.addButton : void 0) || ((ref3 = this.model.buttons) != null ? ref3.subtractButton : void 0)) && desiredLine === buttonLine && this.multilineChildrenData[line] === MULTILINE_END && this.lineChildren[line].length === 1 ? this.view.opts.buttonPadding + this.view.opts.buttonHeight : 0)));\n        }\n      }\n      ref4 = this.minDimensions;\n      for (line = m = 0, len3 = ref4.length; m < len3; line = ++m) {\n        minDimension = ref4[line];\n        if (this.lineChildren[line].length === 0) {\n          if (this.model.type === 'socket') {\n            this.minDistanceToBase[line].above = this.view.opts.textHeight + this.view.opts.textPadding;\n            this.minDistanceToBase[line].below = this.view.opts.textPadding;\n          } else if (this.model.type === 'text') {\n            this.minDistanceToBase[line].above = this.view.opts.textHeight;\n            this.minDistanceToBase[line].below = 0;\n          } else if (this.model.type === 'indent' && line === 0) {\n            this.minDistanceToBase[line].above = 0;\n            this.minDistanceToBase[line].below = 0;\n          } else {\n            this.minDistanceToBase[line].above = this.view.opts.textHeight + this.view.opts.padding;\n            this.minDistanceToBase[line].below = this.view.opts.padding;\n          }\n        }\n        minDimension.height = this.minDistanceToBase[line].above + this.minDistanceToBase[line].below;\n      }\n      for (o = 0, len4 = linesToExtend.length; o < len4; o++) {\n        line = linesToExtend[o];\n        this.minDimensions[line].width = Math.max(this.minDimensions[line].width, Math.max(this.view.opts.minIndentTongueWidth, this.view.opts.indentWidth + this.view.opts.tabWidth + this.view.opts.tabOffset + this.view.opts.bevelClip));\n      }\n      for (p = 0, len5 = preIndentLines.length; p < len5; p++) {\n        line = preIndentLines[p];\n        this.minDimensions[line].width = Math.max(this.minDimensions[line].width, Math.max(this.view.opts.minIndentTongueWidth, this.view.opts.indentWidth + this.view.opts.tabWidth + this.view.opts.tabOffset + this.view.opts.bevelClip));\n      }\n      ref5 = this.lineChildren[this.lineLength - 1];\n      for (q = 0, len6 = ref5.length; q < len6; q++) {\n        lineChild = ref5[q];\n        lineChildView = this.view.getViewNodeFor(lineChild.child);\n        if (lineChildView.carriageArrow !== CARRIAGE_ARROW_NONE) {\n          this.minDistanceToBase[this.lineLength - 1].below += this.view.opts.padding;\n          this.minDimensions[this.lineLength - 1].height = this.minDistanceToBase[this.lineLength - 1].above + this.minDistanceToBase[this.lineLength - 1].below;\n          break;\n        }\n      }\n      return null;\n    };\n\n    ListViewNode.prototype.computeBoundingBoxX = function(left, line, offset) {\n      var childLeft, childLine, childMargins, childView, i, j, len1, lineChild, ref, ref1, ref2, ref3;\n      if (offset == null) {\n        offset = 0;\n      }\n      if (this.computedVersion === this.model.version && left === ((ref = this.bounds[line]) != null ? ref.x : void 0) && !this.changedBoundingBox) {\n        return this.bounds[line];\n      }\n      if (!(((ref1 = this.bounds[line]) != null ? ref1.x : void 0) === left && ((ref2 = this.bounds[line]) != null ? ref2.width : void 0) === this.dimensions[line].width)) {\n        if (this.bounds[line] != null) {\n          this.bounds[line].x = left;\n          this.bounds[line].width = this.dimensions[line].width;\n        } else {\n          this.bounds[line] = new this.view.draw.Rectangle(left, 0, this.dimensions[line].width, 0);\n        }\n        this.changedBoundingBox = true;\n      }\n      childLeft = left + offset;\n      ref3 = this.lineChildren[line];\n      for (i = j = 0, len1 = ref3.length; j < len1; i = ++j) {\n        lineChild = ref3[i];\n        childView = this.view.getViewNodeFor(lineChild.child);\n        childLine = line - lineChild.startLine;\n        childMargins = childView.getMargins(childLine);\n        childLeft += childMargins.left;\n        childView.computeBoundingBoxX(childLeft, childLine);\n        childLeft += childView.dimensions[childLine].width + childMargins.right;\n      }\n      return this.bounds[line];\n    };\n\n    ListViewNode.prototype.computeBoundingBoxY = function(top, line) {\n      var above, childAbove, childLine, childView, i, j, len1, lineChild, ref, ref1, ref2, ref3;\n      if (this.computedVersion === this.model.version && top === ((ref = this.bounds[line]) != null ? ref.y : void 0) && !this.changedBoundingBox) {\n        return this.bounds[line];\n      }\n      if (!(((ref1 = this.bounds[line]) != null ? ref1.y : void 0) === top && ((ref2 = this.bounds[line]) != null ? ref2.height : void 0) === this.dimensions[line].height)) {\n        this.bounds[line].y = top;\n        this.bounds[line].height = this.dimensions[line].height;\n        this.changedBoundingBox = true;\n      }\n      above = this.distanceToBase[line].above;\n      ref3 = this.lineChildren[line];\n      for (i = j = 0, len1 = ref3.length; j < len1; i = ++j) {\n        lineChild = ref3[i];\n        childView = this.view.getViewNodeFor(lineChild.child);\n        childLine = line - lineChild.startLine;\n        childAbove = childView.distanceToBase[childLine].above;\n        childView.computeBoundingBoxY(top + above - childAbove, childLine);\n      }\n      return this.bounds[line];\n    };\n\n    ListViewNode.prototype.layout = function(left, top) {\n      var changedBoundingBox;\n      if (left == null) {\n        left = this.lastCoordinate.x;\n      }\n      if (top == null) {\n        top = this.lastCoordinate.y;\n      }\n      this.view.registerRoot(this.model);\n      this.lastCoordinate = new this.view.draw.Point(left, top);\n      this.computeChildren();\n      this.computeCarriageArrow(true);\n      this.computeMargins();\n      this.computeBevels();\n      this.computeMinDimensions();\n      this.computeDimensions(0, true);\n      this.computeAllBoundingBoxX(left);\n      this.computeGlue();\n      this.computeAllBoundingBoxY(top);\n      this.computePath();\n      this.computeDropAreas();\n      changedBoundingBox = this.changedBoundingBox;\n      this.computeNewVersionNumber();\n      return changedBoundingBox;\n    };\n\n    ListViewNode.prototype.absorbCache = function() {\n      var child, childView, j, l, left, len1, len2, len3, line, m, oldY, ref, ref1, ref2, size, top;\n      this.view.registerRoot(this.model);\n      this.computeChildren();\n      this.computeCarriageArrow(true);\n      this.computeMargins();\n      this.computeBevels();\n      this.computeMinDimensions();\n      ref = this.minDimensions;\n      for (line = j = 0, len1 = ref.length; j < len1; line = ++j) {\n        size = ref[line];\n        this.distanceToBase[line] = {\n          above: this.lineChildren[line].map((function(_this) {\n            return function(child) {\n              return _this.view.getViewNodeFor(child.child).distanceToBase[line - child.startLine].above;\n            };\n          })(this)).reduce(function(a, b) {\n            return Math.max(a, b);\n          }),\n          below: this.lineChildren[line].map((function(_this) {\n            return function(child) {\n              return _this.view.getViewNodeFor(child.child).distanceToBase[line - child.startLine].below;\n            };\n          })(this)).reduce(function(a, b) {\n            return Math.max(a, b);\n          })\n        };\n        this.dimensions[line] = new draw.Size(this.minDimensions[line].width, this.minDimensions[line].height);\n      }\n      ref1 = this.dimensions;\n      for (line = l = 0, len2 = ref1.length; l < len2; line = ++l) {\n        size = ref1[line];\n        child = this.lineChildren[line][0];\n        childView = this.view.getViewNodeFor(child.child);\n        left = childView.bounds[line - child.startLine].x;\n        this.computeBoundingBoxX(left, line);\n      }\n      this.computeGlue();\n      ref2 = this.dimensions;\n      for (line = m = 0, len3 = ref2.length; m < len3; line = ++m) {\n        size = ref2[line];\n        child = this.lineChildren[line][0];\n        childView = this.view.getViewNodeFor(child.child);\n        oldY = childView.bounds[line - child.startLine].y;\n        top = childView.bounds[line - child.startLine].y + childView.distanceToBase[line - child.startLine].above - this.distanceToBase[line].above;\n        this.computeBoundingBoxY(top, line);\n      }\n      this.computePath();\n      this.computeDropAreas();\n      return true;\n    };\n\n    ListViewNode.prototype.computeGlue = function() {\n      var box, childLine, childObj, childView, j, l, len1, len2, len3, line, lineChild, m, ref, ref1, ref2;\n      if (this.computedVersion === this.model.version && !this.changedBoundingBox) {\n        return this.glue;\n      }\n      ref = this.children;\n      for (j = 0, len1 = ref.length; j < len1; j++) {\n        childObj = ref[j];\n        this.view.getViewNodeFor(childObj.child).computeGlue();\n      }\n      this.glue = {};\n      ref1 = this.bounds;\n      for (line = l = 0, len2 = ref1.length; l < len2; line = ++l) {\n        box = ref1[line];\n        if (!(line < this.bounds.length - 1)) {\n          continue;\n        }\n        this.glue[line] = {\n          type: 'normal',\n          height: 0,\n          draw: false\n        };\n        ref2 = this.lineChildren[line];\n        for (m = 0, len3 = ref2.length; m < len3; m++) {\n          lineChild = ref2[m];\n          childView = this.view.getViewNodeFor(lineChild.child);\n          childLine = line - lineChild.startLine;\n          if (childLine in childView.glue) {\n            this.glue[line].height = Math.max(this.glue[line].height, childView.glue[childLine].height);\n          }\n          if (childView.carriageArrow !== CARRIAGE_ARROW_NONE) {\n            this.glue[line].height = Math.max(this.glue[line].height, this.view.opts.padding);\n          }\n        }\n      }\n      return this.glue;\n    };\n\n    return ListViewNode;\n\n  })(GenericViewNode);\n\n  ContainerViewNode = (function(superClass) {\n    extend(ContainerViewNode, superClass);\n\n    function ContainerViewNode(model1, view1) {\n      this.model = model1;\n      this.view = view1;\n      ContainerViewNode.__super__.constructor.apply(this, arguments);\n      this.group = new this.view.draw.Group('droplet-container-group');\n      if (this.model.type === 'block') {\n        this.path = new this.view.draw.Path([], true, {\n          cssClass: 'droplet-block-path'\n        });\n      } else {\n        this.path = new this.view.draw.Path([], false, {\n          cssClass: \"droplet-\" + this.model.type + \"-path\"\n        });\n      }\n      this.totalBounds = new this.view.draw.NoRectangle();\n      this.path.setParent(this.group);\n      this.dropArea = null;\n      this.highlightArea = new this.view.draw.Path([], false, {\n        fillColor: '#FF0',\n        strokeColor: '#FF0',\n        lineWidth: 1\n      });\n      this.highlightArea.deactivate();\n      this.elements.push(this.group);\n      this.elements.push(this.path);\n      this.elements.push(this.highlightArea);\n    }\n\n    ContainerViewNode.prototype.destroy = function(root) {\n      var child, element, j, l, len1, len2, ref, ref1, results;\n      if (root == null) {\n        root = true;\n      }\n      if (root) {\n        ref = this.elements;\n        for (j = 0, len1 = ref.length; j < len1; j++) {\n          element = ref[j];\n          if (element != null) {\n            if (typeof element.destroy === \"function\") {\n              element.destroy();\n            }\n          }\n        }\n      } else if (this.highlightArea != null) {\n        this.highlightArea.destroy();\n      }\n      ref1 = this.children;\n      results = [];\n      for (l = 0, len2 = ref1.length; l < len2; l++) {\n        child = ref1[l];\n        results.push(this.view.getViewNodeFor(child.child).destroy(false));\n      }\n      return results;\n    };\n\n    ContainerViewNode.prototype.root = function() {\n      return this.group.setParent(this.view.draw.ctx);\n    };\n\n    ContainerViewNode.prototype.draw = function(boundingRect, style, parent) {\n      var childObj, element, j, l, len1, len2, ref, ref1, results;\n      if (style == null) {\n        style = {};\n      }\n      if (parent == null) {\n        parent = null;\n      }\n      if ((boundingRect == null) || this.totalBounds.overlap(boundingRect)) {\n        this.drawSelf(style, parent);\n        this.group.activate();\n        this.path.activate();\n        ref = this.activeElements;\n        for (j = 0, len1 = ref.length; j < len1; j++) {\n          element = ref[j];\n          element.activate();\n        }\n        if (this.highlightArea != null) {\n          this.highlightArea.setParent(this.view.draw.ctx);\n        }\n        if (parent != null) {\n          this.group.setParent(parent);\n        }\n        ref1 = this.children;\n        results = [];\n        for (l = 0, len2 = ref1.length; l < len2; l++) {\n          childObj = ref1[l];\n          results.push(this.view.getViewNodeFor(childObj.child).draw(boundingRect, style, this.group));\n        }\n        return results;\n      } else {\n        this.group.destroy();\n        if (this.highlightArea != null) {\n          return this.highlightArea.destroy();\n        }\n      }\n    };\n\n    ContainerViewNode.prototype.computeCarriageArrow = function(root) {\n      var head, oldCarriageArrow, parent;\n      if (root == null) {\n        root = false;\n      }\n      oldCarriageArrow = this.carriageArrow;\n      this.carriageArrow = CARRIAGE_ARROW_NONE;\n      parent = this.model.parent;\n      if ((!root) && (parent != null ? parent.type : void 0) === 'indent' && this.view.hasViewNodeFor(parent) && this.view.getViewNodeFor(parent).lineLength > 1 && this.lineLength === 1) {\n        head = this.model.start;\n        while (!(head === parent.start || head.type === 'newline')) {\n          head = head.prev;\n        }\n        if (head === parent.start) {\n          if (this.model.isLastOnLine()) {\n            this.carriageArrow = CARRIAGE_ARROW_INDENT;\n          } else {\n            this.carriageArrow = CARRIAGE_GROW_DOWN;\n          }\n        } else if (!this.model.isFirstOnLine()) {\n          this.carriageArrow = CARRIAGE_ARROW_SIDEALONG;\n        }\n      }\n      if (this.carriageArrow !== oldCarriageArrow) {\n        this.changedBoundingBox = true;\n      }\n      if (this.computedVersion === this.model.version && ((this.model.parent == null) || !this.view.hasViewNodeFor(this.model.parent) || this.model.parent.version === this.view.getViewNodeFor(this.model.parent).computedVersion)) {\n        return null;\n      }\n      return ContainerViewNode.__super__.computeCarriageArrow.apply(this, arguments);\n    };\n\n    ContainerViewNode.prototype.computeGlue = function() {\n      var box, j, len1, line, overlap, ref, ref1;\n      if (this.computedVersion === this.model.version && !this.changedBoundingBox) {\n        return this.glue;\n      }\n      ContainerViewNode.__super__.computeGlue.apply(this, arguments);\n      ref = this.bounds;\n      for (line = j = 0, len1 = ref.length; j < len1; line = ++j) {\n        box = ref[line];\n        if (line < this.bounds.length - 1) {\n          if (this.multilineChildrenData[line] !== MULTILINE_MIDDLE) {\n            overlap = Math.min(this.bounds[line].right() - this.bounds[line + 1].x, this.bounds[line + 1].right() - this.bounds[line].x);\n            if ((ref1 = this.multilineChildrenData[line]) === MULTILINE_START || ref1 === MULTILINE_END_START) {\n              overlap = Math.min(overlap, this.bounds[line + 1].x + this.view.opts.indentWidth - this.bounds[line].x);\n            }\n            if (overlap < this.view.opts.padding && this.model.type !== 'indent') {\n              this.glue[line].height += this.view.opts.padding;\n              this.glue[line].draw = true;\n            }\n          }\n        }\n      }\n      return this.glue;\n    };\n\n    ContainerViewNode.prototype.computeBevels = function() {\n      var oldBevels, ref, ref1, ref2, ref3, ref4, ref5, ref6;\n      oldBevels = this.bevels;\n      this.bevels = {\n        top: true,\n        bottom: true\n      };\n      if (((ref = (ref1 = this.model.parent) != null ? ref1.type : void 0) === 'indent' || ref === 'document') && ((ref2 = this.model.start.prev) != null ? ref2.type : void 0) === 'newline' && ((ref3 = this.model.start.prev) != null ? ref3.prev : void 0) !== this.model.parent.start) {\n        this.bevels.top = false;\n      }\n      if (((ref4 = (ref5 = this.model.parent) != null ? ref5.type : void 0) === 'indent' || ref4 === 'document') && ((ref6 = this.model.end.next) != null ? ref6.type : void 0) === 'newline') {\n        this.bevels.bottom = false;\n      }\n      if (!(oldBevels.top === this.bevels.top && oldBevels.bottom === this.bevels.bottom)) {\n        this.changedBoundingBox = true;\n      }\n      if (this.computedVersion === this.model.version) {\n        return null;\n      }\n      return ContainerViewNode.__super__.computeBevels.apply(this, arguments);\n    };\n\n    ContainerViewNode.prototype.computeOwnPath = function() {\n      var bounds, buttonStart, buttonTop, destinationBounds, firstRect, firstStart, firstTop, glueTop, height, i, innerLeft, innerRight, j, l, lastLine, lastRect, left, leftmost, len1, len2, line, multilineBounds, multilineChild, multilineNode, multilineView, newPath, next, parentViewNode, path, point, prev, ref, ref1, ref10, ref2, ref3, ref4, ref5, ref6, ref7, ref8, ref9, right, rightmost, start, top, topLeftPoint;\n      left = [];\n      right = [];\n      if (this.shouldAddTab() && this.model.isFirstOnLine() && this.carriageArrow !== CARRIAGE_ARROW_SIDEALONG) {\n        this.addTabReverse(right, new this.view.draw.Point(this.bounds[0].x + this.view.opts.tabOffset, this.bounds[0].y));\n      }\n      ref = this.bounds;\n      for (line = j = 0, len1 = ref.length; j < len1; line = ++j) {\n        bounds = ref[line];\n        if (this.multilineChildrenData[line] === NO_MULTILINE) {\n          left.push(new this.view.draw.Point(bounds.x, bounds.y));\n          left.push(new this.view.draw.Point(bounds.x, bounds.bottom()));\n          right.push(new this.view.draw.Point(bounds.right(), bounds.y));\n          right.push(new this.view.draw.Point(bounds.right(), bounds.bottom()));\n        }\n        if (this.multilineChildrenData[line] === MULTILINE_START) {\n          left.push(new this.view.draw.Point(bounds.x, bounds.y));\n          left.push(new this.view.draw.Point(bounds.x, bounds.bottom()));\n          multilineChild = this.lineChildren[line][this.lineChildren[line].length - 1];\n          multilineView = this.view.getViewNodeFor(multilineChild.child);\n          multilineBounds = multilineView.bounds[line - multilineChild.startLine];\n          if (multilineBounds.width === 0) {\n            right.push(new this.view.draw.Point(bounds.right(), bounds.y));\n          } else {\n            right.push(new this.view.draw.Point(bounds.right(), bounds.y));\n            right.push(new this.view.draw.Point(bounds.right(), multilineBounds.y));\n            if (multilineChild.child.type === 'indent') {\n              this.addTab(right, new this.view.draw.Point(multilineBounds.x + this.view.opts.tabOffset, multilineBounds.y));\n            }\n            right.push(new this.view.draw.Point(multilineBounds.x, multilineBounds.y));\n            right.push(new this.view.draw.Point(multilineBounds.x, multilineBounds.bottom()));\n          }\n        }\n        if (this.multilineChildrenData[line] === MULTILINE_MIDDLE) {\n          multilineChild = this.lineChildren[line][0];\n          multilineBounds = this.view.getViewNodeFor(multilineChild.child).bounds[line - multilineChild.startLine];\n          left.push(new this.view.draw.Point(bounds.x, bounds.y));\n          left.push(new this.view.draw.Point(bounds.x, bounds.bottom()));\n          if (!(((ref1 = this.multilineChildrenData[line - 1]) === MULTILINE_START || ref1 === MULTILINE_END_START) && multilineChild.child.type === 'indent')) {\n            right.push(new this.view.draw.Point(multilineBounds.x, bounds.y));\n          }\n          right.push(new this.view.draw.Point(multilineBounds.x, bounds.bottom()));\n        }\n        if ((ref2 = this.multilineChildrenData[line]) === MULTILINE_END || ref2 === MULTILINE_END_START) {\n          left.push(new this.view.draw.Point(bounds.x, bounds.y));\n          left.push(new this.view.draw.Point(bounds.x, bounds.bottom()));\n          multilineChild = this.lineChildren[line][0];\n          multilineBounds = this.view.getViewNodeFor(multilineChild.child).bounds[line - multilineChild.startLine];\n          if (!(((ref3 = this.multilineChildrenData[line - 1]) === MULTILINE_START || ref3 === MULTILINE_END_START) && multilineChild.child.type === 'indent')) {\n            right.push(new this.view.draw.Point(multilineBounds.x, multilineBounds.y));\n          }\n          right.push(new this.view.draw.Point(multilineBounds.x, multilineBounds.bottom()));\n          if (multilineChild.child.type === 'indent') {\n            this.addTabReverse(right, new this.view.draw.Point(multilineBounds.x + this.view.opts.tabOffset, multilineBounds.bottom()));\n          }\n          right.push(new this.view.draw.Point(multilineBounds.right(), multilineBounds.bottom()));\n          if (this.lineChildren[line].length > 1) {\n            right.push(new this.view.draw.Point(multilineBounds.right(), multilineBounds.y));\n            if (this.multilineChildrenData[line] === MULTILINE_END) {\n              right.push(new this.view.draw.Point(bounds.right(), bounds.y));\n              right.push(new this.view.draw.Point(bounds.right(), bounds.bottom()));\n            } else {\n              multilineChild = this.lineChildren[line][this.lineChildren[line].length - 1];\n              multilineView = this.view.getViewNodeFor(multilineChild.child);\n              multilineBounds = multilineView.bounds[line - multilineChild.startLine];\n              right.push(new this.view.draw.Point(bounds.right(), bounds.y));\n              if (multilineBounds.width === 0) {\n                right.push(new this.view.draw.Point(bounds.right(), bounds.y));\n                right.push(new this.view.draw.Point(bounds.right(), bounds.bottom()));\n              } else {\n                right.push(new this.view.draw.Point(bounds.right(), multilineBounds.y));\n                right.push(new this.view.draw.Point(multilineBounds.x, multilineBounds.y));\n                right.push(new this.view.draw.Point(multilineBounds.x, multilineBounds.bottom()));\n              }\n            }\n          } else {\n            right.push(new this.view.draw.Point(bounds.right(), multilineBounds.bottom()));\n            right.push(new this.view.draw.Point(bounds.right(), bounds.bottom()));\n          }\n        }\n        if (line < this.lineLength - 1 && line in this.glue && this.glue[line].draw) {\n          glueTop = this.bounds[line + 1].y - this.glue[line].height;\n          leftmost = Math.min(this.bounds[line + 1].x, this.bounds[line].x);\n          rightmost = Math.max(this.bounds[line + 1].right(), this.bounds[line].right());\n          left.push(new this.view.draw.Point(this.bounds[line].x, glueTop));\n          left.push(new this.view.draw.Point(leftmost, glueTop));\n          left.push(new this.view.draw.Point(leftmost, glueTop + this.view.opts.padding));\n          if (this.multilineChildrenData[line] !== MULTILINE_START) {\n            right.push(new this.view.draw.Point(this.bounds[line].right(), glueTop));\n            right.push(new this.view.draw.Point(rightmost, glueTop));\n            right.push(new this.view.draw.Point(rightmost, glueTop + this.view.opts.padding));\n          }\n        } else if ((this.bounds[line + 1] != null) && this.multilineChildrenData[line] !== MULTILINE_MIDDLE) {\n          innerLeft = Math.max(this.bounds[line + 1].x, this.bounds[line].x);\n          innerRight = Math.min(this.bounds[line + 1].right(), this.bounds[line].right());\n          left.push(new this.view.draw.Point(innerLeft, this.bounds[line].bottom()));\n          left.push(new this.view.draw.Point(innerLeft, this.bounds[line + 1].y));\n          if ((ref4 = this.multilineChildrenData[line]) !== MULTILINE_START && ref4 !== MULTILINE_END_START) {\n            right.push(new this.view.draw.Point(innerRight, this.bounds[line].bottom()));\n            right.push(new this.view.draw.Point(innerRight, this.bounds[line + 1].y));\n          }\n        } else if (this.carriageArrow === CARRIAGE_GROW_DOWN) {\n          parentViewNode = this.view.getViewNodeFor(this.model.parent);\n          destinationBounds = parentViewNode.bounds[1];\n          right.push(new this.view.draw.Point(this.bounds[line].right(), destinationBounds.y - this.view.opts.padding));\n          left.push(new this.view.draw.Point(this.bounds[line].x, destinationBounds.y - this.view.opts.padding));\n        } else if (this.carriageArrow === CARRIAGE_ARROW_INDENT) {\n          parentViewNode = this.view.getViewNodeFor(this.model.parent);\n          destinationBounds = parentViewNode.bounds[1];\n          right.push(new this.view.draw.Point(this.bounds[line].right(), destinationBounds.y));\n          right.push(new this.view.draw.Point(destinationBounds.x + this.view.opts.tabOffset + this.view.opts.tabWidth, destinationBounds.y));\n          left.push(new this.view.draw.Point(this.bounds[line].x, destinationBounds.y - this.view.opts.padding));\n          left.push(new this.view.draw.Point(destinationBounds.x, destinationBounds.y - this.view.opts.padding));\n          left.push(new this.view.draw.Point(destinationBounds.x, destinationBounds.y));\n          this.addTab(right, new this.view.draw.Point(destinationBounds.x + this.view.opts.tabOffset, destinationBounds.y));\n        } else if (this.carriageArrow === CARRIAGE_ARROW_SIDEALONG && this.model.isLastOnLine()) {\n          parentViewNode = this.view.getViewNodeFor(this.model.parent);\n          destinationBounds = parentViewNode.bounds[this.model.getLinesToParent()];\n          right.push(new this.view.draw.Point(this.bounds[line].right(), destinationBounds.bottom() + this.view.opts.padding));\n          right.push(new this.view.draw.Point(destinationBounds.x + this.view.opts.tabOffset + this.view.opts.tabWidth, destinationBounds.bottom() + this.view.opts.padding));\n          left.push(new this.view.draw.Point(this.bounds[line].x, destinationBounds.bottom()));\n          left.push(new this.view.draw.Point(destinationBounds.x, destinationBounds.bottom()));\n          left.push(new this.view.draw.Point(destinationBounds.x, destinationBounds.bottom() + this.view.opts.padding));\n          this.addTab(right, new this.view.draw.Point(destinationBounds.x + this.view.opts.tabOffset, destinationBounds.bottom() + this.view.opts.padding));\n        }\n        if ((ref5 = this.multilineChildrenData[line]) === MULTILINE_START || ref5 === MULTILINE_END_START) {\n          multilineChild = this.lineChildren[line][this.lineChildren[line].length - 1];\n          multilineNode = this.view.getViewNodeFor(multilineChild.child);\n          multilineBounds = multilineNode.bounds[line - multilineChild.startLine];\n          if ((ref6 = this.glue[line]) != null ? ref6.draw : void 0) {\n            glueTop = this.bounds[line + 1].y - this.glue[line].height + this.view.opts.padding;\n          } else {\n            glueTop = this.bounds[line].bottom();\n          }\n          if (multilineChild.child.type === 'indent' && multilineChild.child.start.next.type === 'newline') {\n            right.push(new this.view.draw.Point(this.bounds[line].right(), glueTop));\n            this.addTab(right, new this.view.draw.Point(this.bounds[line + 1].x + this.view.opts.indentWidth + this.view.opts.tabOffset, glueTop), true);\n          } else {\n            right.push(new this.view.draw.Point(multilineBounds.x, glueTop));\n          }\n          if (glueTop !== this.bounds[line + 1].y) {\n            right.push(new this.view.draw.Point(multilineNode.bounds[line - multilineChild.startLine + 1].x, glueTop));\n          }\n          right.push(new this.view.draw.Point(multilineNode.bounds[line - multilineChild.startLine + 1].x, this.bounds[line + 1].y));\n        }\n      }\n      if (this.shouldAddTab() && this.model.isLastOnLine() && this.carriageArrow === CARRIAGE_ARROW_NONE) {\n        this.addTab(right, new this.view.draw.Point(this.bounds[this.lineLength - 1].x + this.view.opts.tabOffset, this.bounds[this.lineLength - 1].bottom()));\n      }\n      topLeftPoint = left[0];\n      path = dedupe(left.reverse().concat(right));\n      newPath = [];\n      for (i = l = 0, len2 = path.length; l < len2; i = ++l) {\n        point = path[i];\n        if (i === 0 && !this.bevels.bottom) {\n          newPath.push(point);\n          continue;\n        }\n        if ((!this.bevels.top) && point.almostEquals(topLeftPoint)) {\n          newPath.push(point);\n          continue;\n        }\n        next = path[modulo(i + 1, path.length)];\n        prev = path[modulo(i - 1, path.length)];\n        if ((point.x === next.x) !== (point.y === next.y) && (point.x === prev.x) !== (point.y === prev.y) && point.from(prev).magnitude() >= this.view.opts.bevelClip * 2 && point.from(next).magnitude() >= this.view.opts.bevelClip * 2) {\n          newPath.push(point.plus(point.from(prev).toMagnitude(-this.view.opts.bevelClip)));\n          newPath.push(point.plus(point.from(next).toMagnitude(-this.view.opts.bevelClip)));\n        } else {\n          newPath.push(point);\n        }\n      }\n      this.path.setPoints(newPath);\n      if (this.model.type === 'block') {\n        this.path.style.fillColor = this.view.getColor(this.model.color);\n      }\n      if (((ref7 = this.model.buttons) != null ? ref7.addButton : void 0) || ((ref8 = this.model.buttons) != null ? ref8.subtractButton : void 0)) {\n        firstRect = this.bounds[0];\n        firstStart = firstRect.x + firstRect.width - this.extraWidth;\n        firstTop = firstRect.y + firstRect.height / 2 - this.view.opts.buttonHeight / 2;\n        lastLine = this.bounds.length - 1;\n        lastRect = this.bounds[lastLine];\n        start = lastRect.x + lastRect.width - this.extraWidth;\n        top = lastRect.y + lastRect.height / 2 - this.view.opts.buttonHeight / 2;\n        if (this.multilineChildrenData[lastLine] === MULTILINE_END) {\n          multilineChild = this.lineChildren[lastLine][0];\n          multilineBounds = this.view.getViewNodeFor(multilineChild.child).bounds[lastLine - multilineChild.startLine];\n          if (this.lineChildren[lastLine].length > 1) {\n            height = multilineBounds.bottom() - lastRect.y;\n            top = lastRect.y + height / 2 - this.view.opts.buttonHeight / 2;\n          } else {\n            height = lastRect.bottom() - multilineBounds.bottom();\n            top = multilineBounds.bottom() + height / 2 - this.view.opts.buttonHeight / 2;\n          }\n        }\n        buttonStart = this.model.buttons.onFirstLine ? firstStart : start;\n        buttonTop = this.model.buttons.onFirstLine ? firstTop : top;\n        if ((ref9 = this.model.buttons) != null ? ref9.subtractButton : void 0) {\n          this.subtractButtonPath.style.transform = \"translate(\" + buttonStart + \", \" + buttonTop + \")\";\n          this.subtractButtonPath.update();\n          this.subtractButtonRect = new this.view.draw.Rectangle(buttonStart, buttonTop, this.view.opts.buttonWidth, this.view.opts.buttonHeight);\n          this.elements.push(this.subtractButtonPath);\n          buttonStart += this.view.opts.buttonWidth + this.view.opts.buttonPadding;\n        }\n        if ((ref10 = this.model.buttons) != null ? ref10.addButton : void 0) {\n          this.addButtonPath.style.transform = \"translate(\" + buttonStart + \", \" + buttonTop + \")\";\n          this.addButtonPath.update();\n          this.addButtonRect = new this.view.draw.Rectangle(buttonStart, buttonTop, this.view.opts.buttonWidth, this.view.opts.buttonHeight);\n          this.elements.push(this.addButtonPath);\n        }\n      }\n      return this.path;\n    };\n\n    ContainerViewNode.prototype.addTab = function(array, point) {\n      array.push(new this.view.draw.Point(point.x + this.view.opts.tabWidth, point.y));\n      array.push(new this.view.draw.Point(point.x + this.view.opts.tabWidth * (1 - this.view.opts.tabSideWidth), point.y + this.view.opts.tabHeight));\n      array.push(new this.view.draw.Point(point.x + this.view.opts.tabWidth * this.view.opts.tabSideWidth, point.y + this.view.opts.tabHeight));\n      array.push(new this.view.draw.Point(point.x, point.y));\n      return array.push(point);\n    };\n\n    ContainerViewNode.prototype.addTabReverse = function(array, point) {\n      array.push(point);\n      array.push(new this.view.draw.Point(point.x, point.y));\n      array.push(new this.view.draw.Point(point.x + this.view.opts.tabWidth * this.view.opts.tabSideWidth, point.y + this.view.opts.tabHeight));\n      array.push(new this.view.draw.Point(point.x + this.view.opts.tabWidth * (1 - this.view.opts.tabSideWidth), point.y + this.view.opts.tabHeight));\n      return array.push(new this.view.draw.Point(point.x + this.view.opts.tabWidth, point.y));\n    };\n\n    ContainerViewNode.prototype.mark = function(style) {\n      this.view.registerMark(this.model.id);\n      this.markStyle = style;\n      return this.focusAll();\n    };\n\n    ContainerViewNode.prototype.unmark = function() {\n      return this.markStyle = null;\n    };\n\n    ContainerViewNode.prototype.drawSelf = function(style) {\n      var oldFill, oldStroke;\n      if (style == null) {\n        style = {};\n      }\n      oldFill = this.path.style.fillColor;\n      oldStroke = this.path.style.strokeColor;\n      if (style.grayscale) {\n        if (this.path.style.fillColor !== 'none') {\n          this.path.style.fillColor = avgColor(this.path.style.fillColor, 0.5, '#888');\n        }\n        if (this.path.style.strokeColor !== 'none') {\n          this.path.style.strokeColor = avgColor(this.path.style.strokeColor, 0.5, '#888');\n        }\n      }\n      if (style.selected) {\n        if (this.path.style.fillColor !== 'none') {\n          this.path.style.fillColor = avgColor(this.path.style.fillColor, 0.7, '#00F');\n        }\n        if (this.path.style.strokeColor !== 'none') {\n          this.path.style.strokeColor = avgColor(this.path.style.strokeColor, 0.7, '#00F');\n        }\n      }\n      this.path.setMarkStyle(this.markStyle);\n      this.path.update();\n      this.path.style.fillColor = oldFill;\n      this.path.style.strokeColor = oldStroke;\n      return null;\n    };\n\n    ContainerViewNode.prototype.computeOwnDropArea = function() {\n      this.dropArea = null;\n      if (this.highlightArea != null) {\n        this.elements = this.elements.filter(function(x) {\n          return x !== this.highlightArea;\n        });\n        this.highlightArea.destroy();\n        return this.highlightArea = null;\n      }\n    };\n\n    ContainerViewNode.prototype.shouldAddTab = NO;\n\n    return ContainerViewNode;\n\n  })(ListViewNode);\n\n  BlockViewNode = (function(superClass) {\n    extend(BlockViewNode, superClass);\n\n    function BlockViewNode() {\n      var ref, ref1, ref2, ref3, ref4, ref5, textElement;\n      BlockViewNode.__super__.constructor.apply(this, arguments);\n      if ((ref = this.model.buttons) != null ? ref.addButton : void 0) {\n        this.addButtonPath = new this.view.draw.Path([new this.view.draw.Point(0, 0), new this.view.draw.Point(0 + this.view.opts.buttonWidth, 0), new this.view.draw.Point(0 + this.view.opts.buttonWidth, 0 + this.view.opts.buttonHeight), new this.view.draw.Point(0, 0 + this.view.opts.buttonHeight)], true, {\n          fillColor: this.view.getColor(this.model.color),\n          cssClass: 'droplet-button-path'\n        });\n        textElement = new this.view.draw.Text(new this.view.draw.Point((this.view.opts.buttonWidth - this.view.draw.measureCtx.measureText((ref1 = this.model.buttons) != null ? ref1.addButton : void 0).width) / 2, this.view.opts.buttonHeight - this.view.opts.textHeight + BUTTON_TEXT_HEIGHT_OFFSET[this.model.buttons.addButton]), (ref2 = this.model.buttons) != null ? ref2.addButton : void 0);\n        textElement.setParent(this.addButtonPath);\n        this.addButtonPath.setParent(this.group);\n        this.elements.push(this.addButtonPath);\n        this.activeElements.push(textElement);\n        this.activeElements.push(this.addButtonPath);\n      }\n      if ((ref3 = this.model.buttons) != null ? ref3.subtractButton : void 0) {\n        this.subtractButtonPath = new this.view.draw.Path([new this.view.draw.Point(0, 0), new this.view.draw.Point(0 + this.view.opts.buttonWidth, 0), new this.view.draw.Point(0 + this.view.opts.buttonWidth, 0 + this.view.opts.buttonHeight), new this.view.draw.Point(0, 0 + this.view.opts.buttonHeight)], true, {\n          fillColor: this.view.getColor(this.model.color),\n          cssClass: 'droplet-button-path'\n        });\n        textElement = new this.view.draw.Text(new this.view.draw.Point((this.view.opts.buttonWidth - this.view.draw.measureCtx.measureText((ref4 = this.model.buttons) != null ? ref4.subtractButton : void 0).width) / 2, this.view.opts.buttonHeight - this.view.opts.textHeight + BUTTON_TEXT_HEIGHT_OFFSET[this.model.buttons.subtractButton]), (ref5 = this.model.buttons) != null ? ref5.subtractButton : void 0);\n        textElement.setParent(this.subtractButtonPath);\n        this.subtractButtonPath.setParent(this.group);\n        this.elements.push(this.subtractButtonPath);\n        this.activeElements.push(textElement);\n        this.activeElements.push(this.subtractButtonPath);\n      }\n    }\n\n    BlockViewNode.prototype.computeMinDimensions = function() {\n      var buttonLine, i, j, len1, ref, ref1, size;\n      if (this.computedVersion === this.model.version) {\n        return null;\n      }\n      BlockViewNode.__super__.computeMinDimensions.apply(this, arguments);\n      this.extraWidth = 0;\n      if (this.model.buttons.addButton) {\n        this.extraWidth += this.view.opts.buttonWidth + this.view.opts.buttonPadding;\n      }\n      if (this.model.buttons.subtractButton) {\n        this.extraWidth += this.view.opts.buttonWidth + this.view.opts.buttonPadding;\n      }\n      ref = this.minDimensions;\n      for (i = j = 0, len1 = ref.length; j < len1; i = ++j) {\n        size = ref[i];\n        size.width = Math.max(size.width, this.view.opts.tabWidth + this.view.opts.tabOffset);\n      }\n      buttonLine = ((ref1 = this.model.buttons) != null ? ref1.onFirstLine : void 0) ? 0 : this.minDimensions.length - 1;\n      this.minDimensions[buttonLine].width += this.extraWidth;\n      return null;\n    };\n\n    BlockViewNode.prototype.shouldAddTab = function() {\n      var ref;\n      if ((this.model.parent != null) && this.view.hasViewNodeFor(this.model.parent) && !(this.model.parent.type === 'document' && this.model.parent.opts.roundedSingletons && this.model.start.prev === this.model.parent.start && this.model.end.next === this.model.parent.end)) {\n        return ((ref = this.model.parent) != null ? ref.type : void 0) !== 'socket';\n      } else {\n        return !(indexOf.call(this.model.classes, 'mostly-value') >= 0 || indexOf.call(this.model.classes, 'value-only') >= 0);\n      }\n    };\n\n    BlockViewNode.prototype.computeOwnDropArea = function() {\n      var destinationBounds, highlightAreaPoints, lastBoundsLeft, lastBoundsRight, parentViewNode, ref, ref1;\n      if ((ref = (ref1 = this.model.parent) != null ? ref1.type : void 0) !== 'indent' && ref !== 'document') {\n        return;\n      }\n      if (this.carriageArrow === CARRIAGE_ARROW_INDENT) {\n        parentViewNode = this.view.getViewNodeFor(this.model.parent);\n        destinationBounds = parentViewNode.bounds[1];\n        this.dropPoint = new this.view.draw.Point(destinationBounds.x, destinationBounds.y);\n        lastBoundsLeft = destinationBounds.x;\n        lastBoundsRight = destinationBounds.right();\n      } else if (this.carriageArrow === CARRIAGE_ARROW_SIDEALONG) {\n        parentViewNode = this.view.getViewNodeFor(this.model.parent);\n        destinationBounds = parentViewNode.bounds[1];\n        this.dropPoint = new this.view.draw.Point(destinationBounds.x, this.bounds[this.lineLength - 1].bottom() + this.view.opts.padding);\n        lastBoundsLeft = destinationBounds.x;\n        lastBoundsRight = this.bounds[this.lineLength - 1].right();\n      } else {\n        this.dropPoint = new this.view.draw.Point(this.bounds[this.lineLength - 1].x, this.bounds[this.lineLength - 1].bottom());\n        lastBoundsLeft = this.bounds[this.lineLength - 1].x;\n        lastBoundsRight = this.bounds[this.lineLength - 1].right();\n      }\n      highlightAreaPoints = [];\n      highlightAreaPoints.push(new this.view.draw.Point(lastBoundsLeft, this.dropPoint.y - this.view.opts.highlightAreaHeight / 2 + this.view.opts.bevelClip));\n      highlightAreaPoints.push(new this.view.draw.Point(lastBoundsLeft + this.view.opts.bevelClip, this.dropPoint.y - this.view.opts.highlightAreaHeight / 2));\n      this.addTabReverse(highlightAreaPoints, new this.view.draw.Point(lastBoundsLeft + this.view.opts.tabOffset, this.dropPoint.y - this.view.opts.highlightAreaHeight / 2));\n      highlightAreaPoints.push(new this.view.draw.Point(lastBoundsRight - this.view.opts.bevelClip, this.dropPoint.y - this.view.opts.highlightAreaHeight / 2));\n      highlightAreaPoints.push(new this.view.draw.Point(lastBoundsRight, this.dropPoint.y - this.view.opts.highlightAreaHeight / 2 + this.view.opts.bevelClip));\n      highlightAreaPoints.push(new this.view.draw.Point(lastBoundsRight, this.dropPoint.y + this.view.opts.highlightAreaHeight / 2 - this.view.opts.bevelClip));\n      highlightAreaPoints.push(new this.view.draw.Point(lastBoundsRight - this.view.opts.bevelClip, this.dropPoint.y + this.view.opts.highlightAreaHeight / 2));\n      this.addTab(highlightAreaPoints, new this.view.draw.Point(lastBoundsLeft + this.view.opts.tabOffset, this.dropPoint.y + this.view.opts.highlightAreaHeight / 2));\n      highlightAreaPoints.push(new this.view.draw.Point(lastBoundsLeft + this.view.opts.bevelClip, this.dropPoint.y + this.view.opts.highlightAreaHeight / 2));\n      highlightAreaPoints.push(new this.view.draw.Point(lastBoundsLeft, this.dropPoint.y + this.view.opts.highlightAreaHeight / 2 - this.view.opts.bevelClip));\n      this.highlightArea.setPoints(highlightAreaPoints);\n      return this.highlightArea.deactivate();\n    };\n\n    return BlockViewNode;\n\n  })(ContainerViewNode);\n\n  SocketViewNode = (function(superClass) {\n    extend(SocketViewNode, superClass);\n\n    function SocketViewNode() {\n      SocketViewNode.__super__.constructor.apply(this, arguments);\n      if (this.view.opts.showDropdowns && (this.model.dropdown != null)) {\n        if (this.dropdownElement == null) {\n          this.dropdownElement = new this.view.draw.Path([], false, {\n            fillColor: DROP_TRIANGLE_COLOR,\n            cssClass: 'droplet-dropdown-arrow'\n          });\n        }\n        this.dropdownElement.deactivate();\n        this.dropdownElement.setParent(this.group);\n        this.elements.push(this.dropdownElement);\n      }\n    }\n\n    SocketViewNode.prototype.shouldAddTab = NO;\n\n    SocketViewNode.prototype.isInvisibleSocket = function() {\n      var ref;\n      return '' === this.model.emptyString && ((ref = this.model.start) != null ? ref.next : void 0) === this.model.end;\n    };\n\n    SocketViewNode.prototype.computeMinDimensions = function() {\n      var dimension, j, len1, ref;\n      if (this.computedVersion === this.model.version) {\n        return null;\n      }\n      SocketViewNode.__super__.computeMinDimensions.apply(this, arguments);\n      this.minDistanceToBase[0].above = Math.max(this.minDistanceToBase[0].above, this.view.opts.textHeight + this.view.opts.textPadding);\n      this.minDistanceToBase[0].below = Math.max(this.minDistanceToBase[0].below, this.view.opts.textPadding);\n      this.minDimensions[0].height = this.minDistanceToBase[0].above + this.minDistanceToBase[0].below;\n      ref = this.minDimensions;\n      for (j = 0, len1 = ref.length; j < len1; j++) {\n        dimension = ref[j];\n        dimension.width = Math.max(dimension.width, this.isInvisibleSocket() ? this.view.opts.invisibleSocketWidth : this.view.opts.minSocketWidth);\n        if (this.model.hasDropdown() && this.view.opts.showDropdowns) {\n          dimension.width += helper.DROPDOWN_ARROW_WIDTH;\n        }\n      }\n      return null;\n    };\n\n    SocketViewNode.prototype.computeBoundingBoxX = function(left, line) {\n      return SocketViewNode.__super__.computeBoundingBoxX.call(this, left, line, (this.model.hasDropdown() && this.view.opts.showDropdowns ? helper.DROPDOWN_ARROW_WIDTH : 0));\n    };\n\n    SocketViewNode.prototype.computeGlue = function() {\n      var view;\n      if (this.computedVersion === this.model.version && !this.changedBoundingBox) {\n        return this.glue;\n      }\n      if (this.model.start.next.type === 'blockStart') {\n        view = this.view.getViewNodeFor(this.model.start.next.container);\n        return this.glue = view.computeGlue();\n      } else {\n        return SocketViewNode.__super__.computeGlue.apply(this, arguments);\n      }\n    };\n\n    SocketViewNode.prototype.computeOwnPath = function() {\n      var ref;\n      if (this.computedVersion === this.model.version && !this.changedBoundingBox) {\n        return this.path;\n      }\n      if (this.model.start.next.type === 'blockStart') {\n        this.path.style.fill = 'none';\n      } else {\n        SocketViewNode.__super__.computeOwnPath.apply(this, arguments);\n      }\n      if ('' === this.model.emptyString && ((ref = this.model.start) != null ? ref.next : void 0) === this.model.end) {\n        this.path.style.cssClass = 'droplet-socket-path droplet-empty-socket-path';\n        this.path.style.fillColor = 'none';\n      } else {\n        this.path.style.cssClass = 'droplet-socket-path';\n        this.path.style.fillColor = '#FFF';\n      }\n      return this.path;\n    };\n\n    SocketViewNode.prototype.drawSelf = function(style) {\n      if (style == null) {\n        style = {};\n      }\n      SocketViewNode.__super__.drawSelf.apply(this, arguments);\n      if (this.model.hasDropdown() && this.view.opts.showDropdowns) {\n        this.dropdownElement.setPoints([new this.view.draw.Point(this.bounds[0].x + helper.DROPDOWN_ARROW_PADDING, this.bounds[0].y + (this.bounds[0].height - DROPDOWN_ARROW_HEIGHT) / 2), new this.view.draw.Point(this.bounds[0].x + helper.DROPDOWN_ARROW_WIDTH - helper.DROPDOWN_ARROW_PADDING, this.bounds[0].y + (this.bounds[0].height - DROPDOWN_ARROW_HEIGHT) / 2), new this.view.draw.Point(this.bounds[0].x + helper.DROPDOWN_ARROW_WIDTH / 2, this.bounds[0].y + (this.bounds[0].height + DROPDOWN_ARROW_HEIGHT) / 2)]);\n        this.dropdownElement.update();\n        return this.activeElements.push(this.dropdownElement);\n      } else if (this.dropdownElement != null) {\n        this.activeElements = this.activeElements.filter(function(x) {\n          return x !== this.dropdownElement;\n        });\n        return this.dropdownElement.deactivate();\n      }\n    };\n\n    SocketViewNode.prototype.computeOwnDropArea = function() {\n      if (this.model.start.next.type === 'blockStart') {\n        this.dropArea = null;\n        return this.highlightArea.deactivate();\n      } else {\n        this.dropPoint = this.bounds[0].upperLeftCorner();\n        this.highlightArea.setPoints(this.path._points);\n        this.highlightArea.style.strokeColor = '#FF0';\n        this.highlightArea.style.fillColor = 'none';\n        this.highlightArea.style.lineWidth = this.view.opts.highlightAreaHeight / 2;\n        this.highlightArea.update();\n        return this.highlightArea.deactivate();\n      }\n    };\n\n    return SocketViewNode;\n\n  })(ContainerViewNode);\n\n  IndentViewNode = (function(superClass) {\n    extend(IndentViewNode, superClass);\n\n    function IndentViewNode() {\n      IndentViewNode.__super__.constructor.apply(this, arguments);\n      this.lastFirstChildren = [];\n      this.lastLastChildren = [];\n    }\n\n    IndentViewNode.prototype.computeOwnPath = function() {};\n\n    IndentViewNode.prototype.computeChildren = function() {\n      var childObj, childRef, childView, j, l, len1, len2, len3, m, ref, ref1, ref2;\n      IndentViewNode.__super__.computeChildren.apply(this, arguments);\n      if (!(arrayEq(this.lineChildren[0], this.lastFirstChildren) && arrayEq(this.lineChildren[this.lineLength - 1], this.lastLastChildren))) {\n        ref = this.children;\n        for (j = 0, len1 = ref.length; j < len1; j++) {\n          childObj = ref[j];\n          childView = this.view.getViewNodeFor(childObj.child);\n          if (childView.topLineSticksToBottom || childView.bottomLineSticksToTop) {\n            childView.invalidate = true;\n          }\n          if (childView.lineLength === 1) {\n            childView.topLineSticksToBottom = childView.bottomLineSticksToTop = false;\n          }\n        }\n      }\n      ref1 = this.lineChildren[0];\n      for (l = 0, len2 = ref1.length; l < len2; l++) {\n        childRef = ref1[l];\n        childView = this.view.getViewNodeFor(childRef.child);\n        if (!childView.topLineSticksToBottom) {\n          childView.invalidate = true;\n        }\n        childView.topLineSticksToBottom = true;\n      }\n      ref2 = this.lineChildren[this.lineChildren.length - 1];\n      for (m = 0, len3 = ref2.length; m < len3; m++) {\n        childRef = ref2[m];\n        childView = this.view.getViewNodeFor(childRef.child);\n        if (!childView.bottomLineSticksToTop) {\n          childView.invalidate = true;\n        }\n        childView.bottomLineSticksToTop = true;\n      }\n      return this.lineLength;\n    };\n\n    IndentViewNode.prototype.computeMinDimensions = function() {\n      var j, len1, line, ref, results, size;\n      IndentViewNode.__super__.computeMinDimensions.apply(this, arguments);\n      ref = this.minDimensions.slice(1);\n      results = [];\n      for (line = j = 0, len1 = ref.length; j < len1; line = ++j) {\n        size = ref[line];\n        if (size.width === 0) {\n          results.push(size.width = this.view.opts.emptyLineWidth);\n        }\n      }\n      return results;\n    };\n\n    IndentViewNode.prototype.drawSelf = function() {};\n\n    IndentViewNode.prototype.computeOwnDropArea = function() {\n      var highlightAreaPoints, lastBounds;\n      lastBounds = new this.view.draw.NoRectangle();\n      if (this.model.start.next.type === 'newline') {\n        this.dropPoint = this.bounds[1].upperLeftCorner();\n        lastBounds.copy(this.bounds[1]);\n      } else {\n        this.dropPoint = this.bounds[0].upperLeftCorner();\n        lastBounds.copy(this.bounds[0]);\n      }\n      lastBounds.width = Math.max(lastBounds.width, this.view.opts.indentDropAreaMinWidth);\n      highlightAreaPoints = [];\n      highlightAreaPoints.push(new this.view.draw.Point(lastBounds.x, lastBounds.y - this.view.opts.highlightAreaHeight / 2 + this.view.opts.bevelClip));\n      highlightAreaPoints.push(new this.view.draw.Point(lastBounds.x + this.view.opts.bevelClip, lastBounds.y - this.view.opts.highlightAreaHeight / 2));\n      this.addTabReverse(highlightAreaPoints, new this.view.draw.Point(lastBounds.x + this.view.opts.tabOffset, lastBounds.y - this.view.opts.highlightAreaHeight / 2));\n      highlightAreaPoints.push(new this.view.draw.Point(lastBounds.right() - this.view.opts.bevelClip, lastBounds.y - this.view.opts.highlightAreaHeight / 2));\n      highlightAreaPoints.push(new this.view.draw.Point(lastBounds.right(), lastBounds.y - this.view.opts.highlightAreaHeight / 2 + this.view.opts.bevelClip));\n      highlightAreaPoints.push(new this.view.draw.Point(lastBounds.right(), lastBounds.y + this.view.opts.highlightAreaHeight / 2 - this.view.opts.bevelClip));\n      highlightAreaPoints.push(new this.view.draw.Point(lastBounds.right() - this.view.opts.bevelClip, lastBounds.y + this.view.opts.highlightAreaHeight / 2));\n      this.addTab(highlightAreaPoints, new this.view.draw.Point(lastBounds.x + this.view.opts.tabOffset, lastBounds.y + this.view.opts.highlightAreaHeight / 2));\n      highlightAreaPoints.push(new this.view.draw.Point(lastBounds.x + this.view.opts.bevelClip, lastBounds.y + this.view.opts.highlightAreaHeight / 2));\n      highlightAreaPoints.push(new this.view.draw.Point(lastBounds.x, lastBounds.y + this.view.opts.highlightAreaHeight / 2 - this.view.opts.bevelClip));\n      this.highlightArea.setPoints(highlightAreaPoints);\n      return this.highlightArea.deactivate();\n    };\n\n    return IndentViewNode;\n\n  })(ContainerViewNode);\n\n  DocumentViewNode = (function(superClass) {\n    extend(DocumentViewNode, superClass);\n\n    function DocumentViewNode() {\n      DocumentViewNode.__super__.constructor.apply(this, arguments);\n    }\n\n    DocumentViewNode.prototype.computeOwnPath = function() {};\n\n    DocumentViewNode.prototype.computeOwnDropArea = function() {\n      var highlightAreaPoints, lastBounds;\n      this.dropPoint = this.bounds[0].upperLeftCorner();\n      highlightAreaPoints = [];\n      lastBounds = new this.view.draw.NoRectangle();\n      lastBounds.copy(this.bounds[0]);\n      lastBounds.width = Math.max(lastBounds.width, this.view.opts.indentDropAreaMinWidth);\n      highlightAreaPoints.push(new this.view.draw.Point(lastBounds.x, lastBounds.y - this.view.opts.highlightAreaHeight / 2 + this.view.opts.bevelClip));\n      highlightAreaPoints.push(new this.view.draw.Point(lastBounds.x + this.view.opts.bevelClip, lastBounds.y - this.view.opts.highlightAreaHeight / 2));\n      this.addTabReverse(highlightAreaPoints, new this.view.draw.Point(lastBounds.x + this.view.opts.tabOffset, lastBounds.y - this.view.opts.highlightAreaHeight / 2));\n      highlightAreaPoints.push(new this.view.draw.Point(lastBounds.right() - this.view.opts.bevelClip, lastBounds.y - this.view.opts.highlightAreaHeight / 2));\n      highlightAreaPoints.push(new this.view.draw.Point(lastBounds.right(), lastBounds.y - this.view.opts.highlightAreaHeight / 2 + this.view.opts.bevelClip));\n      highlightAreaPoints.push(new this.view.draw.Point(lastBounds.right(), lastBounds.y + this.view.opts.highlightAreaHeight / 2 - this.view.opts.bevelClip));\n      highlightAreaPoints.push(new this.view.draw.Point(lastBounds.right() - this.view.opts.bevelClip, lastBounds.y + this.view.opts.highlightAreaHeight / 2));\n      this.addTab(highlightAreaPoints, new this.view.draw.Point(lastBounds.x + this.view.opts.tabOffset, lastBounds.y + this.view.opts.highlightAreaHeight / 2));\n      highlightAreaPoints.push(new this.view.draw.Point(lastBounds.x + this.view.opts.bevelClip, lastBounds.y + this.view.opts.highlightAreaHeight / 2));\n      highlightAreaPoints.push(new this.view.draw.Point(lastBounds.x, lastBounds.y + this.view.opts.highlightAreaHeight / 2 - this.view.opts.bevelClip));\n      this.highlightArea.setPoints(highlightAreaPoints);\n      this.highlightArea.deactivate();\n      return null;\n    };\n\n    return DocumentViewNode;\n\n  })(ContainerViewNode);\n\n  TextViewNode = (function(superClass) {\n    extend(TextViewNode, superClass);\n\n    function TextViewNode(model1, view1) {\n      this.model = model1;\n      this.view = view1;\n      TextViewNode.__super__.constructor.apply(this, arguments);\n      this.textElement = new this.view.draw.Text(new this.view.draw.Point(0, 0), this.model.value);\n      this.textElement.destroy();\n      this.elements.push(this.textElement);\n    }\n\n    TextViewNode.prototype.computeChildren = function() {\n      this.multilineChildrenData = [NO_MULTILINE];\n      return this.lineLength = 1;\n    };\n\n    TextViewNode.prototype.computeMinDimensions = function() {\n      var height;\n      if (this.computedVersion === this.model.version) {\n        return null;\n      }\n      this.textElement.point = new this.view.draw.Point(0, 0);\n      this.textElement.value = this.model.value;\n      height = this.view.opts.textHeight;\n      this.minDimensions[0] = new this.view.draw.Size(this.textElement.bounds().width, height);\n      this.minDistanceToBase[0] = {\n        above: height,\n        below: 0\n      };\n      return null;\n    };\n\n    TextViewNode.prototype.computeBoundingBoxX = function(left, line) {\n      this.textElement.point.x = left;\n      return TextViewNode.__super__.computeBoundingBoxX.apply(this, arguments);\n    };\n\n    TextViewNode.prototype.computeBoundingBoxY = function(top, line) {\n      this.textElement.point.y = top;\n      return TextViewNode.__super__.computeBoundingBoxY.apply(this, arguments);\n    };\n\n    TextViewNode.prototype.drawSelf = function(style, parent) {\n      if (style == null) {\n        style = {};\n      }\n      if (parent == null) {\n        parent = null;\n      }\n      this.textElement.update();\n      if (style.noText) {\n        this.textElement.deactivate();\n      } else {\n        this.textElement.activate();\n      }\n      if (parent != null) {\n        return this.textElement.setParent(parent);\n      }\n    };\n\n    return TextViewNode;\n\n  })(GenericViewNode);\n\n  return View;\n\n})();\n\ntoRGB = function(hex) {\n  var b, c, g, r;\n  if (hex.length === 4) {\n    hex = ((function() {\n      var j, len1, results;\n      results = [];\n      for (j = 0, len1 = hex.length; j < len1; j++) {\n        c = hex[j];\n        results.push(c + c);\n      }\n      return results;\n    })()).join('').slice(1);\n  }\n  r = parseInt(hex.slice(1, 3), 16);\n  g = parseInt(hex.slice(3, 5), 16);\n  b = parseInt(hex.slice(5, 7), 16);\n  return [r, g, b];\n};\n\nzeroPad = function(str, len) {\n  if (str.length < len) {\n    return ((function() {\n      var j, ref, ref1, results;\n      results = [];\n      for (j = ref = str.length, ref1 = len; ref <= ref1 ? j < ref1 : j > ref1; ref <= ref1 ? j++ : j--) {\n        results.push('0');\n      }\n      return results;\n    })()).join('') + str;\n  } else {\n    return str;\n  }\n};\n\ntwoDigitHex = function(n) {\n  return zeroPad(Math.round(n).toString(16), 2);\n};\n\ntoHex = function(rgb) {\n  var k;\n  return '#' + ((function() {\n    var j, len1, results;\n    results = [];\n    for (j = 0, len1 = rgb.length; j < len1; j++) {\n      k = rgb[j];\n      results.push(twoDigitHex(k));\n    }\n    return results;\n  })()).join('');\n};\n\navgColor = function(a, factor, b) {\n  var i, k, newRGB;\n  a = toRGB(a);\n  b = toRGB(b);\n  newRGB = (function() {\n    var j, len1, results;\n    results = [];\n    for (i = j = 0, len1 = a.length; j < len1; i = ++j) {\n      k = a[i];\n      results.push(a[i] * factor + b[i] * (1 - factor));\n    }\n    return results;\n  })();\n  return toHex(newRGB);\n};\n\ndedupe = function(path) {\n  path = path.filter(function(x, i) {\n    return !x.equals(path[modulo(i - 1, path.length)]);\n  });\n  path = path.filter(function(x, i) {\n    return !draw._collinear(path[modulo(i - 1, path.length)], x, path[modulo(i + 1, path.length)]);\n  });\n  return path;\n};\n\n\n},{\"./draw.coffee\":27,\"./helper.coffee\":28,\"./model.coffee\":31}],35:[function(require,module,exports){\n// Acorn is a tiny, fast JavaScript parser written in JavaScript.\n//\n// Acorn was written by Marijn Haverbeke and various contributors and\n// released under an MIT license. The Unicode regexps (for identifiers\n// and whitespace) were taken from [Esprima](http://esprima.org) by\n// Ariya Hidayat.\n//\n// Git repositories for Acorn are available at\n//\n//     http://marijnhaverbeke.nl/git/acorn\n//     https://github.com/marijnh/acorn.git\n//\n// Please use the [github bug tracker][ghbt] to report issues.\n//\n// [ghbt]: https://github.com/marijnh/acorn/issues\n//\n// This file defines the main parser interface. The library also comes\n// with a [error-tolerant parser][dammit] and an\n// [abstract syntax tree walker][walk], defined in other files.\n//\n// [dammit]: acorn_loose.js\n// [walk]: util/walk.js\n\n(function(root, mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") return mod(exports); // CommonJS\n  if (typeof define == \"function\" && define.amd) return define([\"exports\"], mod); // AMD\n  mod(root.acorn || (root.acorn = {})); // Plain browser env\n})(this, function(exports) {\n  \"use strict\";\n\n  exports.version = \"0.7.1\";\n\n  // The main exported interface (under `self.acorn` when in the\n  // browser) is a `parse` function that takes a code string and\n  // returns an abstract syntax tree as specified by [Mozilla parser\n  // API][api], with the caveat that inline XML is not recognized.\n  //\n  // [api]: https://developer.mozilla.org/en-US/docs/SpiderMonkey/Parser_API\n\n  var options, input, inputLen, sourceFile;\n\n  exports.parse = function(inpt, opts) {\n    input = String(inpt); inputLen = input.length;\n    setOptions(opts);\n    initTokenState();\n    return parseTopLevel(options.program);\n  };\n\n  // A second optional argument can be given to further configure\n  // the parser process. These options are recognized:\n\n  var defaultOptions = exports.defaultOptions = {\n    // `ecmaVersion` indicates the ECMAScript version to parse. Must\n    // be either 3, or 5, or 6. This influences support for strict\n    // mode, the set of reserved words, support for getters and\n    // setters and other features.\n    ecmaVersion: 5,\n    // Turn on `strictSemicolons` to prevent the parser from doing\n    // automatic semicolon insertion.\n    strictSemicolons: false,\n    // When `allowTrailingCommas` is false, the parser will not allow\n    // trailing commas in array and object literals.\n    allowTrailingCommas: true,\n    // By default, reserved words are not enforced. Enable\n    // `forbidReserved` to enforce them. When this option has the\n    // value \"everywhere\", reserved words and keywords can also not be\n    // used as property names.\n    forbidReserved: false,\n    // When enabled, a return at the top level is not considered an\n    // error.\n    allowReturnOutsideFunction: false,\n    // When `locations` is on, `loc` properties holding objects with\n    // `start` and `end` properties in `{line, column}` form (with\n    // line being 1-based and column 0-based) will be attached to the\n    // nodes.\n    locations: false,\n    // A function can be passed as `onToken` option, which will\n    // cause Acorn to call that function with object in the same\n    // format as tokenize() returns. Note that you are not\n    // allowed to call the parser from the callback—that will\n    // corrupt its internal state.\n    onToken: null,\n    // A function can be passed as `onComment` option, which will\n    // cause Acorn to call that function with `(block, text, start,\n    // end)` parameters whenever a comment is skipped. `block` is a\n    // boolean indicating whether this is a block (`/* */`) comment,\n    // `text` is the content of the comment, and `start` and `end` are\n    // character offsets that denote the start and end of the comment.\n    // When the `locations` option is on, two more parameters are\n    // passed, the full `{line, column}` locations of the start and\n    // end of the comments. Note that you are not allowed to call the\n    // parser from the callback—that will corrupt its internal state.\n    onComment: null,\n    // Nodes have their start and end characters offsets recorded in\n    // `start` and `end` properties (directly on the node, rather than\n    // the `loc` object, which holds line/column data. To also add a\n    // [semi-standardized][range] `range` property holding a `[start,\n    // end]` array with the same numbers, set the `ranges` option to\n    // `true`.\n    //\n    // [range]: https://bugzilla.mozilla.org/show_bug.cgi?id=745678\n    ranges: false,\n    // It is possible to parse multiple files into a single AST by\n    // passing the tree produced by parsing the first file as\n    // `program` option in subsequent parses. This will add the\n    // toplevel forms of the parsed file to the `Program` (top) node\n    // of an existing parse tree.\n    program: null,\n    // When `locations` is on, you can pass this to record the source\n    // file in every node's `loc` object.\n    sourceFile: null,\n    // This value, if given, is stored in every node, whether\n    // `locations` is on or off.\n    directSourceFile: null,\n    // By default, source location line numbers are one-based.\n    // This can be configured with this option.\n    line: 1\n  };\n\n  function setOptions(opts) {\n    options = opts || {};\n    for (var opt in defaultOptions) if (!has(options, opt))\n      options[opt] = defaultOptions[opt];\n    sourceFile = options.sourceFile || null;\n\n    isKeyword = options.ecmaVersion >= 6 ? isEcma6Keyword : isEcma5AndLessKeyword;\n  }\n\n  // The `getLineInfo` function is mostly useful when the\n  // `locations` option is off (for performance reasons) and you\n  // want to find the line/column position for a given character\n  // offset. `input` should be the code string that the offset refers\n  // into.\n\n  var getLineInfo = exports.getLineInfo = function(input, offset) {\n    for (var line = options.line, cur = 0;;) {\n      lineBreak.lastIndex = cur;\n      var match = lineBreak.exec(input);\n      if (match && match.index < offset) {\n        ++line;\n        cur = match.index + match[0].length;\n      } else break;\n    }\n    return {line: line, column: offset - cur};\n  };\n\n  var getCurrentToken = function () {\n    var token = {\n      type: tokType,\n      value: tokVal,\n      start: tokStart,\n      end: tokEnd\n    };\n    if (options.locations) {\n      token.startLoc = tokStartLoc;\n      token.endLoc = tokEndLoc;\n    }\n    return token;\n  };\n\n  // Acorn is organized as a tokenizer and a recursive-descent parser.\n  // The `tokenize` export provides an interface to the tokenizer.\n  // Because the tokenizer is optimized for being efficiently used by\n  // the Acorn parser itself, this interface is somewhat crude and not\n  // very modular. Performing another parse or call to `tokenize` will\n  // reset the internal state, and invalidate existing tokenizers.\n\n  exports.tokenize = function(inpt, opts) {\n    input = String(inpt); inputLen = input.length;\n    setOptions(opts);\n    initTokenState();\n\n    function getToken(forceRegexp) {\n      lastEnd = tokEnd;\n      readToken(forceRegexp);\n      return getCurrentToken();\n    }\n    getToken.jumpTo = function(pos, reAllowed) {\n      tokPos = pos;\n      if (options.locations) {\n        tokCurLine = options.line;\n        tokLineStart = lineBreak.lastIndex = 0;\n        var match;\n        while ((match = lineBreak.exec(input)) && match.index < pos) {\n          ++tokCurLine;\n          tokLineStart = match.index + match[0].length;\n        }\n      }\n      tokRegexpAllowed = reAllowed;\n      skipSpace();\n    };\n    return getToken;\n  };\n\n  // State is kept in (closure-)global variables. We already saw the\n  // `options`, `input`, and `inputLen` variables above.\n\n  // The current position of the tokenizer in the input.\n\n  var tokPos;\n\n  // The start and end offsets of the current token.\n\n  var tokStart, tokEnd;\n\n  // When `options.locations` is true, these hold objects\n  // containing the tokens start and end line/column pairs.\n\n  var tokStartLoc, tokEndLoc;\n\n  // The type and value of the current token. Token types are objects,\n  // named by variables against which they can be compared, and\n  // holding properties that describe them (indicating, for example,\n  // the precedence of an infix operator, and the original name of a\n  // keyword token). The kind of value that's held in `tokVal` depends\n  // on the type of the token. For literals, it is the literal value,\n  // for operators, the operator name, and so on.\n\n  var tokType, tokVal;\n\n  // Internal state for the tokenizer. To distinguish between division\n  // operators and regular expressions, it remembers whether the last\n  // token was one that is allowed to be followed by an expression.\n  // (If it is, a slash is probably a regexp, if it isn't it's a\n  // division operator. See the `parseStatement` function for a\n  // caveat.)\n\n  var tokRegexpAllowed;\n\n  // When `options.locations` is true, these are used to keep\n  // track of the current line, and know when a new line has been\n  // entered.\n\n  var tokCurLine, tokLineStart;\n\n  // These store the position of the previous token, which is useful\n  // when finishing a node and assigning its `end` position.\n\n  var lastStart, lastEnd, lastEndLoc;\n\n  // This is the parser's state. `inFunction` is used to reject\n  // `return` statements outside of functions, `inGenerator` to\n  // reject `yield`s outside of generators, `labels` to verify\n  // that `break` and `continue` have somewhere to jump to, and\n  // `strict` indicates whether strict mode is on.\n\n  var inFunction, inGenerator, labels, strict;\n\n  // This counter is used for checking that arrow expressions did\n  // not contain nested parentheses in argument list.\n\n  var metParenL;\n\n  // This is used by parser for detecting if it's inside ES6\n  // Template String. If it is, it should treat '$' as prefix before\n  // '{expression}' and everything else as string literals.\n\n  var inTemplate;\n\n  // This function is used to raise exceptions on parse errors. It\n  // takes an offset integer (into the current `input`) to indicate\n  // the location of the error, attaches the position to the end\n  // of the error message, and then raises a `SyntaxError` with that\n  // message.\n\n  function raise(pos, message) {\n    var loc = getLineInfo(input, pos);\n    message += \" (\" + loc.line + \":\" + loc.column + \")\";\n    var err = new SyntaxError(message);\n    err.pos = pos; err.loc = loc; err.raisedAt = tokPos;\n    throw err;\n  }\n\n  // Reused empty array added for node fields that are always empty.\n\n  var empty = [];\n\n  // ## Token types\n\n  // The assignment of fine-grained, information-carrying type objects\n  // allows the tokenizer to store the information it has about a\n  // token in a way that is very cheap for the parser to look up.\n\n  // All token type variables start with an underscore, to make them\n  // easy to recognize.\n\n  // These are the general types. The `type` property is only used to\n  // make them recognizeable when debugging.\n\n  var _num = {type: \"num\"}, _regexp = {type: \"regexp\"}, _string = {type: \"string\"};\n  var _name = {type: \"name\"}, _eof = {type: \"eof\"};\n\n  // Keyword tokens. The `keyword` property (also used in keyword-like\n  // operators) indicates that the token originated from an\n  // identifier-like word, which is used when parsing property names.\n  //\n  // The `beforeExpr` property is used to disambiguate between regular\n  // expressions and divisions. It is set on all token types that can\n  // be followed by an expression (thus, a slash after them would be a\n  // regular expression).\n  //\n  // `isLoop` marks a keyword as starting a loop, which is important\n  // to know when parsing a label, in order to allow or disallow\n  // continue jumps to that label.\n\n  var _break = {keyword: \"break\"}, _case = {keyword: \"case\", beforeExpr: true}, _catch = {keyword: \"catch\"};\n  var _continue = {keyword: \"continue\"}, _debugger = {keyword: \"debugger\"}, _default = {keyword: \"default\"};\n  var _do = {keyword: \"do\", isLoop: true}, _else = {keyword: \"else\", beforeExpr: true};\n  var _finally = {keyword: \"finally\"}, _for = {keyword: \"for\", isLoop: true}, _function = {keyword: \"function\"};\n  var _if = {keyword: \"if\"}, _return = {keyword: \"return\", beforeExpr: true}, _switch = {keyword: \"switch\"};\n  var _throw = {keyword: \"throw\", beforeExpr: true}, _try = {keyword: \"try\"}, _var = {keyword: \"var\"};\n  var _let = {keyword: \"let\"}, _const = {keyword: \"const\"};\n  var _while = {keyword: \"while\", isLoop: true}, _with = {keyword: \"with\"}, _new = {keyword: \"new\", beforeExpr: true};\n  var _this = {keyword: \"this\"};\n  var _class = {keyword: \"class\"}, _extends = {keyword: \"extends\", beforeExpr: true};\n  var _export = {keyword: \"export\"}, _import = {keyword: \"import\"};\n  var _yield = {keyword: \"yield\", beforeExpr: true};\n\n  // The keywords that denote values.\n\n  var _null = {keyword: \"null\", atomValue: null}, _true = {keyword: \"true\", atomValue: true};\n  var _false = {keyword: \"false\", atomValue: false};\n\n  // Some keywords are treated as regular operators. `in` sometimes\n  // (when parsing `for`) needs to be tested against specifically, so\n  // we assign a variable name to it for quick comparing.\n\n  var _in = {keyword: \"in\", binop: 7, beforeExpr: true};\n\n  // Map keyword names to token types.\n\n  var keywordTypes = {\"break\": _break, \"case\": _case, \"catch\": _catch,\n                      \"continue\": _continue, \"debugger\": _debugger, \"default\": _default,\n                      \"do\": _do, \"else\": _else, \"finally\": _finally, \"for\": _for,\n                      \"function\": _function, \"if\": _if, \"return\": _return, \"switch\": _switch,\n                      \"throw\": _throw, \"try\": _try, \"var\": _var, \"let\": _let, \"const\": _const,\n                      \"while\": _while, \"with\": _with,\n                      \"null\": _null, \"true\": _true, \"false\": _false, \"new\": _new, \"in\": _in,\n                      \"instanceof\": {keyword: \"instanceof\", binop: 7, beforeExpr: true}, \"this\": _this,\n                      \"typeof\": {keyword: \"typeof\", prefix: true, beforeExpr: true},\n                      \"void\": {keyword: \"void\", prefix: true, beforeExpr: true},\n                      \"delete\": {keyword: \"delete\", prefix: true, beforeExpr: true},\n                      \"class\": _class, \"extends\": _extends,\n                      \"export\": _export, \"import\": _import, \"yield\": _yield};\n\n  // Punctuation token types. Again, the `type` property is purely for debugging.\n\n  var _bracketL = {type: \"[\", beforeExpr: true}, _bracketR = {type: \"]\"}, _braceL = {type: \"{\", beforeExpr: true};\n  var _braceR = {type: \"}\"}, _parenL = {type: \"(\", beforeExpr: true}, _parenR = {type: \")\"};\n  var _comma = {type: \",\", beforeExpr: true}, _semi = {type: \";\", beforeExpr: true};\n  var _colon = {type: \":\", beforeExpr: true}, _dot = {type: \".\"}, _ellipsis = {type: \"...\"}, _question = {type: \"?\", beforeExpr: true};\n  var _arrow = {type: \"=>\", beforeExpr: true}, _bquote = {type: \"`\"}, _dollarBraceL = {type: \"${\", beforeExpr: true};\n\n  // Operators. These carry several kinds of properties to help the\n  // parser use them properly (the presence of these properties is\n  // what categorizes them as operators).\n  //\n  // `binop`, when present, specifies that this operator is a binary\n  // operator, and will refer to its precedence.\n  //\n  // `prefix` and `postfix` mark the operator as a prefix or postfix\n  // unary operator. `isUpdate` specifies that the node produced by\n  // the operator should be of type UpdateExpression rather than\n  // simply UnaryExpression (`++` and `--`).\n  //\n  // `isAssign` marks all of `=`, `+=`, `-=` etcetera, which act as\n  // binary operators with a very low precedence, that should result\n  // in AssignmentExpression nodes.\n\n  var _slash = {binop: 10, beforeExpr: true}, _eq = {isAssign: true, beforeExpr: true};\n  var _assign = {isAssign: true, beforeExpr: true};\n  var _incDec = {postfix: true, prefix: true, isUpdate: true}, _prefix = {prefix: true, beforeExpr: true};\n  var _logicalOR = {binop: 1, beforeExpr: true};\n  var _logicalAND = {binop: 2, beforeExpr: true};\n  var _bitwiseOR = {binop: 3, beforeExpr: true};\n  var _bitwiseXOR = {binop: 4, beforeExpr: true};\n  var _bitwiseAND = {binop: 5, beforeExpr: true};\n  var _equality = {binop: 6, beforeExpr: true};\n  var _relational = {binop: 7, beforeExpr: true};\n  var _bitShift = {binop: 8, beforeExpr: true};\n  var _plusMin = {binop: 9, prefix: true, beforeExpr: true};\n  var _modulo = {binop: 10, beforeExpr: true};\n\n  // '*' may be multiply or have special meaning in ES6\n  var _star = {binop: 10, beforeExpr: true};\n\n  // Provide access to the token types for external users of the\n  // tokenizer.\n\n  exports.tokTypes = {bracketL: _bracketL, bracketR: _bracketR, braceL: _braceL, braceR: _braceR,\n                      parenL: _parenL, parenR: _parenR, comma: _comma, semi: _semi, colon: _colon,\n                      dot: _dot, ellipsis: _ellipsis, question: _question, slash: _slash, eq: _eq,\n                      name: _name, eof: _eof, num: _num, regexp: _regexp, string: _string,\n                      arrow: _arrow, bquote: _bquote, dollarBraceL: _dollarBraceL};\n  for (var kw in keywordTypes) exports.tokTypes[\"_\" + kw] = keywordTypes[kw];\n\n  // This is a trick taken from Esprima. It turns out that, on\n  // non-Chrome browsers, to check whether a string is in a set, a\n  // predicate containing a big ugly `switch` statement is faster than\n  // a regular expression, and on Chrome the two are about on par.\n  // This function uses `eval` (non-lexical) to produce such a\n  // predicate from a space-separated string of words.\n  //\n  // It starts by sorting the words by length.\n\n  function makePredicate(words) {\n    words = words.split(\" \");\n    var f = \"\", cats = [];\n    out: for (var i = 0; i < words.length; ++i) {\n      for (var j = 0; j < cats.length; ++j)\n        if (cats[j][0].length == words[i].length) {\n          cats[j].push(words[i]);\n          continue out;\n        }\n      cats.push([words[i]]);\n    }\n    function compareTo(arr) {\n      if (arr.length == 1) return f += \"return str === \" + JSON.stringify(arr[0]) + \";\";\n      f += \"switch(str){\";\n      for (var i = 0; i < arr.length; ++i) f += \"case \" + JSON.stringify(arr[i]) + \":\";\n      f += \"return true}return false;\";\n    }\n\n    // When there are more than three length categories, an outer\n    // switch first dispatches on the lengths, to save on comparisons.\n\n    if (cats.length > 3) {\n      cats.sort(function(a, b) {return b.length - a.length;});\n      f += \"switch(str.length){\";\n      for (var i = 0; i < cats.length; ++i) {\n        var cat = cats[i];\n        f += \"case \" + cat[0].length + \":\";\n        compareTo(cat);\n      }\n      f += \"}\";\n\n    // Otherwise, simply generate a flat `switch` statement.\n\n    } else {\n      compareTo(words);\n    }\n    return new Function(\"str\", f);\n  }\n\n  // The ECMAScript 3 reserved word list.\n\n  var isReservedWord3 = makePredicate(\"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile\");\n\n  // ECMAScript 5 reserved words.\n\n  var isReservedWord5 = makePredicate(\"class enum extends super const export import\");\n\n  // The additional reserved words in strict mode.\n\n  var isStrictReservedWord = makePredicate(\"implements interface let package private protected public static yield\");\n\n  // The forbidden variable names in strict mode.\n\n  var isStrictBadIdWord = makePredicate(\"eval arguments\");\n\n  // And the keywords.\n\n  var ecma5AndLessKeywords = \"break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this\";\n\n  var isEcma5AndLessKeyword = makePredicate(ecma5AndLessKeywords);\n\n  var isEcma6Keyword = makePredicate(ecma5AndLessKeywords + \" let const class extends export import yield\");\n\n  var isKeyword = isEcma5AndLessKeyword;\n\n  // ## Character categories\n\n  // Big ugly regular expressions that match characters in the\n  // whitespace, identifier, and identifier-start categories. These\n  // are only applied when a character is found to actually have a\n  // code point above 128.\n  // Generated by `tools/generate-identifier-regex.js`.\n\n  var nonASCIIwhitespace = /[\\u1680\\u180e\\u2000-\\u200a\\u202f\\u205f\\u3000\\ufeff]/;\n  var nonASCIIidentifierStartChars = \"\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC\";\n  var nonASCIIidentifierChars = \"\\u0300-\\u036F\\u0483-\\u0487\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u0610-\\u061A\\u064B-\\u0669\\u0670\\u06D6-\\u06DC\\u06DF-\\u06E4\\u06E7\\u06E8\\u06EA-\\u06ED\\u06F0-\\u06F9\\u0711\\u0730-\\u074A\\u07A6-\\u07B0\\u07C0-\\u07C9\\u07EB-\\u07F3\\u0816-\\u0819\\u081B-\\u0823\\u0825-\\u0827\\u0829-\\u082D\\u0859-\\u085B\\u08E4-\\u0903\\u093A-\\u093C\\u093E-\\u094F\\u0951-\\u0957\\u0962\\u0963\\u0966-\\u096F\\u0981-\\u0983\\u09BC\\u09BE-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CD\\u09D7\\u09E2\\u09E3\\u09E6-\\u09EF\\u0A01-\\u0A03\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A66-\\u0A71\\u0A75\\u0A81-\\u0A83\\u0ABC\\u0ABE-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AE2\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B3C\\u0B3E-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B62\\u0B63\\u0B66-\\u0B6F\\u0B82\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C3E-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C62\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0CBC\\u0CBE-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CE2\\u0CE3\\u0CE6-\\u0CEF\\u0D01-\\u0D03\\u0D3E-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4D\\u0D57\\u0D62\\u0D63\\u0D66-\\u0D6F\\u0D82\\u0D83\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E31\\u0E34-\\u0E3A\\u0E47-\\u0E4E\\u0E50-\\u0E59\\u0EB1\\u0EB4-\\u0EB9\\u0EBB\\u0EBC\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E\\u0F3F\\u0F71-\\u0F84\\u0F86\\u0F87\\u0F8D-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u102B-\\u103E\\u1040-\\u1049\\u1056-\\u1059\\u105E-\\u1060\\u1062-\\u1064\\u1067-\\u106D\\u1071-\\u1074\\u1082-\\u108D\\u108F-\\u109D\\u135D-\\u135F\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17B4-\\u17D3\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u18A9\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u194F\\u19B0-\\u19C0\\u19C8\\u19C9\\u19D0-\\u19D9\\u1A17-\\u1A1B\\u1A55-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AB0-\\u1ABD\\u1B00-\\u1B04\\u1B34-\\u1B44\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1B82\\u1BA1-\\u1BAD\\u1BB0-\\u1BB9\\u1BE6-\\u1BF3\\u1C24-\\u1C37\\u1C40-\\u1C49\\u1C50-\\u1C59\\u1CD0-\\u1CD2\\u1CD4-\\u1CE8\\u1CED\\u1CF2-\\u1CF4\\u1CF8\\u1CF9\\u1DC0-\\u1DF5\\u1DFC-\\u1DFF\\u200C\\u200D\\u203F\\u2040\\u2054\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2CEF-\\u2CF1\\u2D7F\\u2DE0-\\u2DFF\\u302A-\\u302F\\u3099\\u309A\\uA620-\\uA629\\uA66F\\uA674-\\uA67D\\uA69F\\uA6F0\\uA6F1\\uA802\\uA806\\uA80B\\uA823-\\uA827\\uA880\\uA881\\uA8B4-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F1\\uA900-\\uA909\\uA926-\\uA92D\\uA947-\\uA953\\uA980-\\uA983\\uA9B3-\\uA9C0\\uA9D0-\\uA9D9\\uA9E5\\uA9F0-\\uA9F9\\uAA29-\\uAA36\\uAA43\\uAA4C\\uAA4D\\uAA50-\\uAA59\\uAA7B-\\uAA7D\\uAAB0\\uAAB2-\\uAAB4\\uAAB7\\uAAB8\\uAABE\\uAABF\\uAAC1\\uAAEB-\\uAAEF\\uAAF5\\uAAF6\\uABE3-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uFB1E\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFF10-\\uFF19\\uFF3F\";\n  var nonASCIIidentifierStart = new RegExp(\"[\" + nonASCIIidentifierStartChars + \"]\");\n  var nonASCIIidentifier = new RegExp(\"[\" + nonASCIIidentifierStartChars + nonASCIIidentifierChars + \"]\");\n\n  // Whether a single character denotes a newline.\n\n  var newline = /[\\n\\r\\u2028\\u2029]/;\n\n  // Matches a whole line break (where CRLF is considered a single\n  // line break). Used to count lines.\n\n  var lineBreak = /\\r\\n|[\\n\\r\\u2028\\u2029]/g;\n\n  // Test whether a given character code starts an identifier.\n\n  var isIdentifierStart = exports.isIdentifierStart = function(code) {\n    if (code < 65) return code === 36;\n    if (code < 91) return true;\n    if (code < 97) return code === 95;\n    if (code < 123)return true;\n    return code >= 0xaa && nonASCIIidentifierStart.test(String.fromCharCode(code));\n  };\n\n  // Test whether a given character is part of an identifier.\n\n  var isIdentifierChar = exports.isIdentifierChar = function(code) {\n    if (code < 48) return code === 36;\n    if (code < 58) return true;\n    if (code < 65) return false;\n    if (code < 91) return true;\n    if (code < 97) return code === 95;\n    if (code < 123)return true;\n    return code >= 0xaa && nonASCIIidentifier.test(String.fromCharCode(code));\n  };\n\n  // ## Tokenizer\n\n  // These are used when `options.locations` is on, for the\n  // `tokStartLoc` and `tokEndLoc` properties.\n\n  function Position() {\n    this.line = tokCurLine;\n    this.column = tokPos - tokLineStart;\n  }\n\n  // Reset the token state. Used at the start of a parse.\n\n  function initTokenState() {\n    tokCurLine = options.line;\n    tokPos = tokLineStart = 0;\n    tokRegexpAllowed = true;\n    metParenL = 0;\n    inTemplate = false;\n    skipSpace();\n  }\n\n  // Called at the end of every token. Sets `tokEnd`, `tokVal`, and\n  // `tokRegexpAllowed`, and skips the space after the token, so that\n  // the next one's `tokStart` will point at the right position.\n\n  function finishToken(type, val, shouldSkipSpace) {\n    tokEnd = tokPos;\n    if (options.locations) tokEndLoc = new Position;\n    tokType = type;\n    if (shouldSkipSpace !== false) skipSpace();\n    tokVal = val;\n    tokRegexpAllowed = type.beforeExpr;\n    if (options.onToken) {\n      options.onToken(getCurrentToken());\n    }\n  }\n\n  function skipBlockComment() {\n    var startLoc = options.onComment && options.locations && new Position;\n    var start = tokPos, end = input.indexOf(\"*/\", tokPos += 2);\n    if (end === -1) raise(tokPos - 2, \"Unterminated comment\");\n    tokPos = end + 2;\n    if (options.locations) {\n      lineBreak.lastIndex = start;\n      var match;\n      while ((match = lineBreak.exec(input)) && match.index < tokPos) {\n        ++tokCurLine;\n        tokLineStart = match.index + match[0].length;\n      }\n    }\n    if (options.onComment)\n      options.onComment(true, input.slice(start + 2, end), start, tokPos,\n                        startLoc, options.locations && new Position);\n  }\n\n  function skipLineComment() {\n    var start = tokPos;\n    var startLoc = options.onComment && options.locations && new Position;\n    var ch = input.charCodeAt(tokPos+=2);\n    while (tokPos < inputLen && ch !== 10 && ch !== 13 && ch !== 8232 && ch !== 8233) {\n      ++tokPos;\n      ch = input.charCodeAt(tokPos);\n    }\n    if (options.onComment)\n      options.onComment(false, input.slice(start + 2, tokPos), start, tokPos,\n                        startLoc, options.locations && new Position);\n  }\n\n  // Called at the start of the parse and after every token. Skips\n  // whitespace and comments, and.\n\n  function skipSpace() {\n    while (tokPos < inputLen) {\n      var ch = input.charCodeAt(tokPos);\n      if (ch === 32) { // ' '\n        ++tokPos;\n      } else if (ch === 13) {\n        ++tokPos;\n        var next = input.charCodeAt(tokPos);\n        if (next === 10) {\n          ++tokPos;\n        }\n        if (options.locations) {\n          ++tokCurLine;\n          tokLineStart = tokPos;\n        }\n      } else if (ch === 10 || ch === 8232 || ch === 8233) {\n        ++tokPos;\n        if (options.locations) {\n          ++tokCurLine;\n          tokLineStart = tokPos;\n        }\n      } else if (ch > 8 && ch < 14) {\n        ++tokPos;\n      } else if (ch === 47) { // '/'\n        var next = input.charCodeAt(tokPos + 1);\n        if (next === 42) { // '*'\n          skipBlockComment();\n        } else if (next === 47) { // '/'\n          skipLineComment();\n        } else break;\n      } else if (ch === 160) { // '\\xa0'\n        ++tokPos;\n      } else if (ch >= 5760 && nonASCIIwhitespace.test(String.fromCharCode(ch))) {\n        ++tokPos;\n      } else {\n        break;\n      }\n    }\n  }\n\n  // ### Token reading\n\n  // This is the function that is called to fetch the next token. It\n  // is somewhat obscure, because it works in character codes rather\n  // than characters, and because operator parsing has been inlined\n  // into it.\n  //\n  // All in the name of speed.\n  //\n  // The `forceRegexp` parameter is used in the one case where the\n  // `tokRegexpAllowed` trick does not work. See `parseStatement`.\n\n  function readToken_dot() {\n    var next = input.charCodeAt(tokPos + 1);\n    if (next >= 48 && next <= 57) return readNumber(true);\n    var next2 = input.charCodeAt(tokPos + 2);\n    if (options.ecmaVersion >= 6 && next === 46 && next2 === 46) { // 46 = dot '.'\n      tokPos += 3;\n      return finishToken(_ellipsis);\n    } else {\n      ++tokPos;\n      return finishToken(_dot);\n    }\n  }\n\n  function readToken_slash() { // '/'\n    var next = input.charCodeAt(tokPos + 1);\n    if (tokRegexpAllowed) {++tokPos; return readRegexp();}\n    if (next === 61) return finishOp(_assign, 2);\n    return finishOp(_slash, 1);\n  }\n\n  function readToken_mult_modulo(code) { // '%*'\n    var next = input.charCodeAt(tokPos + 1);\n    if (next === 61) return finishOp(_assign, 2);\n    return finishOp(code === 42 ? _star : _modulo, 1);\n  }\n\n  function readToken_pipe_amp(code) { // '|&'\n    var next = input.charCodeAt(tokPos + 1);\n    if (next === code) return finishOp(code === 124 ? _logicalOR : _logicalAND, 2);\n    if (next === 61) return finishOp(_assign, 2);\n    return finishOp(code === 124 ? _bitwiseOR : _bitwiseAND, 1);\n  }\n\n  function readToken_caret() { // '^'\n    var next = input.charCodeAt(tokPos + 1);\n    if (next === 61) return finishOp(_assign, 2);\n    return finishOp(_bitwiseXOR, 1);\n  }\n\n  function readToken_plus_min(code) { // '+-'\n    var next = input.charCodeAt(tokPos + 1);\n    if (next === code) {\n      if (next == 45 && input.charCodeAt(tokPos + 2) == 62 &&\n          newline.test(input.slice(lastEnd, tokPos))) {\n        // A `-->` line comment\n        tokPos += 3;\n        skipLineComment();\n        skipSpace();\n        return readToken();\n      }\n      return finishOp(_incDec, 2);\n    }\n    if (next === 61) return finishOp(_assign, 2);\n    return finishOp(_plusMin, 1);\n  }\n\n  function readToken_lt_gt(code) { // '<>'\n    var next = input.charCodeAt(tokPos + 1);\n    var size = 1;\n    if (next === code) {\n      size = code === 62 && input.charCodeAt(tokPos + 2) === 62 ? 3 : 2;\n      if (input.charCodeAt(tokPos + size) === 61) return finishOp(_assign, size + 1);\n      return finishOp(_bitShift, size);\n    }\n    if (next == 33 && code == 60 && input.charCodeAt(tokPos + 2) == 45 &&\n        input.charCodeAt(tokPos + 3) == 45) {\n      // `<!--`, an XML-style comment that should be interpreted as a line comment\n      tokPos += 4;\n      skipLineComment();\n      skipSpace();\n      return readToken();\n    }\n    if (next === 61)\n      size = input.charCodeAt(tokPos + 2) === 61 ? 3 : 2;\n    return finishOp(_relational, size);\n  }\n\n  function readToken_eq_excl(code) { // '=!', '=>'\n    var next = input.charCodeAt(tokPos + 1);\n    if (next === 61) return finishOp(_equality, input.charCodeAt(tokPos + 2) === 61 ? 3 : 2);\n    if (code === 61 && next === 62 && options.ecmaVersion >= 6) { // '=>'\n      tokPos += 2;\n      return finishToken(_arrow);\n    }\n    return finishOp(code === 61 ? _eq : _prefix, 1);\n  }\n\n  // Get token inside ES6 template (special rules work there).\n\n  function getTemplateToken(code) {\n    // '`' and '${' have special meanings, but they should follow\n    // string (can be empty)\n    if (tokType === _string) {\n      if (code === 96) { // '`'\n        ++tokPos;\n        return finishToken(_bquote);\n      } else\n      if (code === 36 && input.charCodeAt(tokPos + 1) === 123) { // '${'\n        tokPos += 2;\n        return finishToken(_dollarBraceL);\n      }\n    }\n\n    if (code === 125) { // '}'\n      ++tokPos;\n      return finishToken(_braceR, undefined, false);\n    }\n\n    // anything else is considered string literal\n    return readTmplString();\n  }\n\n  function getTokenFromCode(code) {\n    switch (code) {\n    // The interpretation of a dot depends on whether it is followed\n    // by a digit or another two dots.\n    case 46: // '.'\n      return readToken_dot();\n\n    // Punctuation tokens.\n    case 40: ++tokPos; return finishToken(_parenL);\n    case 41: ++tokPos; return finishToken(_parenR);\n    case 59: ++tokPos; return finishToken(_semi);\n    case 44: ++tokPos; return finishToken(_comma);\n    case 91: ++tokPos; return finishToken(_bracketL);\n    case 93: ++tokPos; return finishToken(_bracketR);\n    case 123: ++tokPos; return finishToken(_braceL);\n    case 125: ++tokPos; return finishToken(_braceR);\n    case 58: ++tokPos; return finishToken(_colon);\n    case 63: ++tokPos; return finishToken(_question);\n\n    case 96: // '`'\n      if (options.ecmaVersion >= 6) {\n        ++tokPos;\n        return finishToken(_bquote, undefined, false);\n      }\n\n    case 48: // '0'\n      var next = input.charCodeAt(tokPos + 1);\n      if (next === 120 || next === 88) return readRadixNumber(16); // '0x', '0X' - hex number\n      if (options.ecmaVersion >= 6) {\n        if (next === 111 || next === 79) return readRadixNumber(8); // '0o', '0O' - octal number\n        if (next === 98 || next === 66) return readRadixNumber(2); // '0b', '0B' - binary number\n      }\n    // Anything else beginning with a digit is an integer, octal\n    // number, or float.\n    case 49: case 50: case 51: case 52: case 53: case 54: case 55: case 56: case 57: // 1-9\n      return readNumber(false);\n\n    // Quotes produce strings.\n    case 34: case 39: // '\"', \"'\"\n      return readString(code);\n\n    // Operators are parsed inline in tiny state machines. '=' (61) is\n    // often referred to. `finishOp` simply skips the amount of\n    // characters it is given as second argument, and returns a token\n    // of the type given by its first argument.\n\n    case 47: // '/'\n      return readToken_slash();\n\n    case 37: case 42: // '%*'\n      return readToken_mult_modulo(code);\n\n    case 124: case 38: // '|&'\n      return readToken_pipe_amp(code);\n\n    case 94: // '^'\n      return readToken_caret();\n\n    case 43: case 45: // '+-'\n      return readToken_plus_min(code);\n\n    case 60: case 62: // '<>'\n      return readToken_lt_gt(code);\n\n    case 61: case 33: // '=!'\n      return readToken_eq_excl(code);\n\n    case 126: // '~'\n      return finishOp(_prefix, 1);\n    }\n\n    return false;\n  }\n\n  function readToken(forceRegexp) {\n    if (!forceRegexp) tokStart = tokPos;\n    else tokPos = tokStart + 1;\n    if (options.locations) tokStartLoc = new Position;\n    if (forceRegexp) return readRegexp();\n    if (tokPos >= inputLen) return finishToken(_eof);\n\n    var code = input.charCodeAt(tokPos);\n\n    if (inTemplate) return getTemplateToken(code);\n\n    // Identifier or keyword. '\\uXXXX' sequences are allowed in\n    // identifiers, so '\\' also dispatches to that.\n    if (isIdentifierStart(code) || code === 92 /* '\\' */) return readWord();\n\n    var tok = getTokenFromCode(code);\n\n    if (tok === false) {\n      // If we are here, we either found a non-ASCII identifier\n      // character, or something that's entirely disallowed.\n      var ch = String.fromCharCode(code);\n      if (ch === \"\\\\\" || nonASCIIidentifierStart.test(ch)) return readWord();\n      raise(tokPos, \"Unexpected character '\" + ch + \"'\");\n    }\n    return tok;\n  }\n\n  function finishOp(type, size) {\n    var str = input.slice(tokPos, tokPos + size);\n    tokPos += size;\n    finishToken(type, str);\n  }\n\n  // Parse a regular expression. Some context-awareness is necessary,\n  // since a '/' inside a '[]' set does not end the expression.\n\n  function readRegexp() {\n    var content = \"\", escaped, inClass, start = tokPos;\n    for (;;) {\n      if (tokPos >= inputLen) raise(start, \"Unterminated regular expression\");\n      var ch = input.charAt(tokPos);\n      if (newline.test(ch)) raise(start, \"Unterminated regular expression\");\n      if (!escaped) {\n        if (ch === \"[\") inClass = true;\n        else if (ch === \"]\" && inClass) inClass = false;\n        else if (ch === \"/\" && !inClass) break;\n        escaped = ch === \"\\\\\";\n      } else escaped = false;\n      ++tokPos;\n    }\n    var content = input.slice(start, tokPos);\n    ++tokPos;\n    // Need to use `readWord1` because '\\uXXXX' sequences are allowed\n    // here (don't ask).\n    var mods = readWord1();\n    if (mods && !/^[gmsiy]*$/.test(mods)) raise(start, \"Invalid regular expression flag\");\n    try {\n      var value = new RegExp(content, mods);\n    } catch (e) {\n      if (e instanceof SyntaxError) raise(start, \"Error parsing regular expression: \" + e.message);\n      raise(e);\n    }\n    return finishToken(_regexp, value);\n  }\n\n  // Read an integer in the given radix. Return null if zero digits\n  // were read, the integer value otherwise. When `len` is given, this\n  // will return `null` unless the integer has exactly `len` digits.\n\n  function readInt(radix, len) {\n    var start = tokPos, total = 0;\n    for (var i = 0, e = len == null ? Infinity : len; i < e; ++i) {\n      var code = input.charCodeAt(tokPos), val;\n      if (code >= 97) val = code - 97 + 10; // a\n      else if (code >= 65) val = code - 65 + 10; // A\n      else if (code >= 48 && code <= 57) val = code - 48; // 0-9\n      else val = Infinity;\n      if (val >= radix) break;\n      ++tokPos;\n      total = total * radix + val;\n    }\n    if (tokPos === start || len != null && tokPos - start !== len) return null;\n\n    return total;\n  }\n\n  function readRadixNumber(radix) {\n    tokPos += 2; // 0x\n    var val = readInt(radix);\n    if (val == null) raise(tokStart + 2, \"Expected number in radix \" + radix);\n    if (isIdentifierStart(input.charCodeAt(tokPos))) raise(tokPos, \"Identifier directly after number\");\n    return finishToken(_num, val);\n  }\n\n  // Read an integer, octal integer, or floating-point number.\n\n  function readNumber(startsWithDot) {\n    var start = tokPos, isFloat = false, octal = input.charCodeAt(tokPos) === 48;\n    if (!startsWithDot && readInt(10) === null) raise(start, \"Invalid number\");\n    if (input.charCodeAt(tokPos) === 46) {\n      ++tokPos;\n      readInt(10);\n      isFloat = true;\n    }\n    var next = input.charCodeAt(tokPos);\n    if (next === 69 || next === 101) { // 'eE'\n      next = input.charCodeAt(++tokPos);\n      if (next === 43 || next === 45) ++tokPos; // '+-'\n      if (readInt(10) === null) raise(start, \"Invalid number\");\n      isFloat = true;\n    }\n    if (isIdentifierStart(input.charCodeAt(tokPos))) raise(tokPos, \"Identifier directly after number\");\n\n    var str = input.slice(start, tokPos), val;\n    if (isFloat) val = parseFloat(str);\n    else if (!octal || str.length === 1) val = parseInt(str, 10);\n    else if (/[89]/.test(str) || strict) raise(start, \"Invalid number\");\n    else val = parseInt(str, 8);\n    return finishToken(_num, val);\n  }\n\n  // Read a string value, interpreting backslash-escapes.\n\n  function readCodePoint() {\n    var ch = input.charCodeAt(tokPos), code;\n\n    if (ch === 123) {\n      if (options.ecmaVersion < 6) unexpected();\n      ++tokPos;\n      code = readHexChar(input.indexOf('}', tokPos) - tokPos);\n      ++tokPos;\n      if (code > 0x10FFFF) unexpected();\n    } else {\n      code = readHexChar(4);\n    }\n\n    // UTF-16 Encoding\n    if (code <= 0xFFFF) {\n      return String.fromCharCode(code);\n    }\n    var cu1 = ((code - 0x10000) >> 10) + 0xD800;\n    var cu2 = ((code - 0x10000) & 1023) + 0xDC00;\n    return String.fromCharCode(cu1, cu2);\n  }\n\n  function readString(quote) {\n    ++tokPos;\n    var out = \"\";\n    for (;;) {\n      if (tokPos >= inputLen) raise(tokStart, \"Unterminated string constant\");\n      var ch = input.charCodeAt(tokPos);\n      if (ch === quote) {\n        ++tokPos;\n        return finishToken(_string, out);\n      }\n      if (ch === 92) { // '\\'\n        out += readEscapedChar();\n      } else {\n        ++tokPos;\n        if (newline.test(String.fromCharCode(ch))) {\n          raise(tokStart, \"Unterminated string constant\");\n        }\n        out += String.fromCharCode(ch); // '\\'\n      }\n    }\n  }\n\n  function readTmplString() {\n    var out = \"\";\n    for (;;) {\n      if (tokPos >= inputLen) raise(tokStart, \"Unterminated string constant\");\n      var ch = input.charCodeAt(tokPos);\n      if (ch === 96 || ch === 36 && input.charCodeAt(tokPos + 1) === 123) // '`', '${'\n        return finishToken(_string, out);\n      if (ch === 92) { // '\\'\n        out += readEscapedChar();\n      } else {\n        ++tokPos;\n        if (newline.test(String.fromCharCode(ch))) {\n          if (ch === 13 && input.charCodeAt(tokPos) === 10) {\n            ++tokPos;\n            ch = 10;\n          }\n          if (options.locations) {\n            ++tokCurLine;\n            tokLineStart = tokPos;\n          }\n        }\n        out += String.fromCharCode(ch); // '\\'\n      }\n    }\n  }\n\n  // Used to read escaped characters\n\n  function readEscapedChar() {\n    var ch = input.charCodeAt(++tokPos);\n    var octal = /^[0-7]+/.exec(input.slice(tokPos, tokPos + 3));\n    if (octal) octal = octal[0];\n    while (octal && parseInt(octal, 8) > 255) octal = octal.slice(0, -1);\n    if (octal === \"0\") octal = null;\n    ++tokPos;\n    if (octal) {\n      if (strict) raise(tokPos - 2, \"Octal literal in strict mode\");\n      tokPos += octal.length - 1;\n      return String.fromCharCode(parseInt(octal, 8));\n    } else {\n      switch (ch) {\n        case 110: return \"\\n\"; // 'n' -> '\\n'\n        case 114: return \"\\r\"; // 'r' -> '\\r'\n        case 120: return String.fromCharCode(readHexChar(2)); // 'x'\n        case 117: return readCodePoint(); // 'u'\n        case 85: return String.fromCharCode(readHexChar(8)); // 'U'\n        case 116: return \"\\t\"; // 't' -> '\\t'\n        case 98: return \"\\b\"; // 'b' -> '\\b'\n        case 118: return \"\\u000b\"; // 'v' -> '\\u000b'\n        case 102: return \"\\f\"; // 'f' -> '\\f'\n        case 48: return \"\\0\"; // 0 -> '\\0'\n        case 13: if (input.charCodeAt(tokPos) === 10) ++tokPos; // '\\r\\n'\n        case 10: // ' \\n'\n          if (options.locations) { tokLineStart = tokPos; ++tokCurLine; }\n          return \"\";\n        default: return String.fromCharCode(ch);\n      }\n    }\n  }\n\n  // Used to read character escape sequences ('\\x', '\\u', '\\U').\n\n  function readHexChar(len) {\n    var n = readInt(16, len);\n    if (n === null) raise(tokStart, \"Bad character escape sequence\");\n    return n;\n  }\n\n  // Used to signal to callers of `readWord1` whether the word\n  // contained any escape sequences. This is needed because words with\n  // escape sequences must not be interpreted as keywords.\n\n  var containsEsc;\n\n  // Read an identifier, and return it as a string. Sets `containsEsc`\n  // to whether the word contained a '\\u' escape.\n  //\n  // Only builds up the word character-by-character when it actually\n  // containeds an escape, as a micro-optimization.\n\n  function readWord1() {\n    containsEsc = false;\n    var word, first = true, start = tokPos;\n    for (;;) {\n      var ch = input.charCodeAt(tokPos);\n      if (isIdentifierChar(ch)) {\n        if (containsEsc) word += input.charAt(tokPos);\n        ++tokPos;\n      } else if (ch === 92) { // \"\\\"\n        if (!containsEsc) word = input.slice(start, tokPos);\n        containsEsc = true;\n        if (input.charCodeAt(++tokPos) != 117) // \"u\"\n          raise(tokPos, \"Expecting Unicode escape sequence \\\\uXXXX\");\n        ++tokPos;\n        var esc = readHexChar(4);\n        var escStr = String.fromCharCode(esc);\n        if (!escStr) raise(tokPos - 1, \"Invalid Unicode escape\");\n        if (!(first ? isIdentifierStart(esc) : isIdentifierChar(esc)))\n          raise(tokPos - 4, \"Invalid Unicode escape\");\n        word += escStr;\n      } else {\n        break;\n      }\n      first = false;\n    }\n    return containsEsc ? word : input.slice(start, tokPos);\n  }\n\n  // Read an identifier or keyword token. Will check for reserved\n  // words when necessary.\n\n  function readWord() {\n    var word = readWord1();\n    var type = _name;\n    if (!containsEsc && isKeyword(word))\n      type = keywordTypes[word];\n    return finishToken(type, word);\n  }\n\n  // ## Parser\n\n  // A recursive descent parser operates by defining functions for all\n  // syntactic elements, and recursively calling those, each function\n  // advancing the input stream and returning an AST node. Precedence\n  // of constructs (for example, the fact that `!x[1]` means `!(x[1])`\n  // instead of `(!x)[1]` is handled by the fact that the parser\n  // function that parses unary prefix operators is called first, and\n  // in turn calls the function that parses `[]` subscripts — that\n  // way, it'll receive the node for `x[1]` already parsed, and wraps\n  // *that* in the unary operator node.\n  //\n  // Acorn uses an [operator precedence parser][opp] to handle binary\n  // operator precedence, because it is much more compact than using\n  // the technique outlined above, which uses different, nesting\n  // functions to specify precedence, for all of the ten binary\n  // precedence levels that JavaScript defines.\n  //\n  // [opp]: http://en.wikipedia.org/wiki/Operator-precedence_parser\n\n  // ### Parser utilities\n\n  // Continue to the next token.\n\n  function next() {\n    lastStart = tokStart;\n    lastEnd = tokEnd;\n    lastEndLoc = tokEndLoc;\n    readToken();\n  }\n\n  // Enter strict mode. Re-reads the next token to please pedantic\n  // tests (\"use strict\"; 010; -- should fail).\n\n  function setStrict(strct) {\n    strict = strct;\n    tokPos = tokStart;\n    if (options.locations) {\n      while (tokPos < tokLineStart) {\n        tokLineStart = input.lastIndexOf(\"\\n\", tokLineStart - 2) + 1;\n        --tokCurLine;\n      }\n    }\n    skipSpace();\n    readToken();\n  }\n\n  // Start an AST node, attaching a start offset.\n\n  function Node() {\n    this.type = null;\n    this.start = tokStart;\n    this.end = null;\n  }\n\n  exports.Node = Node;\n\n  function SourceLocation() {\n    this.start = tokStartLoc;\n    this.end = null;\n    if (sourceFile !== null) this.source = sourceFile;\n  }\n\n  function startNode() {\n    var node = new Node();\n    if (options.locations)\n      node.loc = new SourceLocation();\n    if (options.directSourceFile)\n      node.sourceFile = options.directSourceFile;\n    if (options.ranges)\n      node.range = [tokStart, 0];\n    return node;\n  }\n\n  // Start a node whose start offset information should be based on\n  // the start of another node. For example, a binary operator node is\n  // only started after its left-hand side has already been parsed.\n\n  function startNodeFrom(other) {\n    var node = new Node();\n    node.start = other.start;\n    if (options.locations) {\n      node.loc = new SourceLocation();\n      node.loc.start = other.loc.start;\n    }\n    if (options.ranges)\n      node.range = [other.range[0], 0];\n\n    return node;\n  }\n\n  // Finish an AST node, adding `type` and `end` properties.\n\n  function finishNode(node, type) {\n    node.type = type;\n    node.end = lastEnd;\n    if (options.locations)\n      node.loc.end = lastEndLoc;\n    if (options.ranges)\n      node.range[1] = lastEnd;\n    return node;\n  }\n\n  // Test whether a statement node is the string literal `\"use strict\"`.\n\n  function isUseStrict(stmt) {\n    return options.ecmaVersion >= 5 && stmt.type === \"ExpressionStatement\" &&\n      stmt.expression.type === \"Literal\" && stmt.expression.value === \"use \" + \"strict\";\n  }\n\n  // Predicate that tests whether the next token is of the given\n  // type, and if yes, consumes it as a side effect.\n\n  function eat(type) {\n    if (tokType === type) {\n      next();\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  // Test whether a semicolon can be inserted at the current position.\n\n  function canInsertSemicolon() {\n    return !options.strictSemicolons &&\n      (tokType === _eof || tokType === _braceR || newline.test(input.slice(lastEnd, tokStart)));\n  }\n\n  // Consume a semicolon, or, failing that, see if we are allowed to\n  // pretend that there is a semicolon at this position.\n\n  function semicolon() {\n    if (!eat(_semi) && !canInsertSemicolon()) unexpected();\n  }\n\n  // Expect a token of a given type. If found, consume it, otherwise,\n  // raise an unexpected token error.\n\n  function expect(type) {\n    eat(type) || unexpected();\n  }\n\n  // Raise an unexpected token error.\n\n  function unexpected(pos) {\n    raise(pos != null ? pos : tokStart, \"Unexpected token\");\n  }\n\n  // Checks if hash object has a property.\n\n  function has(obj, propName) {\n    return Object.prototype.hasOwnProperty.call(obj, propName);\n  }\n  // Convert existing expression atom to assignable pattern\n  // if possible.\n\n  function toAssignable(node, allowSpread, checkType) {\n    if (options.ecmaVersion >= 6 && node) {\n      switch (node.type) {\n        case \"Identifier\":\n        case \"MemberExpression\":\n          break;\n\n        case \"ObjectExpression\":\n          node.type = \"ObjectPattern\";\n          for (var i = 0; i < node.properties.length; i++) {\n            var prop = node.properties[i];\n            if (prop.kind !== \"init\") unexpected(prop.key.start);\n            toAssignable(prop.value, false, checkType);\n          }\n          break;\n\n        case \"ArrayExpression\":\n          node.type = \"ArrayPattern\";\n          for (var i = 0, lastI = node.elements.length - 1; i <= lastI; i++) {\n            toAssignable(node.elements[i], i === lastI, checkType);\n          }\n          break;\n\n        case \"SpreadElement\":\n          if (allowSpread) {\n            toAssignable(node.argument, false, checkType);\n            checkSpreadAssign(node.argument);\n          } else {\n            unexpected(node.start);\n          }\n          break;\n\n        default:\n          if (checkType) unexpected(node.start);\n      }\n    }\n    return node;\n  }\n\n  // Checks if node can be assignable spread argument.\n\n  function checkSpreadAssign(node) {\n    if (node.type !== \"Identifier\" && node.type !== \"ArrayPattern\")\n      unexpected(node.start);\n  }\n\n  // Verify that argument names are not repeated, and it does not\n  // try to bind the words `eval` or `arguments`.\n\n  function checkFunctionParam(param, nameHash) {\n    switch (param.type) {\n      case \"Identifier\":\n        if (isStrictReservedWord(param.name) || isStrictBadIdWord(param.name))\n          raise(param.start, \"Defining '\" + param.name + \"' in strict mode\");\n        if (has(nameHash, param.name))\n          raise(param.start, \"Argument name clash in strict mode\");\n        nameHash[param.name] = true;\n        break;\n\n      case \"ObjectPattern\":\n        for (var i = 0; i < param.properties.length; i++)\n          checkFunctionParam(param.properties[i].value, nameHash);\n        break;\n\n      case \"ArrayPattern\":\n        for (var i = 0; i < param.elements.length; i++)\n          checkFunctionParam(param.elements[i], nameHash);\n        break;\n    }\n  }\n\n  // Check if property name clashes with already added.\n  // Object/class getters and setters are not allowed to clash —\n  // either with each other or with an init property — and in\n  // strict mode, init properties are also not allowed to be repeated.\n\n  function checkPropClash(prop, propHash) {\n    if (prop.computed) return;\n    var key = prop.key, name;\n    switch (key.type) {\n      case \"Identifier\": name = key.name; break;\n      case \"Literal\": name = String(key.value); break;\n      default: return;\n    }\n    var kind = prop.kind || \"init\", other;\n    if (has(propHash, name)) {\n      other = propHash[name];\n      var isGetSet = kind !== \"init\";\n      if ((strict || isGetSet) && other[kind] || !(isGetSet ^ other.init))\n        raise(key.start, \"Redefinition of property\");\n    } else {\n      other = propHash[name] = {\n        init: false,\n        get: false,\n        set: false\n      };\n    }\n    other[kind] = true;\n  }\n\n  // Verify that a node is an lval — something that can be assigned\n  // to.\n\n  function checkLVal(expr, isBinding) {\n    switch (expr.type) {\n      case \"Identifier\":\n        if (strict && (isStrictBadIdWord(expr.name) || isStrictReservedWord(expr.name)))\n          raise(expr.start, isBinding\n            ? \"Binding \" + expr.name + \" in strict mode\"\n            : \"Assigning to \" + expr.name + \" in strict mode\"\n          );\n        break;\n\n      case \"MemberExpression\":\n        if (!isBinding) break;\n\n      case \"ObjectPattern\":\n        for (var i = 0; i < expr.properties.length; i++)\n          checkLVal(expr.properties[i].value, isBinding);\n        break;\n\n      case \"ArrayPattern\":\n        for (var i = 0; i < expr.elements.length; i++) {\n          var elem = expr.elements[i];\n          if (elem) checkLVal(elem, isBinding);\n        }\n        break;\n\n      case \"SpreadElement\":\n        break;\n\n      default:\n        raise(expr.start, \"Assigning to rvalue\");\n    }\n  }\n\n  // ### Statement parsing\n\n  // Parse a program. Initializes the parser, reads any number of\n  // statements, and wraps them in a Program node.  Optionally takes a\n  // `program` argument.  If present, the statements will be appended\n  // to its body instead of creating a new node.\n\n  function parseTopLevel(program) {\n    lastStart = lastEnd = tokPos;\n    if (options.locations) lastEndLoc = new Position;\n    inFunction = inGenerator = strict = null;\n    labels = [];\n    readToken();\n\n    var node = program || startNode(), first = true;\n    if (!program) node.body = [];\n    while (tokType !== _eof) {\n      var stmt = parseStatement();\n      node.body.push(stmt);\n      if (first && isUseStrict(stmt)) setStrict(true);\n      first = false;\n    }\n    return finishNode(node, \"Program\");\n  }\n\n  var loopLabel = {kind: \"loop\"}, switchLabel = {kind: \"switch\"};\n\n  // Parse a single statement.\n  //\n  // If expecting a statement and finding a slash operator, parse a\n  // regular expression literal. This is to handle cases like\n  // `if (foo) /blah/.exec(foo);`, where looking at the previous token\n  // does not help.\n\n  function parseStatement() {\n    if (tokType === _slash || tokType === _assign && tokVal == \"/=\")\n      readToken(true);\n\n    var starttype = tokType, node = startNode();\n\n    // Most types of statements are recognized by the keyword they\n    // start with. Many are trivial to parse, some require a bit of\n    // complexity.\n\n    switch (starttype) {\n    case _break: case _continue: return parseBreakContinueStatement(node, starttype.keyword);\n    case _debugger: return parseDebuggerStatement(node);\n    case _do: return parseDoStatement(node);\n    case _for: return parseForStatement(node);\n    case _function: return parseFunctionStatement(node);\n    case _class: return parseClass(node, true);\n    case _if: return parseIfStatement(node);\n    case _return: return parseReturnStatement(node);\n    case _switch: return parseSwitchStatement(node);\n    case _throw: return parseThrowStatement(node);\n    case _try: return parseTryStatement(node);\n    case _var: case _let: case _const: return parseVarStatement(node, starttype.keyword);\n    case _while: return parseWhileStatement(node);\n    case _with: return parseWithStatement(node);\n    case _braceL: return parseBlock(); // no point creating a function for this\n    case _semi: return parseEmptyStatement(node);\n    case _export: return parseExport(node);\n    case _import: return parseImport(node);\n\n      // If the statement does not start with a statement keyword or a\n      // brace, it's an ExpressionStatement or LabeledStatement. We\n      // simply start parsing an expression, and afterwards, if the\n      // next token is a colon and the expression was a simple\n      // Identifier node, we switch to interpreting it as a label.\n    default:\n      var maybeName = tokVal, expr = parseExpression();\n      if (starttype === _name && expr.type === \"Identifier\" && eat(_colon))\n        return parseLabeledStatement(node, maybeName, expr);\n      else return parseExpressionStatement(node, expr);\n    }\n  }\n\n  function parseBreakContinueStatement(node, keyword) {\n    var isBreak = keyword == \"break\";\n    next();\n    if (eat(_semi) || canInsertSemicolon()) node.label = null;\n    else if (tokType !== _name) unexpected();\n    else {\n      node.label = parseIdent();\n      semicolon();\n    }\n\n    // Verify that there is an actual destination to break or\n    // continue to.\n    for (var i = 0; i < labels.length; ++i) {\n      var lab = labels[i];\n      if (node.label == null || lab.name === node.label.name) {\n        if (lab.kind != null && (isBreak || lab.kind === \"loop\")) break;\n        if (node.label && isBreak) break;\n      }\n    }\n    if (i === labels.length) raise(node.start, \"Unsyntactic \" + keyword);\n    return finishNode(node, isBreak ? \"BreakStatement\" : \"ContinueStatement\");\n  }\n\n  function parseDebuggerStatement(node) {\n    next();\n    semicolon();\n    return finishNode(node, \"DebuggerStatement\");\n  }\n\n  function parseDoStatement(node) {\n    next();\n    labels.push(loopLabel);\n    node.body = parseStatement();\n    labels.pop();\n    expect(_while);\n    node.test = parseParenExpression();\n    semicolon();\n    return finishNode(node, \"DoWhileStatement\");\n  }\n\n  // Disambiguating between a `for` and a `for`/`in` or `for`/`of`\n  // loop is non-trivial. Basically, we have to parse the init `var`\n  // statement or expression, disallowing the `in` operator (see\n  // the second parameter to `parseExpression`), and then check\n  // whether the next token is `in` or `of`. When there is no init\n  // part (semicolon immediately after the opening parenthesis), it\n  // is a regular `for` loop.\n\n  function parseForStatement(node) {\n    next();\n    labels.push(loopLabel);\n    expect(_parenL);\n    if (tokType === _semi) return parseFor(node, null);\n    if (tokType === _var || tokType === _let) {\n      var init = startNode(), varKind = tokType.keyword, isLet = tokType === _let;\n      next();\n      parseVar(init, true, varKind);\n      finishNode(init, \"VariableDeclaration\");\n      if ((tokType === _in || (tokType === _name && tokVal === \"of\")) && init.declarations.length === 1 &&\n          !(isLet && init.declarations[0].init))\n        return parseForIn(node, init);\n      return parseFor(node, init);\n    }\n    var init = parseExpression(false, true);\n    if (tokType === _in || (tokType === _name && tokVal === \"of\")) {\n      checkLVal(init);\n      return parseForIn(node, init);\n    }\n    return parseFor(node, init);\n  }\n\n  function parseFunctionStatement(node) {\n    next();\n    return parseFunction(node, true);\n  }\n\n  function parseIfStatement(node) {\n    next();\n    node.test = parseParenExpression();\n    node.consequent = parseStatement();\n    node.alternate = eat(_else) ? parseStatement() : null;\n    return finishNode(node, \"IfStatement\");\n  }\n\n  function parseReturnStatement(node) {\n    if (!inFunction && !options.allowReturnOutsideFunction)\n      raise(tokStart, \"'return' outside of function\");\n    next();\n\n    // In `return` (and `break`/`continue`), the keywords with\n    // optional arguments, we eagerly look for a semicolon or the\n    // possibility to insert one.\n\n    if (eat(_semi) || canInsertSemicolon()) node.argument = null;\n    else { node.argument = parseExpression(); semicolon(); }\n    return finishNode(node, \"ReturnStatement\");\n  }\n\n  function parseSwitchStatement(node) {\n    next();\n    node.discriminant = parseParenExpression();\n    node.cases = [];\n    expect(_braceL);\n    labels.push(switchLabel);\n\n    // Statements under must be grouped (by label) in SwitchCase\n    // nodes. `cur` is used to keep the node that we are currently\n    // adding statements to.\n\n    for (var cur, sawDefault; tokType != _braceR;) {\n      if (tokType === _case || tokType === _default) {\n        var isCase = tokType === _case;\n        if (cur) finishNode(cur, \"SwitchCase\");\n        node.cases.push(cur = startNode());\n        cur.consequent = [];\n        next();\n        if (isCase) cur.test = parseExpression();\n        else {\n          if (sawDefault) raise(lastStart, \"Multiple default clauses\"); sawDefault = true;\n          cur.test = null;\n        }\n        expect(_colon);\n      } else {\n        if (!cur) unexpected();\n        cur.consequent.push(parseStatement());\n      }\n    }\n    if (cur) finishNode(cur, \"SwitchCase\");\n    next(); // Closing brace\n    labels.pop();\n    return finishNode(node, \"SwitchStatement\");\n  }\n\n  function parseThrowStatement(node) {\n    next();\n    if (newline.test(input.slice(lastEnd, tokStart)))\n      raise(lastEnd, \"Illegal newline after throw\");\n    node.argument = parseExpression();\n    semicolon();\n    return finishNode(node, \"ThrowStatement\");\n  }\n\n  function parseTryStatement(node) {\n    next();\n    node.block = parseBlock();\n    node.handler = null;\n    if (tokType === _catch) {\n      var clause = startNode();\n      next();\n      expect(_parenL);\n      clause.param = parseIdent();\n      if (strict && isStrictBadIdWord(clause.param.name))\n        raise(clause.param.start, \"Binding \" + clause.param.name + \" in strict mode\");\n      expect(_parenR);\n      clause.guard = null;\n      clause.body = parseBlock();\n      node.handler = finishNode(clause, \"CatchClause\");\n    }\n    node.guardedHandlers = empty;\n    node.finalizer = eat(_finally) ? parseBlock() : null;\n    if (!node.handler && !node.finalizer)\n      raise(node.start, \"Missing catch or finally clause\");\n    return finishNode(node, \"TryStatement\");\n  }\n\n  function parseVarStatement(node, kind) {\n    next();\n    parseVar(node, false, kind);\n    semicolon();\n    return finishNode(node, \"VariableDeclaration\");\n  }\n\n  function parseWhileStatement(node) {\n    next();\n    node.test = parseParenExpression();\n    labels.push(loopLabel);\n    node.body = parseStatement();\n    labels.pop();\n    return finishNode(node, \"WhileStatement\");\n  }\n\n  function parseWithStatement(node) {\n    if (strict) raise(tokStart, \"'with' in strict mode\");\n    next();\n    node.object = parseParenExpression();\n    node.body = parseStatement();\n    return finishNode(node, \"WithStatement\");\n  }\n\n  function parseEmptyStatement(node) {\n    next();\n    return finishNode(node, \"EmptyStatement\");\n  }\n\n  function parseLabeledStatement(node, maybeName, expr) {\n    for (var i = 0; i < labels.length; ++i)\n      if (labels[i].name === maybeName) raise(expr.start, \"Label '\" + maybeName + \"' is already declared\");\n    var kind = tokType.isLoop ? \"loop\" : tokType === _switch ? \"switch\" : null;\n    labels.push({name: maybeName, kind: kind});\n    node.body = parseStatement();\n    labels.pop();\n    node.label = expr;\n    return finishNode(node, \"LabeledStatement\");\n  }\n\n  function parseExpressionStatement(node, expr) {\n    node.expression = expr;\n    semicolon();\n    return finishNode(node, \"ExpressionStatement\");\n  }\n\n  // Used for constructs like `switch` and `if` that insist on\n  // parentheses around their expression.\n\n  function parseParenExpression() {\n    expect(_parenL);\n    var val = parseExpression();\n    expect(_parenR);\n    return val;\n  }\n\n  // Parse a semicolon-enclosed block of statements, handling `\"use\n  // strict\"` declarations when `allowStrict` is true (used for\n  // function bodies).\n\n  function parseBlock(allowStrict) {\n    var node = startNode(), first = true, strict = false, oldStrict;\n    node.body = [];\n    expect(_braceL);\n    while (!eat(_braceR)) {\n      var stmt = parseStatement();\n      node.body.push(stmt);\n      if (first && allowStrict && isUseStrict(stmt)) {\n        oldStrict = strict;\n        setStrict(strict = true);\n      }\n      first = false;\n    }\n    if (strict && !oldStrict) setStrict(false);\n    return finishNode(node, \"BlockStatement\");\n  }\n\n  // Parse a regular `for` loop. The disambiguation code in\n  // `parseStatement` will already have parsed the init statement or\n  // expression.\n\n  function parseFor(node, init) {\n    node.init = init;\n    expect(_semi);\n    node.test = tokType === _semi ? null : parseExpression();\n    expect(_semi);\n    node.update = tokType === _parenR ? null : parseExpression();\n    expect(_parenR);\n    node.body = parseStatement();\n    labels.pop();\n    return finishNode(node, \"ForStatement\");\n  }\n\n  // Parse a `for`/`in` and `for`/`of` loop, which are almost\n  // same from parser's perspective.\n\n  function parseForIn(node, init) {\n    var type = tokType === _in ? \"ForInStatement\" : \"ForOfStatement\";\n    next();\n    node.left = init;\n    node.right = parseExpression();\n    expect(_parenR);\n    node.body = parseStatement();\n    labels.pop();\n    return finishNode(node, type);\n  }\n\n  // Parse a list of variable declarations.\n\n  function parseVar(node, noIn, kind) {\n    node.declarations = [];\n    node.kind = kind;\n    for (;;) {\n      var decl = startNode();\n      decl.id = options.ecmaVersion >= 6 ? toAssignable(parseExprAtom()) : parseIdent();\n      checkLVal(decl.id, true);\n      decl.init = eat(_eq) ? parseExpression(true, noIn) : (kind === _const.keyword ? unexpected() : null);\n      node.declarations.push(finishNode(decl, \"VariableDeclarator\"));\n      if (!eat(_comma)) break;\n    }\n    return node;\n  }\n\n  // ### Expression parsing\n\n  // These nest, from the most general expression type at the top to\n  // 'atomic', nondivisible expression types at the bottom. Most of\n  // the functions will simply let the function(s) below them parse,\n  // and, *if* the syntactic construct they handle is present, wrap\n  // the AST node that the inner parser gave them in another node.\n\n  // Parse a full expression. The arguments are used to forbid comma\n  // sequences (in argument lists, array literals, or object literals)\n  // or the `in` operator (in for loops initalization expressions).\n\n  function parseExpression(noComma, noIn) {\n    var expr = parseMaybeAssign(noIn);\n    if (!noComma && tokType === _comma) {\n      var node = startNodeFrom(expr);\n      node.expressions = [expr];\n      while (eat(_comma)) node.expressions.push(parseMaybeAssign(noIn));\n      return finishNode(node, \"SequenceExpression\");\n    }\n    return expr;\n  }\n\n  // Parse an assignment expression. This includes applications of\n  // operators like `+=`.\n\n  function parseMaybeAssign(noIn) {\n    var left = parseMaybeConditional(noIn);\n    if (tokType.isAssign) {\n      var node = startNodeFrom(left);\n      node.operator = tokVal;\n      node.left = tokType === _eq ? toAssignable(left) : left;\n      checkLVal(left);\n      next();\n      node.right = parseMaybeAssign(noIn);\n      return finishNode(node, \"AssignmentExpression\");\n    }\n    return left;\n  }\n\n  // Parse a ternary conditional (`?:`) operator.\n\n  function parseMaybeConditional(noIn) {\n    var expr = parseExprOps(noIn);\n    if (eat(_question)) {\n      var node = startNodeFrom(expr);\n      node.test = expr;\n      node.consequent = parseExpression(true);\n      expect(_colon);\n      node.alternate = parseExpression(true, noIn);\n      return finishNode(node, \"ConditionalExpression\");\n    }\n    return expr;\n  }\n\n  // Start the precedence parser.\n\n  function parseExprOps(noIn) {\n    return parseExprOp(parseMaybeUnary(), -1, noIn);\n  }\n\n  // Parse binary operators with the operator precedence parsing\n  // algorithm. `left` is the left-hand side of the operator.\n  // `minPrec` provides context that allows the function to stop and\n  // defer further parser to one of its callers when it encounters an\n  // operator that has a lower precedence than the set it is parsing.\n\n  function parseExprOp(left, minPrec, noIn) {\n    var prec = tokType.binop;\n    if (prec != null && (!noIn || tokType !== _in)) {\n      if (prec > minPrec) {\n        var node = startNodeFrom(left);\n        node.left = left;\n        node.operator = tokVal;\n        var op = tokType;\n        next();\n        node.right = parseExprOp(parseMaybeUnary(), prec, noIn);\n        var exprNode = finishNode(node, (op === _logicalOR || op === _logicalAND) ? \"LogicalExpression\" : \"BinaryExpression\");\n        return parseExprOp(exprNode, minPrec, noIn);\n      }\n    }\n    return left;\n  }\n\n  // Parse unary operators, both prefix and postfix.\n\n  function parseMaybeUnary() {\n    if (tokType.prefix) {\n      var node = startNode(), update = tokType.isUpdate;\n      node.operator = tokVal;\n      node.prefix = true;\n      tokRegexpAllowed = true;\n      next();\n      node.argument = parseMaybeUnary();\n      if (update) checkLVal(node.argument);\n      else if (strict && node.operator === \"delete\" &&\n               node.argument.type === \"Identifier\")\n        raise(node.start, \"Deleting local variable in strict mode\");\n      return finishNode(node, update ? \"UpdateExpression\" : \"UnaryExpression\");\n    }\n    var expr = parseExprSubscripts();\n    while (tokType.postfix && !canInsertSemicolon()) {\n      var node = startNodeFrom(expr);\n      node.operator = tokVal;\n      node.prefix = false;\n      node.argument = expr;\n      checkLVal(expr);\n      next();\n      expr = finishNode(node, \"UpdateExpression\");\n    }\n    return expr;\n  }\n\n  // Parse call, dot, and `[]`-subscript expressions.\n\n  function parseExprSubscripts() {\n    return parseSubscripts(parseExprAtom());\n  }\n\n  function parseSubscripts(base, noCalls) {\n    if (eat(_dot)) {\n      var node = startNodeFrom(base);\n      node.object = base;\n      node.property = parseIdent(true);\n      node.computed = false;\n      return parseSubscripts(finishNode(node, \"MemberExpression\"), noCalls);\n    } else if (eat(_bracketL)) {\n      var node = startNodeFrom(base);\n      node.object = base;\n      node.property = parseExpression();\n      node.computed = true;\n      expect(_bracketR);\n      return parseSubscripts(finishNode(node, \"MemberExpression\"), noCalls);\n    } else if (!noCalls && eat(_parenL)) {\n      var node = startNodeFrom(base);\n      node.callee = base;\n      node.arguments = parseExprList(_parenR, false);\n      return parseSubscripts(finishNode(node, \"CallExpression\"), noCalls);\n    } else if (tokType === _bquote) {\n      var node = startNodeFrom(base);\n      node.tag = base;\n      node.quasi = parseTemplate();\n      return parseSubscripts(finishNode(node, \"TaggedTemplateExpression\"), noCalls);\n    } return base;\n  }\n\n  // Parse an atomic expression — either a single token that is an\n  // expression, an expression started by a keyword like `function` or\n  // `new`, or an expression wrapped in punctuation like `()`, `[]`,\n  // or `{}`.\n\n  function parseExprAtom() {\n    switch (tokType) {\n    case _this:\n      var node = startNode();\n      next();\n      return finishNode(node, \"ThisExpression\");\n\n    case _yield:\n      if (inGenerator) return parseYield();\n\n    case _name:\n      var id = parseIdent(tokType !== _name);\n      if (eat(_arrow)) {\n        return parseArrowExpression(startNodeFrom(id), [id]);\n      }\n      return id;\n\n    case _num: case _string: case _regexp:\n      var node = startNode();\n      node.value = tokVal;\n      node.raw = input.slice(tokStart, tokEnd);\n      next();\n      return finishNode(node, \"Literal\");\n\n    case _null: case _true: case _false:\n      var node = startNode();\n      node.value = tokType.atomValue;\n      node.raw = tokType.keyword;\n      next();\n      return finishNode(node, \"Literal\");\n\n    case _parenL:\n      var tokStartLoc1 = tokStartLoc, tokStart1 = tokStart, val, exprList;\n      next();\n      // check whether this is generator comprehension or regular expression\n      if (options.ecmaVersion >= 6 && tokType === _for) {\n        val = parseComprehension(startNode(), true);\n      } else {\n        var oldParenL = ++metParenL;\n        if (tokType !== _parenR) {\n          val = parseExpression();\n          exprList = val.type === \"SequenceExpression\" ? val.expressions : [val];\n        } else {\n          exprList = [];\n        }\n        expect(_parenR);\n        // if '=>' follows '(...)', convert contents to arguments\n        if (metParenL === oldParenL && eat(_arrow)) {\n          val = parseArrowExpression(startNode(), exprList);\n        } else {\n          // forbid '()' before everything but '=>'\n          if (!val) unexpected(lastStart);\n          // forbid '...' in sequence expressions\n          if (options.ecmaVersion >= 6) {\n            for (var i = 0; i < exprList.length; i++) {\n              if (exprList[i].type === \"SpreadElement\") unexpected();\n            }\n          }\n        }\n      }\n      val.start = tokStart1;\n      val.end = lastEnd;\n      if (options.locations) {\n        val.loc.start = tokStartLoc1;\n        val.loc.end = lastEndLoc;\n      }\n      if (options.ranges) {\n        val.range = [tokStart1, lastEnd];\n      }\n      return val;\n\n    case _bracketL:\n      var node = startNode();\n      next();\n      // check whether this is array comprehension or regular array\n      if (options.ecmaVersion >= 6 && tokType === _for) {\n        return parseComprehension(node, false);\n      }\n      node.elements = parseExprList(_bracketR, true, true);\n      return finishNode(node, \"ArrayExpression\");\n\n    case _braceL:\n      return parseObj();\n\n    case _function:\n      var node = startNode();\n      next();\n      return parseFunction(node, false);\n\n    case _class:\n      return parseClass(startNode(), false);\n\n    case _new:\n      return parseNew();\n\n    case _ellipsis:\n      return parseSpread();\n\n    case _bquote:\n      return parseTemplate();\n\n    default:\n      unexpected();\n    }\n  }\n\n  // New's precedence is slightly tricky. It must allow its argument\n  // to be a `[]` or dot subscript expression, but not a call — at\n  // least, not without wrapping it in parentheses. Thus, it uses the\n\n  function parseNew() {\n    var node = startNode();\n    next();\n    node.callee = parseSubscripts(parseExprAtom(), true);\n    if (eat(_parenL)) node.arguments = parseExprList(_parenR, false);\n    else node.arguments = empty;\n    return finishNode(node, \"NewExpression\");\n  }\n\n  // Parse spread element '...expr'\n\n  function parseSpread() {\n    var node = startNode();\n    next();\n    node.argument = parseExpression(true);\n    return finishNode(node, \"SpreadElement\");\n  }\n\n  // Parse template expression.\n\n  function parseTemplate() {\n    var node = startNode();\n    node.expressions = [];\n    node.quasis = [];\n    inTemplate = true;\n    next();\n    for (;;) {\n      var elem = startNode();\n      elem.value = {cooked: tokVal, raw: input.slice(tokStart, tokEnd)};\n      elem.tail = false;\n      next();\n      node.quasis.push(finishNode(elem, \"TemplateElement\"));\n      if (eat(_bquote)) { // '`', end of template\n        elem.tail = true;\n        break;\n      }\n      inTemplate = false;\n      expect(_dollarBraceL);\n      node.expressions.push(parseExpression());\n      inTemplate = true;\n      expect(_braceR);\n    }\n    inTemplate = false;\n    return finishNode(node, \"TemplateLiteral\");\n  }\n\n  // Parse an object literal.\n\n  function parseObj() {\n    var node = startNode(), first = true, propHash = {};\n    node.properties = [];\n    next();\n    while (!eat(_braceR)) {\n      if (!first) {\n        expect(_comma);\n        if (options.allowTrailingCommas && eat(_braceR)) break;\n      } else first = false;\n\n      var prop = startNode(), isGenerator;\n      if (options.ecmaVersion >= 6) {\n        prop.method = false;\n        prop.shorthand = false;\n        isGenerator = eat(_star);\n      }\n      parsePropertyName(prop);\n      if (eat(_colon)) {\n        prop.value = parseExpression(true);\n        prop.kind = \"init\";\n      } else if (options.ecmaVersion >= 6 && tokType === _parenL) {\n        prop.kind = \"init\";\n        prop.method = true;\n        prop.value = parseMethod(isGenerator);\n      } else if (options.ecmaVersion >= 5 && !prop.computed && prop.key.type === \"Identifier\" &&\n                 (prop.key.name === \"get\" || prop.key.name === \"set\")) {\n        if (isGenerator) unexpected();\n        prop.kind = prop.key.name;\n        parsePropertyName(prop);\n        prop.value = parseMethod(false);\n      } else if (options.ecmaVersion >= 6 && !prop.computed && prop.key.type === \"Identifier\") {\n        prop.kind = \"init\";\n        prop.value = prop.key;\n        prop.shorthand = true;\n      } else unexpected();\n\n      checkPropClash(prop, propHash);\n      node.properties.push(finishNode(prop, \"Property\"));\n    }\n    return finishNode(node, \"ObjectExpression\");\n  }\n\n  function parsePropertyName(prop) {\n    if (options.ecmaVersion >= 6) {\n      if (eat(_bracketL)) {\n        prop.computed = true;\n        prop.key = parseExpression();\n        expect(_bracketR);\n        return;\n      } else {\n        prop.computed = false;\n      }\n    }\n    prop.key = (tokType === _num || tokType === _string) ? parseExprAtom() : parseIdent(true);\n  }\n\n  // Initialize empty function node.\n\n  function initFunction(node) {\n    node.id = null;\n    node.params = [];\n    if (options.ecmaVersion >= 6) {\n      node.defaults = [];\n      node.rest = null;\n      node.generator = false;\n    }\n  }\n\n  // Parse a function declaration or literal (depending on the\n  // `isStatement` parameter).\n\n  function parseFunction(node, isStatement, allowExpressionBody) {\n    initFunction(node);\n    if (options.ecmaVersion >= 6) {\n      node.generator = eat(_star);\n    }\n    if (isStatement || tokType === _name) {\n      node.id = parseIdent();\n    }\n    parseFunctionParams(node);\n    parseFunctionBody(node, allowExpressionBody);\n    return finishNode(node, isStatement ? \"FunctionDeclaration\" : \"FunctionExpression\");\n  }\n\n  // Parse object or class method.\n\n  function parseMethod(isGenerator) {\n    var node = startNode();\n    initFunction(node);\n    parseFunctionParams(node);\n    var allowExpressionBody;\n    if (options.ecmaVersion >= 6) {\n      node.generator = isGenerator;\n      allowExpressionBody = true;\n    } else {\n      allowExpressionBody = false;\n    }\n    parseFunctionBody(node, allowExpressionBody);\n    return finishNode(node, \"FunctionExpression\");\n  }\n\n  // Parse arrow function expression with given parameters.\n\n  function parseArrowExpression(node, params) {\n    initFunction(node);\n\n    var defaults = node.defaults, hasDefaults = false;\n\n    for (var i = 0, lastI = params.length - 1; i <= lastI; i++) {\n      var param = params[i];\n\n      if (param.type === \"AssignmentExpression\" && param.operator === \"=\") {\n        hasDefaults = true;\n        params[i] = param.left;\n        defaults.push(param.right);\n      } else {\n        toAssignable(param, i === lastI, true);\n        defaults.push(null);\n        if (param.type === \"SpreadElement\") {\n          params.length--;\n          node.rest = param.argument;\n          break;\n        }\n      }\n    }\n\n    node.params = params;\n    if (!hasDefaults) node.defaults = [];\n\n    parseFunctionBody(node, true);\n    return finishNode(node, \"ArrowFunctionExpression\");\n  }\n\n  // Parse function parameters.\n\n  function parseFunctionParams(node) {\n    var defaults = [], hasDefaults = false;\n\n    expect(_parenL);\n    for (;;) {\n      if (eat(_parenR)) {\n        break;\n      } else if (options.ecmaVersion >= 6 && eat(_ellipsis)) {\n        node.rest = toAssignable(parseExprAtom(), false, true);\n        checkSpreadAssign(node.rest);\n        expect(_parenR);\n        break;\n      } else {\n        node.params.push(options.ecmaVersion >= 6 ? toAssignable(parseExprAtom(), false, true) : parseIdent());\n        if (options.ecmaVersion >= 6 && tokType === _eq) {\n          next();\n          hasDefaults = true;\n          defaults.push(parseExpression(true));\n        }\n        if (!eat(_comma)) {\n          expect(_parenR);\n          break;\n        }\n      }\n    }\n\n    if (hasDefaults) node.defaults = defaults;\n  }\n\n  // Parse function body and check parameters.\n\n  function parseFunctionBody(node, allowExpression) {\n    var isExpression = allowExpression && tokType !== _braceL;\n\n    if (isExpression) {\n      node.body = parseExpression(true);\n      node.expression = true;\n    } else {\n      // Start a new scope with regard to labels and the `inFunction`\n      // flag (restore them to their old value afterwards).\n      var oldInFunc = inFunction, oldInGen = inGenerator, oldLabels = labels;\n      inFunction = true; inGenerator = node.generator; labels = [];\n      node.body = parseBlock(true);\n      node.expression = false;\n      inFunction = oldInFunc; inGenerator = oldInGen; labels = oldLabels;\n    }\n\n    // If this is a strict mode function, verify that argument names\n    // are not repeated, and it does not try to bind the words `eval`\n    // or `arguments`.\n    if (strict || !isExpression && node.body.body.length && isUseStrict(node.body.body[0])) {\n      var nameHash = {};\n      if (node.id)\n        checkFunctionParam(node.id, nameHash);\n      for (var i = 0; i < node.params.length; i++)\n        checkFunctionParam(node.params[i], nameHash);\n      if (node.rest)\n        checkFunctionParam(node.rest, nameHash);\n    }\n  }\n\n  // Parse a class declaration or literal (depending on the\n  // `isStatement` parameter).\n\n  function parseClass(node, isStatement) {\n    next();\n    node.id = tokType === _name ? parseIdent() : isStatement ? unexpected() : null;\n    node.superClass = eat(_extends) ? parseExpression() : null;\n    var classBody = startNode(), methodHash = {}, staticMethodHash = {};\n    classBody.body = [];\n    expect(_braceL);\n    while (!eat(_braceR)) {\n      var method = startNode();\n      if (tokType === _name && tokVal === \"static\") {\n        next();\n        method['static'] = true;\n      } else {\n        method['static'] = false;\n      }\n      var isGenerator = eat(_star);\n      parsePropertyName(method);\n      if (tokType === _name && !method.computed && method.key.type === \"Identifier\" &&\n          (method.key.name === \"get\" || method.key.name === \"set\")) {\n        if (isGenerator) unexpected();\n        method.kind = method.key.name;\n        parsePropertyName(method);\n      } else {\n        method.kind = \"\";\n      }\n      method.value = parseMethod(isGenerator);\n      checkPropClash(method, method['static'] ? staticMethodHash : methodHash);\n      classBody.body.push(finishNode(method, \"MethodDefinition\"));\n      eat(_semi);\n    }\n    node.body = finishNode(classBody, \"ClassBody\");\n    return finishNode(node, isStatement ? \"ClassDeclaration\" : \"ClassExpression\");\n  }\n\n  // Parses a comma-separated list of expressions, and returns them as\n  // an array. `close` is the token type that ends the list, and\n  // `allowEmpty` can be turned on to allow subsequent commas with\n  // nothing in between them to be parsed as `null` (which is needed\n  // for array literals).\n\n  function parseExprList(close, allowTrailingComma, allowEmpty) {\n    var elts = [], first = true;\n    while (!eat(close)) {\n      if (!first) {\n        expect(_comma);\n        if (allowTrailingComma && options.allowTrailingCommas && eat(close)) break;\n      } else first = false;\n\n      if (allowEmpty && tokType === _comma) elts.push(null);\n      else elts.push(parseExpression(true));\n    }\n    return elts;\n  }\n\n  // Parse the next token as an identifier. If `liberal` is true (used\n  // when parsing properties), it will also convert keywords into\n  // identifiers.\n\n  function parseIdent(liberal) {\n    var node = startNode();\n    if (liberal && options.forbidReserved == \"everywhere\") liberal = false;\n    if (tokType === _name) {\n      if (!liberal &&\n          (options.forbidReserved &&\n           (options.ecmaVersion === 3 ? isReservedWord3 : isReservedWord5)(tokVal) ||\n           strict && isStrictReservedWord(tokVal)) &&\n          input.slice(tokStart, tokEnd).indexOf(\"\\\\\") == -1)\n        raise(tokStart, \"The keyword '\" + tokVal + \"' is reserved\");\n      node.name = tokVal;\n    } else if (liberal && tokType.keyword) {\n      node.name = tokType.keyword;\n    } else {\n      unexpected();\n    }\n    tokRegexpAllowed = false;\n    next();\n    return finishNode(node, \"Identifier\");\n  }\n\n  // Parses module export declaration.\n\n  function parseExport(node) {\n    next();\n    // export var|const|let|function|class ...;\n    if (tokType === _var || tokType === _const || tokType === _let || tokType === _function || tokType === _class) {\n      node.declaration = parseStatement();\n      node['default'] = false;\n      node.specifiers = null;\n      node.source = null;\n    } else\n    // export default ...;\n    if (eat(_default)) {\n      node.declaration = parseExpression(true);\n      node['default'] = true;\n      node.specifiers = null;\n      node.source = null;\n      semicolon();\n    } else {\n      // export * from '...'\n      // export { x, y as z } [from '...']\n      var isBatch = tokType === _star;\n      node.declaration = null;\n      node['default'] = false;\n      node.specifiers = parseExportSpecifiers();\n      if (tokType === _name && tokVal === \"from\") {\n        next();\n        node.source = tokType === _string ? parseExprAtom() : unexpected();\n      } else {\n        if (isBatch) unexpected();\n        node.source = null;\n      }\n    }\n    return finishNode(node, \"ExportDeclaration\");\n  }\n\n  // Parses a comma-separated list of module exports.\n\n  function parseExportSpecifiers() {\n    var nodes = [], first = true;\n    if (tokType === _star) {\n      // export * from '...'\n      var node = startNode();\n      next();\n      nodes.push(finishNode(node, \"ExportBatchSpecifier\"));\n    } else {\n      // export { x, y as z } [from '...']\n      expect(_braceL);\n      while (!eat(_braceR)) {\n        if (!first) {\n          expect(_comma);\n          if (options.allowTrailingCommas && eat(_braceR)) break;\n        } else first = false;\n\n        var node = startNode();\n        node.id = parseIdent();\n        if (tokType === _name && tokVal === \"as\") {\n          next();\n          node.name = parseIdent(true);\n        } else {\n          node.name = null;\n        }\n        nodes.push(finishNode(node, \"ExportSpecifier\"));\n      }\n    }\n    return nodes;\n  }\n\n  // Parses import declaration.\n\n  function parseImport(node) {\n    next();\n    // import '...';\n    if (tokType === _string) {\n      node.specifiers = [];\n      node.source = parseExprAtom();\n      node.kind = \"\";\n    } else {\n      node.specifiers = parseImportSpecifiers();\n      if (tokType !== _name || tokVal !== \"from\") unexpected();\n      next();\n      node.source = tokType === _string ? parseExprAtom() : unexpected();\n      // only for backward compatibility with Esprima's AST\n      // (it doesn't support mixed default + named yet)\n      node.kind = node.specifiers[0]['default'] ? \"default\" : \"named\";\n    }\n    return finishNode(node, \"ImportDeclaration\");\n  }\n\n  // Parses a comma-separated list of module imports.\n\n  function parseImportSpecifiers() {\n    var nodes = [], first = true;\n    if (tokType === _star) {\n      var node = startNode();\n      next();\n      if (tokType !== _name || tokVal !== \"as\") unexpected();\n      next();\n      node.name = parseIdent();\n      checkLVal(node.name, true);\n      nodes.push(finishNode(node, \"ImportBatchSpecifier\"));\n      return nodes;\n    }\n    if (tokType === _name) {\n      // import defaultObj, { x, y as z } from '...'\n      var node = startNode();\n      node.id = parseIdent();\n      checkLVal(node.id, true);\n      node.name = null;\n      node['default'] = true;\n      nodes.push(finishNode(node, \"ImportSpecifier\"));\n      if (!eat(_comma)) return nodes;\n    }\n    expect(_braceL);\n    while (!eat(_braceR)) {\n      if (!first) {\n        expect(_comma);\n        if (options.allowTrailingCommas && eat(_braceR)) break;\n      } else first = false;\n\n      var node = startNode();\n      node.id = parseIdent(true);\n      if (tokType === _name && tokVal === \"as\") {\n        next();\n        node.name = parseIdent();\n      } else {\n        node.name = null;\n      }\n      checkLVal(node.name || node.id, true);\n      node['default'] = false;\n      nodes.push(finishNode(node, \"ImportSpecifier\"));\n    }\n    return nodes;\n  }\n\n  // Parses yield expression inside generator.\n\n  function parseYield() {\n    var node = startNode();\n    next();\n    if (eat(_semi) || canInsertSemicolon()) {\n      node.delegate = false;\n      node.argument = null;\n    } else {\n      node.delegate = eat(_star);\n      node.argument = parseExpression(true);\n    }\n    return finishNode(node, \"YieldExpression\");\n  }\n\n  // Parses array and generator comprehensions.\n\n  function parseComprehension(node, isGenerator) {\n    node.blocks = [];\n    while (tokType === _for) {\n      var block = startNode();\n      next();\n      expect(_parenL);\n      block.left = toAssignable(parseExprAtom());\n      checkLVal(block.left, true);\n      if (tokType !== _name || tokVal !== \"of\") unexpected();\n      next();\n      // `of` property is here for compatibility with Esprima's AST\n      // which also supports deprecated [for (... in ...) expr]\n      block.of = true;\n      block.right = parseExpression();\n      expect(_parenR);\n      node.blocks.push(finishNode(block, \"ComprehensionBlock\"));\n    }\n    node.filter = eat(_if) ? parseParenExpression() : null;\n    node.body = parseExpression();\n    expect(isGenerator ? _parenR : _bracketR);\n    node.generator = isGenerator;\n    return finishNode(node, \"ComprehensionExpression\");\n  }\n\n});\n\n},{}],36:[function(require,module,exports){\n(function (global){\n; var __browserify_shim_require__=require;(function browserifyShim(module, exports, require, define, browserify_shim__define__module__export__) {\n/*\n * QuadTree Implementation in JavaScript\n * @author: silflow <https://github.com/silflow>\n *\n * Usage:\n * To create a new empty Quadtree, do this:\n * var tree = QUAD.init(args)\n *\n * args = {\n *    // mandatory fields\n *    x : x coordinate\n *    y : y coordinate\n *    w : width\n *    h : height\n *\n *    // optional fields\n *    maxChildren : max children per node\n *    maxDepth : max depth of the tree\n *}\n *\n * API:\n * tree.insert() accepts arrays or single items\n * every item must have a .x, .y, .w, and .h property. if they don't, the tree will break.\n *\n * tree.retrieve(selector, callback) calls the callback for all objects that are in\n * the same region or overlapping.\n *\n * tree.clear() removes all items from the quadtree.\n */\n\nvar QUAD = {}; // global var for the quadtree\n\nQUAD.init = function (args) {\n\n    var node;\n    var TOP_LEFT     = 0;\n    var TOP_RIGHT    = 1;\n    var BOTTOM_LEFT  = 2;\n    var BOTTOM_RIGHT = 3;\n    var PARENT       = 4;\n\n    // assign default values\n    args.maxChildren = args.maxChildren || 2;\n    args.maxDepth = args.maxDepth || 4;\n\n    /**\n     * Node creator. You should never create a node manually. the algorithm takes\n     * care of that for you.\n     */\n    node = function (x, y, w, h, depth, maxChildren, maxDepth) {\n\n        var items = [], // holds all items\n            nodes = []; // holds all child nodes\n\n        // returns a fresh node object\n        return {\n\n            x : x, // top left point\n            y : y, // top right point\n            w : w, // width\n            h : h, // height\n            depth : depth, // depth level of the node\n\n            /**\n             * iterates all items that match the selector and invokes the supplied callback on them.\n             */\n            retrieve: function(item, callback, instance) {\n                for (var i = 0; i < items.length; ++i) {\n                   (instance) ? callback.call(instance, items[i]) : callback(items[i]); \n                }\n                // check if node has subnodes\n                if (nodes.length) {\n                    // call retrieve on all matching subnodes\n                    this.findOverlappingNodes(item, function(dir) {\n                        nodes[dir].retrieve(item, callback, instance);\n                    });\n                }\n            },\n\n            /**\n             * Adds a new Item to the node.\n             *\n             * If the node already has subnodes, the item gets pushed down one level.\n             * If the item does not fit into the subnodes, it gets saved in the\n             * \"children\"-array.\n             *\n             * If the maxChildren limit is exceeded after inserting the item,\n             * the node gets divided and all items inside the \"children\"-array get\n             * pushed down to the new subnodes.\n             */\n            insert : function (item) {\n\n                var i;\n\n                if (nodes.length) {\n                    // get the node in which the item fits best\n                    i = this.findInsertNode(item);\n                    if (i === PARENT) {\n                        // if the item does not fit, push it into the\n                        // children array\n                        items.push(item);\n                    } else {\n                        nodes[i].insert(item);\n                    }\n                } else {\n                    items.push(item);\n                    //divide the node if maxChildren is exceeded and maxDepth is not reached\n                    if (items.length > maxChildren && this.depth < maxDepth) {\n                        this.divide();\n                    }\n                }\n            },\n\n            /**\n             * Find a node the item should be inserted in.\n             */\n            findInsertNode : function (item) {\n                // left\n                if (item.x + item.w < x + (w / 2)) {\n                    if (item.y + item.h < y + (h / 2)) {\n\t\t\t\t\t\treturn TOP_LEFT;\n\t\t\t\t\t}\n                    if (item.y >= y + (h / 2)) {\n\t\t\t\t\t\treturn BOTTOM_LEFT;\n\t\t\t\t\t}\n                    return PARENT;\n                }\n\n                // right\n                if (item.x >= x + (w / 2)) {\n                    if (item.y + item.h < y + (h / 2)) {\n\t\t\t\t\t\treturn TOP_RIGHT;\n\t\t\t\t\t}\n                    if (item.y >= y + (h / 2)) {\n\t\t\t\t\t\treturn BOTTOM_RIGHT;\n\t\t\t\t\t}\n                    return PARENT;\n                }\n\n                return PARENT;\n            },\n\n            /**\n             * Finds the regions the item overlaps with. See constants defined\n             * above. The callback is called for every region the item overlaps.\n             */\n            findOverlappingNodes : function (item, callback) {\n                // left\n                if (item.x < x + (w / 2)) {\n                    if (item.y < y + (h / 2)) {\n\t\t\t\t\t\tcallback(TOP_LEFT);\n\t\t\t\t\t}\n                    if (item.y + item.h >= y + h / 2) {\n\t\t\t\t\t\tcallback(BOTTOM_LEFT);\n\t\t\t\t\t}\n                }\n                // right\n                if (item.x + item.w >= x + (w / 2)) {\n                    if (item.y < y + (h / 2)) {\n\t\t\t\t\t\tcallback(TOP_RIGHT);\n\t\t\t\t\t}\n                    if (item.y + item.h >= y + h / 2) {\n\t\t\t\t\t\tcallback(BOTTOM_RIGHT);\n\t\t\t\t\t}\n                }\n            },\n\n            /**\n             * Divides the current node into four subnodes and adds them\n             * to the nodes array of the current node. Then reinserts all\n             * children.\n             */\n            divide : function () {\n                var width, height, i, oldChildren;\n                var childrenDepth = this.depth + 1;\n                // set dimensions of the new nodes\n                width = (w / 2);\n                height = (h / 2);\n                // create top left node\n                nodes.push(node(this.x, this.y, width, height, childrenDepth, maxChildren, maxDepth));\n                // create top right node\n                nodes.push(node(this.x + width, this.y, width, height, childrenDepth, maxChildren, maxDepth));\n                // create bottom left node\n                nodes.push(node(this.x, this.y + height, width, height, childrenDepth, maxChildren, maxDepth));\n                // create bottom right node\n                nodes.push(node(this.x + width, this.y + height, width, height, childrenDepth, maxChildren, maxDepth));\n\n                oldChildren = items;\n                items = [];\n                for (i = 0; i < oldChildren.length; i++) {\n                    this.insert(oldChildren[i]);\n                }\n            },\n\n            /**\n             * Clears the node and all its subnodes.\n             */\n            clear : function () {\n\t\t\t\tvar i;\n                for (i = 0; i < nodes.length; i++) {\n\t\t\t\t\tnodes[i].clear();\n\t\t\t\t}\n                items.length = 0;\n                nodes.length = 0;\n            },\n\n            /*\n             * convenience method: is not used in the core algorithm.\n             * ---------------------------------------------------------\n             * returns this nodes subnodes. this is usful if we want to do stuff\n             * with the nodes, i.e. accessing the bounds of the nodes to draw them\n             * on a canvas for debugging etc...\n             */\n            getNodes : function () {\n                return nodes.length ? nodes : false;\n            }\n        };\n    };\n\n    return {\n\n        root : (function () {\n            return node(args.x, args.y, args.w, args.h, 0, args.maxChildren, args.maxDepth);\n        }()),\n\n        insert : function (item) {\n\n            var len, i;\n\n            if (item instanceof Array) {\n                len = item.length;\n                for (i = 0; i < len; i++) {\n                    this.root.insert(item[i]);\n                }\n\n            } else {\n                this.root.insert(item);\n            }\n        },\n\n        retrieve : function (selector, callback, instance) {\n            return this.root.retrieve(selector, callback, instance);\n        },\n\n        clear : function () {\n            this.root.clear();\n        }\n    };\n};\n\n; browserify_shim__define__module__export__(typeof QUAD != \"undefined\" ? QUAD : window.QUAD);\n\n}).call(global, undefined, undefined, undefined, undefined, function defineExport(ex) { module.exports = ex; });\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}]},{},[30])(30)\n});"]}